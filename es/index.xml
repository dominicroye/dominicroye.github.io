<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dominic Royé on Dominic Royé</title>
    <link>https://dominicroye.github.io/es/</link>
    <description>Recent content in Dominic Royé on Dominic Royé</description>
    <generator>Hugo -- gohugo.io</generator>
    <copyright>&amp;copy; 2018-2021 Dominic Royé. All rights reserved.</copyright>
    <lastBuildDate>Tue, 11 May 2021 00:00:00 +0200</lastBuildDate>
    <atom:link href="/es/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Clima y tiempo</title>
      <link>https://dominicroye.github.io/es/graphs/climate/</link>
      <pubDate>Tue, 11 May 2021 00:00:00 +0200</pubDate>
      
      <guid>https://dominicroye.github.io/es/graphs/climate/</guid>
      <description>

&lt;p&gt;&lt;center&gt;&lt;/p&gt;

&lt;h2 id=&#34;videos&#34;&gt;Videos&lt;/h2&gt;

&lt;p&gt;&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/547991537&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

The average temperature of 24 hours in August 2020 for Europe. Data: &lt;a href=&#34;https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-land?tab=overview&#34; target=&#34;_blank&#34;&gt;ERA5-Land&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/547988062&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

The average temperature of 24 hours in January 2020. Data: &lt;a href=&#34;https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-land?tab=overview&#34; target=&#34;_blank&#34;&gt;ERA5-Land&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/463433737&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

Smoothed daily rainfall throughout the year in Australia. Data: &lt;a href=&#34;https://www.longpaddock.qld.gov.au/silo/&#34; target=&#34;_blank&#34;&gt;SILO&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/456174777&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

Smoothed daily maximum temperature throughout the year in Australia. Data: &lt;a href=&#34;https://www.longpaddock.qld.gov.au/silo/&#34; target=&#34;_blank&#34;&gt;SILO&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/423985141&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

How do the spatial patterns of daily precipitation change throughout the year in Europe? Data: &lt;a href=&#34;https://surfobs.climate.copernicus.eu/dataaccess/access_eobs.php&#34; target=&#34;_blank&#34;&gt;E-OBS&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/423994388&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

Smoothed daily maximum temperature throughout the year in the contiguous USA. Data: &lt;a href=&#34;http://www.prism.oregonstate.edu/&#34; target=&#34;_blank&#34;&gt;PRISM&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/423985180&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

Smoothed daily maximum temperature throughout the year in Europe. Data: &lt;a href=&#34;https://surfobs.climate.copernicus.eu/dataaccess/access_eobs.php&#34; target=&#34;_blank&#34;&gt;E-OBS&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/423985224&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

How do the spatial patterns of daily precipitation change throughout the year in mainland Spain and the Balearic Islands? Data: &lt;a href=&#34;https://digital.csic.es/handle/10261/141218&#34; target=&#34;_blank&#34;&gt;SPREAD&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/423985381&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

Smoothed daily sea surface temperature throughout the year for the Northeast Atlantic, the Mediterranean, North and Black Sea. Data: &lt;a href=&#34;https://data.nodc.noaa.gov/cgi-bin/iso?id=gov.noaa.ncdc:C00680&#34; target=&#34;_blank&#34;&gt;NOAA/NODC&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/423986810&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

Probability of a summer day (maximum temperature greater than 25ºC/77ºF) through the year in Europe. Data: &lt;a href=&#34;https://surfobs.climate.copernicus.eu/dataaccess/access_eobs.php&#34; target=&#34;_blank&#34;&gt;E-OBS&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/423984146&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

Probability of a summer day (maximum temperature greater than 25ºC/77ºF) through the year in the Contiguous United States. Data: &lt;a href=&#34;http://www.prism.oregonstate.edu/&#34; target=&#34;_blank&#34;&gt;PRISM&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/361834516&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

Probability of a summer day (maximum temperature greater than 25ºC) through the year in Australia. Data: &lt;a href=&#34;https://www.longpaddock.qld.gov.au/silo/&#34; target=&#34;_blank&#34;&gt;SILO&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/310077447&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

Probability of a frost day (minimum temperature less than 0ºC) through the year in Europe. Data: &lt;a href=&#34;http://c3surf.knmi.nl/dataaccess/access_eobs.php&#34; target=&#34;_blank&#34;&gt;E-OBS 18e&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/310070253&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

Probability of a frost day (minimum temperature less than 0ºC/32ºF) through the year in the Contiguous United States. Data: &lt;a href=&#34;https://developers.google.com/earth-engine/datasets/catalog/OREGONSTATE_PRISM_AN81m&#34; target=&#34;_blank&#34;&gt;PRISM&lt;/a&gt;. Platform: &lt;a href=&#34;https://earthengine.google.com/&#34; target=&#34;_blank&#34;&gt;Google Earth Engine&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;&lt;/p&gt;

&lt;h2 id=&#34;gráficos&#34;&gt;Gráficos&lt;/h2&gt;

&lt;p&gt;&lt;/center&gt;&lt;/p&gt;



&lt;div class=&#34;gallery&#34;&gt;

  
  
  
  


  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;¿Cómo fue el año 2019? Calendario de viento para el año 2019 en Santiago de Compostela.&#34; href=&#34;https://dominicroye.github.io/img/album/Santiago_viento_2019.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Santiago_viento_2019.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;¿Cómo fue el año 2019? Calendario de viento para el año 2019 en Santiago de Compostela. Applicación: &lt;a href=&#34;https://xeo81.shinyapps.io/MeteoExtremosGalicia/&#34; target=&#34;_blank&#34;&gt;MeteoExtremos Galicia&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;¿Cómo fue el año 2019? Calendario de la temperatura máxima para el año 2019 en Santiago de Compostela.&#34; href=&#34;https://dominicroye.github.io/img/album/Santiago_tmax_2019.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Santiago_tmax_2019.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;¿Cómo fue el año 2019? Calendario de la temperatura máxima para el año 2019 en Santiago de Compostela. Applicación: &lt;a href=&#34;https://xeo81.shinyapps.io/MeteoExtremosGalicia/&#34; target=&#34;_blank&#34;&gt;MeteoExtremos Galicia&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;¿Cómo fue el año 2019? Calendario de precipitación diaria para el año 2019 en Santiago de Compostela.&#34; href=&#34;https://dominicroye.github.io/img/album/Santiago_precip_diaria_2019.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Santiago_precip_diaria_2019.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;¿Cómo fue el año 2019? Calendario de precipìtación diaria para el año 2019 en Santiago de Compostela. Applicación: &lt;a href=&#34;https://xeo81.shinyapps.io/MeteoExtremosGalicia/&#34; target=&#34;_blank&#34;&gt;MeteoExtremos Galicia&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Anomalías de horas de sol entre 1983-2019 para la Península Ibérica.&#34; href=&#34;https://dominicroye.github.io/img/album/horas_sol_anomalias.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/horas_sol_anomalias.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Anomalías de horas de sol entre 1983-2019 para la Península Ibérica. Datos: &lt;a href=&#34;https://www.eumetsat.int/&#34; target=&#34;_blank&#34;&gt;EUMETSAT&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Anomalías de horas de sol entre 1983-2017 para Francia.&#34; href=&#34;https://dominicroye.github.io/img/album/horas_sol_anomalias_fr.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/horas_sol_anomalias_fr.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Anomalías de horas de sol entre 1983-2017 para Francia. Datos: &lt;a href=&#34;https://www.eumetsat.int/&#34; target=&#34;_blank&#34;&gt;EUMETSAT&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Anomalías de horas de sol entre 1983-2017 para Alemania.&#34; href=&#34;https://dominicroye.github.io/img/album/horas_sol_anomalias_ger.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/horas_sol_anomalias_ger.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Anomalías de horas de sol entre 1983-2017 para Alemania. Datos: &lt;a href=&#34;https://www.eumetsat.int/&#34; target=&#34;_blank&#34;&gt;EUMETSAT&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Anomalías menusales de horas de sol en 2017 para Santiago de Compostela.&#34; href=&#34;https://dominicroye.github.io/img/album/ss_anomaly2017_scq.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/ss_anomaly2017_scq.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Anomalías de horas de sol en 2017 para Santiago de Compostela. Datos: &lt;a href=&#34;https://www.eumetsat.int/&#34; target=&#34;_blank&#34;&gt;EUMETSAT&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;¿A qué hora se suelen alcanzar las temperaturas máximas o mínimas? Aquí la distribución para Santiago de Compostela.&#34; href=&#34;https://dominicroye.github.io/img/album/horas_mx_min_SCQ.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/horas_mx_min_SCQ.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;¿A qué hora se suelen alcanzar las temperaturas máximas o mínimas? Aquí la distribución para Santiago de Compostela. Datos: &lt;a href=&#34;https://www.meteogalicia.gal/&#34; target=&#34;_blank&#34;&gt;Meteogalicia&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;¿A qué hora se suelen alcanzar las temperaturas máximas o mínimas? Aquí la distribución para Vigo.&#34; href=&#34;https://dominicroye.github.io/img/album/horas_mx_min_VIGO.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/horas_mx_min_VIGO.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;¿A qué hora se suelen alcanzar las temperaturas máximas o mínimas? Aquí la distribución para Vigo. Datos: &lt;a href=&#34;https://www.meteogalicia.gal/&#34; target=&#34;_blank&#34;&gt;Meteogalicia&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Comparison between the period 1950-1979 and 1980-2019 for the average number of days with minimum temperature above 20ºC in Europe&#34; href=&#34;https://dominicroye.github.io/img/album/europe_tropical.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/europe_tropical.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Comparison between the period 1950-1979 and 1980-2019 for the average number of days with minimum temperature above 20ºC in Europe. Data: &lt;a href=&#34;http://surfobs.climate.copernicus.eu/dataaccess/access_eobs.php#datafiles&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Comparison between the period 1950-1979 and 1980-2019 for the average number of days with maximum temperature above 40ºC&#34; href=&#34;https://dominicroye.github.io/img/album/d%c3%adas_calorosos.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/d%c3%adas_calorosos.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Comparison between the period 1950-1979 and 1980-2019 for the average number of days with maximum temperature above 40ºC. Data: &lt;a href=&#34;http://surfobs.climate.copernicus.eu/dataaccess/access_eobs.php#datafiles&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Comparison between the period 1950-1979 and 1980-2019 for the average number of days with minimum temperature above 20ºC&#34; href=&#34;https://dominicroye.github.io/img/album/noches_tropicales.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/noches_tropicales.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Comparison between the period 1950-1979 and 1980-2019 for the average number of days with minimum temperature above 20ºC. Data: &lt;a href=&#34;http://surfobs.climate.copernicus.eu/dataaccess/access_eobs.php#datafiles&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Las fechas en las que alcanzamos de media las temperaturas máximas más altas del año en Europa.&#34; href=&#34;https://dominicroye.github.io/img/album/europe_max_year_time.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/europe_max_year_time.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;La canícula empieza de media a partir del 24 de julio. Es interesante que en la fachada atlántica las temperaturas más altas son habituales a partir del 8 de agosto, un retraso debido al efecto del océano atlántico. Datos: &lt;a href=&#34;http://surfobs.climate.copernicus.eu/dataaccess/access_eobs.php#datafiles&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Hurricane Irma and Jose. Surface wind conditions on September 6, 2017 at 23:00 PM.&#34; href=&#34;https://dominicroye.github.io/img/album/borrasca_2017.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/borrasca_2017.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Hurricane Irma and Jose. Surface wind conditions on September 6, 2017 at 23:00 PM. Data: ERA-5/Copernicus&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Ex-Hurrican Leslie. Surface wind conditions on October 14, 2018 at 00:00 AM.&#34; href=&#34;https://dominicroye.github.io/img/album/leslie_stream.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/leslie_stream.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Ex-Hurrican Leslie. Surface wind conditions on October 14, 2018 at 00:00 AM. Data: ERA-5/Copernicus&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Comparison of extreme temperatures 2011-2019 in Spain&#34; href=&#34;https://dominicroye.github.io/img/album/extreme_temperature_espa%c3%b1a.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/extreme_temperature_espa%c3%b1a.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Comparison of extreme temperatures 2011-2019 in Spain. Data: &lt;a href=&#34;https://opendata.aemet.es/centrodedescargas/inicio&#34; target=&#34;_blank&#34;&gt;AEMET OPEN&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Probability of a summer day (maximum temperature &amp;gt; 25ºC) throughout the year for three cities in Spain&#34; href=&#34;https://dominicroye.github.io/img/album/summer_prob_compara.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/summer_prob_compara.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Probability of a summer day (maximum temperature &amp;gt; 25ºC) throughout the year for three cities in Spain. Data: &lt;a href=&#34;https://opendata.aemet.es/centrodedescargas/inicio&#34; target=&#34;_blank&#34;&gt;AEMET OPEN&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Degree of cloudiness in April 2020 in the Iberian Peninsula.&#34; href=&#34;https://dominicroye.github.io/img/album/nubosidad_abril2020.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/nubosidad_abril2020.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;This April 2020 has been extraordinarily cloudy. 90% of the Iberian Peninsula has experienced a cloudiness greater than 86% (normal would be 65%). Data: &lt;a href=&#34;https://explorer.earthengine.google.com/#detail/MODIS%2F006%2FMOD09GA&#34; target=&#34;_blank&#34;&gt;NASA/MODIS&lt;/a&gt;. Platform: &lt;a href=&#34;https://earthengine.google.com/&#34; target=&#34;_blank&#34;&gt;Google Earth Engine&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Grado de nubosidad en noviembre 2019 en la Península Ibérica.&#34; href=&#34;https://dominicroye.github.io/img/album/nubosidad_noviembre_pi_2019.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/nubosidad_noviembre_pi_2019.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Este noviembre 2019 ha sido extraordinariamente nublado. El 90% de la Península Ibérica ha vivido una nubosidad superior al 90% (lo normal serían 70%). Datos: &lt;a href=&#34;https://explorer.earthengine.google.com/#detail/MODIS%2F006%2FMOD09GA&#34; target=&#34;_blank&#34;&gt;NASA/MODIS&lt;/a&gt;. Plataforma: &lt;a href=&#34;https://earthengine.google.com/&#34; target=&#34;_blank&#34;&gt;Google Earth Engine&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Índice de Concentración de la precipitación diaria en EEUU.&#34; href=&#34;https://dominicroye.github.io/img/album/CI_prism.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/CI_prism.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Índice de Concentración de la precipitación diaria en EEUU. Datos: &lt;a href=&#34;http://www.prism.oregonstate.edu/&#34; target=&#34;_blank&#34;&gt;PRISM&lt;/a&gt;. Más detalles &lt;a href=&#34;https://github.com/dominicroye/Concentration_Index_USA&#34; target=&#34;_blank&#34;&gt;aquí&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Promedio de Grados Día de Calefacción y Refrigeración (1950-2018) en España.&#34; href=&#34;https://dominicroye.github.io/img/album/gradosdia.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/gradosdia.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Promedio de Grados Día de Calefacción y Refrigeración (1950-2018) en España. Como valor de referencia he usado 15.5ºC y 22ºC de temperatura media diaria, respectivamente. Datos: &lt;a href=&#34;http://surfobs.climate.copernicus.eu/dataaccess/access_eobs.php#datafiles&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Las anomalías invernales de temperatura y precipitación en Santander.&#34; href=&#34;https://dominicroye.github.io/img/album/anomalias_Santander.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/anomalias_Santander.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Las anomalías invernales de temperatura y precipitación en Santander. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Las anomalías invernales de temperatura y precipitación en Sevilla.&#34; href=&#34;https://dominicroye.github.io/img/album/anomalias_Sevilla.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/anomalias_Sevilla.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Las anomalías invernales de temperatura y precipitación en Sevilla. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Las anomalías invernales de temperatura y precipitación en Santiago.&#34; href=&#34;https://dominicroye.github.io/img/album/anomalias_Santiago.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/anomalias_Santiago.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Las anomalías invernales de temperatura y precipitación en Santiago. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Las anomalías invernales de temperatura y precipitación en Valencia.&#34; href=&#34;https://dominicroye.github.io/img/album/anomalias_Valencia.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/anomalias_Valencia.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Las anomalías invernales de temperatura y precipitación en Valencia. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Las anomalías invernales de temperatura y precipitación en A Coruña.&#34; href=&#34;https://dominicroye.github.io/img/album/anomalias_A%20Coru%c3%b1a.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/anomalias_A%20Coru%c3%b1a.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Las anomalías invernales de temperatura y precipitación en A Coruña. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Anomalías de la temperatura media diaria en invierno de Madrid.&#34; href=&#34;https://dominicroye.github.io/img/album/Madrid_invierno.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Madrid_invierno.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Anomalías de la temperatura media diaria en invierno de Madrid. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;. Las series temporales se homogeneizaron con &lt;a href=&#34;http://www.climatol.eu/&#34; target=&#34;_blank&#34;&gt;climatol&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Anomalías de la temperatura media diaria en invierno de Santander.&#34; href=&#34;https://dominicroye.github.io/img/album/Santander_invierno.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Santander_invierno.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Anomalías de la temperatura media diaria en invierno de Santander. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;. Las series temporales se homogeneizaron con &lt;a href=&#34;http://www.climatol.eu/&#34; target=&#34;_blank&#34;&gt;climatol&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Anomalías de la temperatura media diaria en invierno de Barcelona.&#34; href=&#34;https://dominicroye.github.io/img/album/Barcelona_invierno.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Barcelona_invierno.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Anomalías de la temperatura media diaria en invierno de Barcelona. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;. Las series temporales se homogeneizaron con &lt;a href=&#34;http://www.climatol.eu/&#34; target=&#34;_blank&#34;&gt;climatol&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Anomalías de la temperatura media diaria en invierno de Santiago.&#34; href=&#34;https://dominicroye.github.io/img/album/Santiago_invierno.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Santiago_invierno.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Anomalías de la temperatura media diaria en invierno de Santiago. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;. Las series temporales se homogeneizaron con &lt;a href=&#34;http://www.climatol.eu/&#34; target=&#34;_blank&#34;&gt;climatol&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Anomalías de la temperatura media diaria en invierno de Bilbao.&#34; href=&#34;https://dominicroye.github.io/img/album/Bilbao_invierno.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Bilbao_invierno.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Anomalías de la temperatura media diaria en invierno de Bilbao. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;. Las series temporales se homogeneizaron con &lt;a href=&#34;http://www.climatol.eu/&#34; target=&#34;_blank&#34;&gt;climatol&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Anomalías de la temperatura media diaria en invierno de Sevilla.&#34; href=&#34;https://dominicroye.github.io/img/album/Sevilla_invierno.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Sevilla_invierno.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Anomalías de la temperatura media diaria en invierno de Sevilla. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;. Las series temporales se homogeneizaron con &lt;a href=&#34;http://www.climatol.eu/&#34; target=&#34;_blank&#34;&gt;climatol&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Anomalías de la temperatura media diaria en invierno de A Coruña.&#34; href=&#34;https://dominicroye.github.io/img/album/A%20Coru%c3%b1a_invierno.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/A%20Coru%c3%b1a_invierno.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Anomalías de la temperatura media diaria en invierno de A Coruña. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;. Las series temporales se homogeneizaron con &lt;a href=&#34;http://www.climatol.eu/&#34; target=&#34;_blank&#34;&gt;climatol&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Anomalías de la temperatura media diaria en invierno de Málaga.&#34; href=&#34;https://dominicroye.github.io/img/album/Malaga_invierno.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Malaga_invierno.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Anomalías de la temperatura media diaria en invierno de Málaga. Datos: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;. Las series temporales se homogeneizaron con &lt;a href=&#34;http://www.climatol.eu/&#34; target=&#34;_blank&#34;&gt;climatol&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Promedio del primer día de verano en Europa.&#34; href=&#34;https://dominicroye.github.io/img/album/first_summer.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/first_summer.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Promedio del primer día de verano en Europa (temperatura máxima &amp;gt;25ºC). Datos: &lt;a href=&#34;http://surfobs.climate.copernicus.eu/dataaccess/access_eobs.php#datafiles&#34; target=&#34;_blank&#34;&gt;E-OSB 18e&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribución del promedio del primer día de verano en Europa.&#34; href=&#34;https://dominicroye.github.io/img/album/density_firstsummer.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/density_firstsummer.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribución del promedio del primer día de verano en Europa (temperatura máxima &amp;gt;25ºC). Datos: &lt;a href=&#34;http://surfobs.climate.copernicus.eu/dataaccess/access_eobs.php#datafiles&#34; target=&#34;_blank&#34;&gt;E-OSB 18e&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Warming stripes for several Spanish cities.&#34; href=&#34;https://dominicroye.github.io/img/album/tiras_spain.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/tiras_spain.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Warming stripes for several Spanish cities. These graphs represent and communicate climate change in a very illustrative and effective way. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;. Time series were homogenized with &lt;a href=&#34;http://www.climatol.eu/&#34; target=&#34;_blank&#34;&gt;climatol&lt;/a&gt;. More: &lt;a href=&#34;https://dominicroye.github.io/en/2018/how-to-create-warming-stripes-in-r/&#34; target=&#34;_blank&#34;&gt;post&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Annual anomalies of precipitation (%) in peninsular Spain 1950-2012.&#34; href=&#34;https://dominicroye.github.io/img/album/anomalia_spread.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/anomalia_spread.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;62 years of annual anomalies of precipitation (%) in peninsular Spain in a single graphic. Data: &lt;a href=&#34;https://digital.csic.es/handle/10261/141218&#34; target=&#34;_blank&#34;&gt;SPREAD&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Summer anomaly of temperature and precipitation in Barcelona 1914-2018.&#34; href=&#34;https://dominicroye.github.io/img/album/anomalias_barcelona.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/anomalias_barcelona.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Summer anomaly of temperature and precipitation in Barcelona 1914-2018. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Summer anomaly of temperature and precipitation in Madrid 1920-2018.&#34; href=&#34;https://dominicroye.github.io/img/album/anomalias_Madrid.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/anomalias_Madrid.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Summer anomaly of temperature and precipitation in Madrid 1920-2018. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Summer anomaly of temperature and precipitation in Santiago de Compostela 1950-2018.&#34; href=&#34;https://dominicroye.github.io/img/album/anomalias_scq.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/anomalias_scq.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Summer anomaly of temperature and precipitation in Santiago de Compostela 1950-2018. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Monthly precipitation anomaly registered in Santiago de Compostela in 2017.&#34; href=&#34;https://dominicroye.github.io/img/album/pr_anomalia2017_scq.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/pr_anomalia2017_scq.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Monthly precipitation anomaly registered in Santiago de Compostela in 2017. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Monthly precipitation anomaly registered in Barcelona in 2018.&#34; href=&#34;https://dominicroye.github.io/img/album/pr_anomalia2018.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/pr_anomalia2018.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Monthly precipitation anomaly registered in Barcelona in 2018. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;, &lt;a href=&#34;https://opendata.aemet.es&#34; target=&#34;_blank&#34;&gt;opendata.aemet.es&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Average of consecutive days without rainfall 1950-2012.&#34; href=&#34;https://dominicroye.github.io/img/album/rachas_secas.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/rachas_secas.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Average of consecutive days without rainfall 1950-2012. Data: &lt;a href=&#34;https://digital.csic.es/handle/10261/141218&#34; target=&#34;_blank&#34;&gt;SPREAD&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Average of consecutive days without rainfall by seasons 1950-2012 in the Iberian Peninsula.&#34; href=&#34;https://dominicroye.github.io/img/album/rachas_estaciones.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/rachas_estaciones.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Average of consecutive days without rainfall by seasons 1950-2012 in the Iberian Peninsula. Data: &lt;a href=&#34;https://digital.csic.es/handle/10261/141218&#34; target=&#34;_blank&#34;&gt;SPREAD&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of temperature anomalies in autumn according to different decades in Barcelona.&#34; href=&#34;https://dominicroye.github.io/img/album/distribution_graph_bcn.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/distribution_graph_bcn.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of temperature anomalies in autumn according to different decades in Barcelona. You can clearly see how the autumn is getting warmer due to global warming. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of temperature anomalies in autumn according to different decades in Santiago de Compostela.&#34; href=&#34;https://dominicroye.github.io/img/album/distribution_temp.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/distribution_temp.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of temperature anomalies in autumn according to different decades in Santiago de Compostela. You can clearly see how the autumn is getting warmer due to global warming. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Climate circles for several Spanish cities.&#34; href=&#34;https://dominicroye.github.io/img/album/clima_circulos.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/clima_circulos.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Climate circles for several Spanish cities. For each day of the year the average of the maximum and minimum (bar length) and the average temperature (color) is indicated. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Climate circles for several European cities.&#34; href=&#34;https://dominicroye.github.io/img/album/clima_circulos_eu.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/clima_circulos_eu.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Climate circles for several European cities. For each day of the year the average of the maximum and minimum (bar length) and the average temperature (color) is indicated. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Graphic definition of climate and weather.&#34; href=&#34;https://dominicroye.github.io/img/album/clima_def.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/clima_def.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Graphic definition of climate and weather. The difference between weather and climate is particularly a scale of time. Single atmospheric conditions over a short period of time is weather, and climate is the statistical description of all these single condicions over a relatively long period of time.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Climate circles for several Chilean cities.&#34; href=&#34;https://dominicroye.github.io/img/album/climate_chile.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/climate_chile.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Climate circles for several Chilean cities. For each day of the year the average of the maximum and minimum (bar length) and the average temperature (color) is indicated. Data: &lt;a href=&#34;http://explorador.cr2.cl/&#34; target=&#34;_blank&#34;&gt;explorador.cr2.cl&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Summer month, mild winters, lot of sun and little wind, the climatic preferences for the Galician population.&#34; href=&#34;https://dominicroye.github.io/img/album/galicia_percepcion.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/galicia_percepcion.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Summer months, mild winters, lot of sun and little wind, the climatic preferences for the Galician population. Map is based on survey results. More: &lt;a href=&#34;https://t.co/tfwrANxqHz&#34; target=&#34;_blank&#34;&gt;article (galician)&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Where is the lightning activity concentrated in a few days in Galicia?&#34; href=&#34;https://dominicroye.github.io/img/album/concentration_index_rayos.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/concentration_index_rayos.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Where is the lightning activity concentrated in a few days in Galicia? Values toward 1 indicate that a few days contribute much of all the lightning; instead, values toward 0 are places where more regularity is observed. More: &lt;a href=&#34;https://dominicroye.github.io/en/publication/lightning_galicia_2018/&#34; target=&#34;_blank&#34;&gt;article&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;How is the lightning activity distributed in Galicia?&#34; href=&#34;https://dominicroye.github.io/img/album/rayos_estaciones.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/rayos_estaciones.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;How is the lightning activity distributed annual and by seasons in Galicia? Data: &lt;a href=&#34;http://www.meteogalicia.gal/observacion/raios/raios.action?request_locale=gl&#34; target=&#34;_blank&#34;&gt;meteogalicia&lt;/a&gt;. More: &lt;a href=&#34;https://dominicroye.github.io/en/publication/lightning_galicia_2018/&#34; target=&#34;_blank&#34;&gt;article&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;How is the lightning activity distributed by month and hour in Galicia?&#34; href=&#34;https://dominicroye.github.io/img/album/rayos_meshora.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/rayos_meshora.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;How is the lightning activity distributed by month and hour in Galicia? Data: &lt;a href=&#34;http://www.meteogalicia.gal/observacion/raios/raios.action?request_locale=gl&#34; target=&#34;_blank&#34;&gt;meteogalicia&lt;/a&gt;. More: &lt;a href=&#34;https://dominicroye.github.io/en/publication/lightning_galicia_2018/&#34; target=&#34;_blank&#34;&gt;article&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Seasonal rainfall regime, i.e. ranking seasons according to average precipitation in descending order in the contiguous United States.&#34; href=&#34;https://dominicroye.github.io/img/album/pluvi_regimes_usa.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/pluvi_regimes_usa.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Seasonal rainfall regime, i.e. ranking seasons according to average precipitation (1956-2006) in descending order in the contiguous United States. (P, spring; S, summer; A, autumn; W, winter). More: &lt;a href=&#34;https://dominicroye.github.io/en/publication/usa_ci_2017/&#34; target=&#34;_blank&#34;&gt;article&lt;/a&gt;, &lt;a href=&#34;https://github.com/dominicroye/Concentration_Index_USA&#34; target=&#34;_blank&#34;&gt;dataset&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Concentration of Daily Precipitation in the contiguous United States.&#34; href=&#34;https://dominicroye.github.io/img/album/concentration_index_usa.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/concentration_index_usa.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Concentration of Daily Precipitation (1956-2006) in the contiguous United States. (P, spring; S, summer; A, autumn; W, winter). The frequency distribution of daily precipitation amounts almost anywhere conforms to a negative exponential distribution, reflecting the fact that there are many small daily totals and few large ones. More: &lt;a href=&#34;https://dominicroye.github.io/en/publication/usa_ci_2017/&#34; target=&#34;_blank&#34;&gt;article&lt;/a&gt;, &lt;a href=&#34;https://github.com/dominicroye/Concentration_Index_USA&#34; target=&#34;_blank&#34;&gt;dataset&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Summer day probability (maximum temperature &amp;gt; 25ºC) through the year in the pensinular Spain.&#34; href=&#34;https://dominicroye.github.io/img/album/summerdays.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/summerdays.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Summer day probability (maximum temperature &amp;gt; 25ºC) through the year in the pensinular Spain. Data: STEAD from &lt;a href=&#34;https://twitter.com/climayagua&#34; target=&#34;_blank&#34;&gt;Research Group climayagua&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Summer day probability (maximum temperature &amp;gt; 25ºC) for different dates in the pensinular Spain.&#34; href=&#34;https://dominicroye.github.io/img/album/summerprob_spain.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/summerprob_spain.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Summer day probability (maximum temperature &amp;gt; 25ºC) for different dates in the pensinular Spain. Data: STEAD from &lt;a href=&#34;https://twitter.com/climayagua&#34; target=&#34;_blank&#34;&gt;Research Group climayagua&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Annual sunhours for Germany in 2017.&#34; href=&#34;https://dominicroye.github.io/img/album/sunhours_germany2017.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/sunhours_germany2017.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Annual sunhours for Germany in 2017. Map is a result of a interpolation process based on sunhour registers and cloudiness from MODIS. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;, &lt;a href=&#34;https://explorer.earthengine.google.com/#detail/MODIS%2F006%2FMOD09GA&#34; target=&#34;_blank&#34;&gt;NASA/MODIS&lt;/a&gt;. Platform for MODIS: &lt;a href=&#34;https://earthengine.google.com/&#34; target=&#34;_blank&#34;&gt;Google Earth Engine&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Warming stripes for Lisboa.&#34; href=&#34;https://dominicroye.github.io/img/album/tiras_lisboa.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/tiras_lisboa.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Warming stripes for Lisboa. These graphs represent and communicate climate change in a very illustrative and effective way. Data: &lt;a href=&#34;https://data.giss.nasa.gov/gistemp/stdata/&#34; target=&#34;_blank&#34;&gt;GISTEMP&lt;/a&gt;. More: &lt;a href=&#34;https://dominicroye.github.io/en/2018/how-to-create-warming-stripes-in-r/&#34; target=&#34;_blank&#34;&gt;post&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Where do we observe the trajectories of extratropical cyclones in Europe?&#34; href=&#34;https://dominicroye.github.io/img/album/trayectios_ciclones.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/trayectios_ciclones.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Where do we observe the trajectories of extratropical cyclones in Europe? Here the frequency for the months October to March between 1979-2010. Data: &lt;a href=&#34;http://catalogue.ceda.ac.uk/uuid/421688bf376b41b884246b34bd274356&#34; target=&#34;_blank&#34;&gt;extra-tropical cyclone tracks&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Warming stripes for Madrid.&#34; href=&#34;https://dominicroye.github.io/img/album/warming_stripes_madrid.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/warming_stripes_madrid.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Warming stripes for Madrid. These graphs represent and communicate climate change in a very illustrative and effective way. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;. More: &lt;a href=&#34;https://dominicroye.github.io/en/2018/how-to-create-warming-stripes-in-r/&#34; target=&#34;_blank&#34;&gt;post&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Annual sunhours for Galicia (Spain) in 2017.&#34; href=&#34;https://dominicroye.github.io/img/album/horasdesol2017.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/horasdesol2017.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Annual sunhours for Galicia (Spain) in 2017. Map is a result of a interpolation process based on sunhour registers and cloudiness from MODIS. Data: &lt;a href=&#34;http://www.meteogalicia.gal&#34; target=&#34;_blank&#34;&gt;Meteogalicia&lt;/a&gt;, &lt;a href=&#34;https://explorer.earthengine.google.com/#detail/MODIS%2F006%2FMOD09GA&#34; target=&#34;_blank&#34;&gt;NASA/MODIS&lt;/a&gt;. Platform for MODIS: &lt;a href=&#34;https://earthengine.google.com/&#34; target=&#34;_blank&#34;&gt;Google Earth Engine&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Annual sunhours for Spain in 2017.&#34; href=&#34;https://dominicroye.github.io/img/album/horassol_espa%c3%b1a2017.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/horassol_espa%c3%b1a2017.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Annual sunhours for Spain in 2017. Map is a result of a interpolation process based on sunhour registers and cloudiness from MODIS. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;, &lt;a href=&#34;https://explorer.earthengine.google.com/#detail/MODIS%2F006%2FMOD09GA&#34; target=&#34;_blank&#34;&gt;NASA/MODIS&lt;/a&gt;. Platform for MODIS: &lt;a href=&#34;https://earthengine.google.com/&#34; target=&#34;_blank&#34;&gt;Google Earth Engine&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Average number of snow days on the ground in the Iberian Peninsula (2002-2017)&#34; href=&#34;https://dominicroye.github.io/img/album/nieve_peninsula.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/nieve_peninsula.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Number of snow days on the ground in the Iberian Peninsula (2002-2017). The daily images with a binary code (condition: Snow_Cover_Daily_Tile == 200, and Fractional_Snow_Cover &amp;gt; 90) have been reclassified and than summed up and divided by the number of years. Data: &lt;a href=&#34;https://explorer.earthengine.google.com/#detail/MODIS%2F006%2FMOD10A1&#34; target=&#34;_blank&#34;&gt;NASA/MODIS&lt;/a&gt;. Platform: &lt;a href=&#34;https://earthengine.google.com/&#34; target=&#34;_blank&#34;&gt;Google Earth Engine&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Climate circles for several American cities.&#34; href=&#34;https://dominicroye.github.io/img/album/nortamerica_climate.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/nortamerica_climate.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Climate circles for several American cities. For each day of the year the average of the maximum and minimum (bar length) and the average temperature (color) is indicated. Data: &lt;a href=&#34;https://www.ncdc.noaa.gov/cdo-web/&#34; target=&#34;_blank&#34;&gt;NCDC-CDO/NOAA&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Average cloud fraction for summer 2018 and normal 2001-2017 in the Iberian Peninsular.&#34; href=&#34;https://dominicroye.github.io/img/album/nubosidad_verano2018.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/nubosidad_verano2018.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Average cloud fraction for summer 2018 and normal 2001-2017 in the Iberian Peninsular. Data: &lt;a href=&#34;https://explorer.earthengine.google.com/#detail/MODIS%2F006%2FMOD09GA&#34; target=&#34;_blank&#34;&gt;NASA/MODIS&lt;/a&gt;. Platform: &lt;a href=&#34;https://earthengine.google.com/&#34; target=&#34;_blank&#34;&gt;Google Earth Engine&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Average cloud fraction for march 2018 and march 2001-2018 in the Iberian Peninsular.&#34; href=&#34;https://dominicroye.github.io/img/album/PI_marzo2018.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/PI_marzo2018.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Average cloud fraction for march 2018 and march 2001-2018 in the Iberian Peninsular. Data: &lt;a href=&#34;https://explorer.earthengine.google.com/#detail/MODIS%2F006%2FMOD09GA&#34; target=&#34;_blank&#34;&gt;NASA/MODIS&lt;/a&gt;. Platform: &lt;a href=&#34;https://earthengine.google.com/&#34; target=&#34;_blank&#34;&gt;Google Earth Engine&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Accumulated precipitation of 2017 compared to other years in Valladolid.&#34; href=&#34;https://dominicroye.github.io/img/album/valladolid.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/valladolid.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Accumulated precipitation of 2017 compared to other years in Valladolid. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Accumulated precipitation of 2017 compared to other years in Vigo.&#34; href=&#34;https://dominicroye.github.io/img/album/vigo.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/vigo.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Accumulated precipitation of 2017 compared to other years in Vigo. Data: &lt;a href=&#34;https://www.ecad.eu//dailydata/index.php&#34; target=&#34;_blank&#34;&gt;ECA&amp;amp;D&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Geografía</title>
      <link>https://dominicroye.github.io/es/graphs/geography/</link>
      <pubDate>Tue, 11 May 2021 00:00:00 +0200</pubDate>
      
      <guid>https://dominicroye.github.io/es/graphs/geography/</guid>
      <description>

&lt;p&gt;&lt;center&gt;&lt;/p&gt;

&lt;h2 id=&#34;videos&#34;&gt;Videos&lt;/h2&gt;

&lt;p&gt;&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//player.vimeo.com/video/423988694&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;

3d model of Nazaré Canyon off the coast of #Nazare, Portugal. Well known as hotspot for big wave surfing.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;&lt;/p&gt;

&lt;h2 id=&#34;gráficos&#34;&gt;Gráficos&lt;/h2&gt;

&lt;p&gt;&lt;/center&gt;&lt;/p&gt;



&lt;div class=&#34;gallery&#34;&gt;

  
  
  
  


  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Evolution of global disasters since 1900 by risk groups.&#34; href=&#34;https://dominicroye.github.io/img/album/naturalrisks.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/naturalrisks.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Evolution of global disasters since 1900 by risk groups. Data: &lt;a href=&#34;https://www.emdat.be/&#34; target=&#34;_blank&#34;&gt;emdat.be/&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Urban growth seen by the year of construction in Paris, France.&#34; href=&#34;https://dominicroye.github.io/img/album/paris_crecimiento.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/paris_crecimiento.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Urban growth seen by the year of construction in Paris, France. Data: &lt;a href=&#34;https://t.co/TaYWCGDtU9?amp=1&#34; target=&#34;_blank&#34;&gt;ign.fr&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Urban growth seen by the year of construction in Madrid, Spain.&#34; href=&#34;https://dominicroye.github.io/img/album/madrid_crecimiento.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/madrid_crecimiento.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Urban growth seen by the year of construction in Madrid, Spain. Data: &lt;a href=&#34;http://www.catastro.meh.es/webinspire/index.html&#34; target=&#34;_blank&#34;&gt;Catastro&lt;/a&gt; More: &lt;a href=&#34;https://dominicroye.github.io/es/2019/visualizar-el-crecimiento-urbano/&#34; target=&#34;_blank&#34;&gt;post&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Urban growth seen by the year of construction in Santiago de Compostela, Spain.&#34; href=&#34;https://dominicroye.github.io/img/album/santiago_crecimiento.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/santiago_crecimiento.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Urban growth seen by the year of construction in Santiago de Compostela, Spain. Data: &lt;a href=&#34;http://www.catastro.meh.es/webinspire/index.html&#34; target=&#34;_blank&#34;&gt;Catastro&lt;/a&gt; More: &lt;a href=&#34;https://dominicroye.github.io/es/2019/visualizar-el-crecimiento-urbano/&#34; target=&#34;_blank&#34;&gt;post&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of travel time deviations from the median to high-density urban centers via surface transport in Europe by NUTS-1.&#34; href=&#34;https://dominicroye.github.io/img/album/desviation_traveltime-min.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/desviation_traveltime-min.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of travel time deviations from the median to high-density urban centers via surface transport in Europe by NUTS-1 in 2015. Data: &lt;a href=&#34;https://resourcewatch.org/data/explore/cit01701-Travel-Time-to-Major-Cities&#34; target=&#34;_blank&#34;&gt;resourcewatch.org&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Ruggedness or the elevation difference between adjacent cells of a DEM for the Iberian Peninsula.&#34; href=&#34;https://dominicroye.github.io/img/album/ruggedness.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/ruggedness.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Ruggedness or the elevation difference between adjacent cells of a DEM for the Iberian Peninsula.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of vine, fruits and olivar in Europe.&#34; href=&#34;https://dominicroye.github.io/img/album/olivar.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/olivar.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of vine, fruits and olivar in Europe. Data: &lt;a href=&#34;https://land.copernicus.eu/pan-european/corine-land-cover&#34; target=&#34;_blank&#34;&gt;CORINE Land Cover&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Forest canopy height with more than 10m for the Iberian Peninsula. &#34; href=&#34;https://dominicroye.github.io/img/album/green_map.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/green_map.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Forest canopy height with more than 10m for the Iberian Peninsula. Data: &lt;a href=&#34;https://t.co/VgESxJA824?amp=1&#34; target=&#34;_blank&#34;&gt;Simard et al. 2011&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Worlds&amp;#39;s lighthouses included in the OpenStreetMap database.&#34; href=&#34;https://dominicroye.github.io/img/album/lighthouse.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/lighthouse.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Worlds&amp;rsquo;s lighthouses included in the OpenStreetMap database. More: &lt;a href=&#34;https://dominicroye.github.io/en/2018/accessing-openstreetmap-data-with-r/&#34; target=&#34;_blank&#34;&gt;post&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;The blue veins of the Earth for the Iberian Peninsula. Science is art.&#34; href=&#34;https://dominicroye.github.io/img/album/rios_venas.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/rios_venas.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Las venas azules de la Tierra para la Península Ibérica. La ciencia es arte. El ancho de la línea refleja el tamaño del río. Datos: &lt;a href=&#34;https://hydrosheds.org/&#34; target=&#34;_blank&#34;&gt;https://hydrosheds.org/&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Have you ever wondered in which direcction flow world&amp;#39;s longest rivers?&#34; href=&#34;https://dominicroye.github.io/img/album/direccion_rios_global.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/direccion_rios_global.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;River flow directions were estimated using vectorial data.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Have you ever wondered in which direcction flow European longest rivers?&#34; href=&#34;https://dominicroye.github.io/img/album/directions_rivers.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/directions_rivers.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;River flow directions were estimated using vectorial data.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Have you ever wondered where the European coasts are oriented?&#34; href=&#34;https://dominicroye.github.io/img/album/orientacion_eu.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/orientacion_eu.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Orientations of coast segements were estimated using vectorial data with a resolución of 9 vertices to 1 km.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Have you ever wondered where the Spanish coasts are oriented by region?&#34; href=&#34;https://dominicroye.github.io/img/album/orientacion_ccaa_ing.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/orientacion_ccaa_ing.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Orientations of coast segements were estimated using vectorial data with a resolución of 9 vertices to 1 km.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Mobility trends for places of residence during COVID-19 epidemy in Europe based on data from Google&#34; href=&#34;https://dominicroye.github.io/img/album/google_mobi.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/google_mobi.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Mobility trends for places of residence during COVID-19 epidemy in Europe based on data from Google. Data: &lt;a href=&#34;https://t.co/kToIEDlYBs?amp=1&#34; target=&#34;_blank&#34;&gt;Google COVID19&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Driving mobility during COVID-19 epidemy by country based data from Apple.&#34; href=&#34;https://dominicroye.github.io/img/album/driving_mobi_apple.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/driving_mobi_apple.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Driving mobility during COVID-19 epidemy by country based data from Apple. Data: &lt;a href=&#34;https://t.co/IXeHuiDd5N?amp=1&#34; target=&#34;_blank&#34;&gt;Apple COVID19&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Significant wave height with a return period of 10 years&#34; href=&#34;https://dominicroye.github.io/img/album/oleaje_galicia.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/oleaje_galicia.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Significant wave height with a return period of 10 years. Particularly in the Costa da Morte there is a possibility of waves exceeding 10 meters once every 10 years. The Rias are highly protected. Data: &lt;a href=&#34;https://www.meteogalicia.gal/modelos/atlas/atlasOndas.action?request_locale=es&#34; target=&#34;_blank&#34;&gt;Wave Atlas of Meteogalicia&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;How is the annual burnt area distributed over all wildfire events?&#34; href=&#34;https://dominicroye.github.io/img/album/australia_ci.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/australia_ci.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Our research found that, in most Mediterranean European countries, the amount of burnt area is increasingly related with a lower number of #wildfires. I estimated ad hoc the same index for NSW Australia with similar results. More: &lt;a href=&#34;https://dominicroye.github.io/en/publication/incendios_ci_2019/&#34; target=&#34;_blank&#34;&gt;article&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;How is the annual burnt area distributed over all wildfire events?&#34; href=&#34;https://dominicroye.github.io/img/album/california_fires.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/california_fires.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Our research found that, in most Mediterranean European countries, the amount of burnt area is increasingly related with a lower number of #wildfires. I estimated ad hoc the same index for California with similar results. More: &lt;a href=&#34;https://dominicroye.github.io/en/publication/incendios_ci_2019/&#34; target=&#34;_blank&#34;&gt;article&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Spatial patterns of cemeteries in Northwest Spain (number per 1,000 inhabitants).&#34; href=&#34;https://dominicroye.github.io/img/album/cimenterios_gal.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/cimenterios_gal.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Spatial patterns of cemeteries in Northwest Spain (number per 1,000 inhabitants) based on OpenStreetMaps. Data: &lt;a href=&#34;http://overpass-turbo.eu/&#34; target=&#34;_blank&#34;&gt;OpenStreetMap&lt;/a&gt;, &lt;a href=&#34;https://www.ige.eu/&#34; target=&#34;_blank&#34;&gt;IGE&lt;/a&gt; More: &lt;a href=&#34;https://dominicroye.github.io/es/2018/acceso-a-la-base-de-datos-de-openstreetmaps-desde-r/&#34; target=&#34;_blank&#34;&gt;post&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Spatial patterns of cemeteries in Spain (number per 10,000 inhabitants).&#34; href=&#34;https://dominicroye.github.io/img/album/cementerios.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/cementerios.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Spatial patterns of cemeteries in Spain (number per 10,000 inhabitants) based on OpenStreetMaps. Data: &lt;a href=&#34;http://overpass-turbo.eu/&#34; target=&#34;_blank&#34;&gt;OpenStreetMap&lt;/a&gt;, &lt;a href=&#34;https://www.ine.es/&#34; target=&#34;_blank&#34;&gt;INE&lt;/a&gt; More: &lt;a href=&#34;https://dominicroye.github.io/es/2018/acceso-a-la-base-de-datos-de-openstreetmaps-desde-r/&#34; target=&#34;_blank&#34;&gt;post&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Urban growth seen by the year of construction for the six largest Spanish cities.&#34; href=&#34;https://dominicroye.github.io/img/album/ciudades_espa%c3%b1a_edad.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/ciudades_espa%c3%b1a_edad.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Urban growth seen by the year of construction for the six largest Spanish cities. Data: &lt;a href=&#34;http://www.catastro.meh.es/webinspire/index.html&#34; target=&#34;_blank&#34;&gt;Catastro&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Animation of urban growth seen by the year of construction in Valencia, Spain.&#34; href=&#34;https://dominicroye.github.io/img/album/simulations.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/simulations.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Animation of urban growth seen by the year of construction in Valencia, Spain. Data: &lt;a href=&#34;http://www.catastro.meh.es/webinspire/index.html&#34; target=&#34;_blank&#34;&gt;Catastro&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Urban growth seen by the year of construction in Valencia, Spain.&#34; href=&#34;https://dominicroye.github.io/img/album/valencia_desarrollo.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/valencia_desarrollo.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Urban growth seen by the year of construction in Valencia, Spain. Data: &lt;a href=&#34;http://www.catastro.meh.es/webinspire/index.html&#34; target=&#34;_blank&#34;&gt;Catastro&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of the year of building construction in Spanish provincial capitals from 1850.&#34; href=&#34;https://dominicroye.github.io/img/album/crecimiento_urbano.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/crecimiento_urbano.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of the year of building construction in Spanish provincial capitals from 1850. Data: &lt;a href=&#34;http://www.catastro.meh.es/webinspire/index.html&#34; target=&#34;_blank&#34;&gt;Catastro&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of travel time to high-density urban centers via surface transport in Europe by NUTS-1.&#34; href=&#34;https://dominicroye.github.io/img/album/accesibilidad_eu.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/accesibilidad_eu.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of travel time to high-density urban centers via surface transport in Europe by NUTS-1 in 2015. Data: &lt;a href=&#34;https://resourcewatch.org/data/explore/cit01701-Travel-Time-to-Major-Cities&#34; target=&#34;_blank&#34;&gt;resourcewatch.org&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of travel time to high-density urban centers via surface transport in Spain by province.&#34; href=&#34;https://dominicroye.github.io/img/album/accesibilidad_prov.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/accesibilidad_prov.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of travel time to high-density urban centers via surface transport in Spain by province in 2015. Data: &lt;a href=&#34;https://resourcewatch.org/data/explore/cit01701-Travel-Time-to-Major-Cities&#34; target=&#34;_blank&#34;&gt;resourcewatch.org&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Indice de Precios al Consumidor: Alquiler de viviendas (variación anual)&#34; href=&#34;https://dominicroye.github.io/img/album/IPC_alquiler.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/IPC_alquiler.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Indice de Precios al Consumidor: Alquiler de viviendas (variación anual) 2002-2019 en España por provincia. Datos: &lt;a href=&#34;https://www.ine.es/dyngs/INEbase/es/categoria.htm?c=Estadistica_P&amp;amp;cid=1254735976607&#34; target=&#34;_blank&#34;&gt;INE&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Tiempo de viaje a centros urbanos de alta densidad a través del transporte de superficie en España.&#34; href=&#34;https://dominicroye.github.io/img/album/acces_mapa_esp.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/acces_mapa_esp.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Tiempo de viaje a centros urbanos de alta densidad a través del transporte de superficie en España. Datos: &lt;a href=&#34;https://resourcewatch.org/data/explore/cit01701-Travel-Time-to-Major-Cities&#34; target=&#34;_blank&#34;&gt;resourcewatch.org&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Ranking del tiempo de viaje a centros urbanos de alta densidad a través del transporte de superficie según provincias españolas.&#34; href=&#34;https://dominicroye.github.io/img/album/acces_rank.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/acces_rank.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Ranking del tiempo de viaje a centros urbanos de alta densidad a través del transporte de superficie según provincias españolas. Datos: &lt;a href=&#34;https://resourcewatch.org/data/explore/cit01701-Travel-Time-to-Major-Cities&#34; target=&#34;_blank&#34;&gt;resourcewatch.org&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Mapa de elevación de rio serpenteante Ebro.&#34; href=&#34;https://dominicroye.github.io/img/album/Ebro_rio.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Ebro_rio.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Inspirado por el gran trabajo de &lt;a href=&#34;https://twitter.com/geo_coe?lang=es&#34; target=&#34;_blank&#34;&gt;@geo_coe&lt;/a&gt;, he creado un mapa de elevación para el río serpenteante Ebro, tramo medio entre Logroño y Zaragoza en España. Datos: &lt;a href=&#34;http://centrodedescargas.cnig.es/CentroDescargas/index.jsp&#34; target=&#34;_blank&#34;&gt;Modelo Digital del Terreno - MDT05&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Mapa de elevación del rio serpenteante Alagón (Tajo).&#34; href=&#34;https://dominicroye.github.io/img/album/alagon_rio.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/alagon_rio.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Inspirado por el gran trabajo de &lt;a href=&#34;https://twitter.com/geo_coe?lang=es&#34; target=&#34;_blank&#34;&gt;@geo_coe&lt;/a&gt;, he creado un mapa de elevación para el río serpenteante Alagón, afluente más largo del río Tajo en España. Datos: &lt;a href=&#34;http://centrodedescargas.cnig.es/CentroDescargas/index.jsp&#34; target=&#34;_blank&#34;&gt;Modelo Digital del Terreno - MDT05&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Urban growth of Santiag de Compostela from before 1800 until today.&#34; href=&#34;https://dominicroye.github.io/img/album/scq_buildings.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/scq_buildings.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Urban growth of Santiag de Compostela from before 1800 until today. Data: &lt;a href=&#34;https://plugins.qgis.org/plugins/Spanish_Inspire_Catastral_Downloader/&#34; target=&#34;_blank&#34;&gt;Catastro INSPIRE QGIS-Plugin&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Flight routes of the ten busiest airports by passenger traffic in Europe.&#34; href=&#34;https://dominicroye.github.io/img/album/10airports_vuelos.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/10airports_vuelos.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Flight routes of the ten busiest airports by passenger traffic in Europe based on 24 hour data for each airport. Data: &lt;a href=&#34;https://www.flightradar24.com/&#34; target=&#34;_blank&#34;&gt;https://www.flightradar24.com/&lt;/a&gt;. More: &lt;a href=&#34;https://t.co/k6sO2SYjW1&#34; target=&#34;_blank&#34;&gt;article (spanish)&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Sky View Factor of Barcelona.&#34; href=&#34;https://dominicroye.github.io/img/album/SVF.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/SVF.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;The Sky View Factor is very useful urban spatial indicator for radiation and thermal environmental assessment. SVF describes how visible is the sky (0: the entire sky is blocked from view; 1: free view on the whole sky). Estimation made using &lt;a href=&#34;http://www.saga-gis.org/&#34; target=&#34;_blank&#34;&gt;SAGA-GIS&lt;/a&gt;. Data: &lt;a href=&#34;http://pnoa.ign.es/presentacion&#34; target=&#34;_blank&#34;&gt;LiDAR-IGN&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Flight density of the ten busiest airports by passenger traffic in Europe.&#34; href=&#34;https://dominicroye.github.io/img/album/10airports_vuelos_density.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/10airports_vuelos_density.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;European flight density based on 24 hour data for each of the ten busiest airports by passenger. Data: &lt;a href=&#34;https://www.flightradar24.com/&#34; target=&#34;_blank&#34;&gt;https://www.flightradar24.com/&lt;/a&gt;. More:  &lt;a href=&#34;https://t.co/k6sO2SYjW1&#34; target=&#34;_blank&#34;&gt;article (spanish)&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Flight routes of the Frankfurt airport.&#34; href=&#34;https://dominicroye.github.io/img/album/fra_vuelos.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/fra_vuelos.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Flight routes of Frankfurt airport based on 24 hour data. Data: &lt;a href=&#34;https://www.flightradar24.com/&#34; target=&#34;_blank&#34;&gt;https://www.flightradar24.com/&lt;/a&gt;. More: &lt;a href=&#34;https://t.co/k6sO2SYjW1&#34; target=&#34;_blank&#34;&gt;article (spanish)&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Flight routes of the busiest airports in the Iberian Peninsula.&#34; href=&#34;https://dominicroye.github.io/img/album/pi_vuelos.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/pi_vuelos.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Flight routes of the busiest airports in the Iberian Peninsula based on 24 hour data. Data: &lt;a href=&#34;https://www.flightradar24.com/&#34; target=&#34;_blank&#34;&gt;https://www.flightradar24.com/&lt;/a&gt;. More: &lt;a href=&#34;https://t.co/k6sO2SYjW1&#34; target=&#34;_blank&#34;&gt;article (spanish)&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Flight routes of the Paris Charles de Gaulle airport.&#34; href=&#34;https://dominicroye.github.io/img/album/paris_vuelos.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/paris_vuelos.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Flight routes of Paris Charles de Gaulle airport based on 24 hour data. Data: &lt;a href=&#34;https://www.flightradar24.com/&#34; target=&#34;_blank&#34;&gt;https://www.flightradar24.com/&lt;/a&gt;. More: &lt;a href=&#39;https://t.co/k6sO2SYjW1&#39;&gt;link&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Urban growth of Madrid from before 1800 until today.&#34; href=&#34;https://dominicroye.github.io/img/album/mad_buildings.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/mad_buildings.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Urban growth of Madrid from before 1800 until today. Data: &lt;a href=&#34;https://plugins.qgis.org/plugins/Spanish_Inspire_Catastral_Downloader/&#34; target=&#34;_blank&#34;&gt;Catastro INSPIRE QGIS-Plugin&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Hours of fishing activity in 2016 in the Iberian Peninsula.&#34; href=&#34;https://dominicroye.github.io/img/album/pesca2016.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/pesca2016.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Total hours of fishing activity per km2 for the year 2016 in the Iberian Peninsula. Data: &lt;a href=&#34;https://globalfishingwatch.org/&#34; target=&#34;_blank&#34;&gt;https://globalfishingwatch.org/&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Hours of fishing activity in 2016 in the Mediterranean.&#34; href=&#34;https://dominicroye.github.io/img/album/pesca2016_med.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/pesca2016_med.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Total hours of fishing activity per km2 for the year 2016 in the Mediterranean. Data: &lt;a href=&#34;https://globalfishingwatch.org/&#34; target=&#34;_blank&#34;&gt;https://globalfishingwatch.org/&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of gas stations in Europe.&#34; href=&#34;https://dominicroye.github.io/img/album/europe_fuel.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/europe_fuel.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of gas stations (Point Of Interest) in Europe, extracted from the overpass API of OpenStreetMaps (June 2017). Data: OpenStreetMaps. More: &lt;a href=&#34;https://dominicroye.github.io/en/2018/accessing-openstreetmap-data-with-r/&#34; target=&#34;_blank&#34;&gt;script&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of drinking water in Europe.&#34; href=&#34;https://dominicroye.github.io/img/album/europe.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/europe.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of drinking water (Point Of Interest) in Europe, extracted from the overpass API of OpenStreetMaps (June 2017). Data: OpenStreetMaps. More: &lt;a href=&#34;https://www.geografiainfinita.com/2017/07/fuentes-de-agua-potable-en-el-mundo/&#34; target=&#34;_blank&#34;&gt;article (spanish)&lt;/a&gt;,&lt;a href=&#34;https://dominicroye.github.io/en/2018/accessing-openstreetmap-data-with-r/&#34; target=&#34;_blank&#34;&gt;script&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of gas and charging stations in Europe.&#34; href=&#34;https://dominicroye.github.io/img/album/eu_fuel.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/eu_fuel.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of gas and charging stations (Point Of Interest) in Europe, extracted from the overpass API of OpenStreetMaps (June 2017). Data: OpenStreetMaps. More: &lt;a href=&#34;https://dominicroye.github.io/en/2018/accessing-openstreetmap-data-with-r/&#34; target=&#34;_blank&#34;&gt;script&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of drinking water in the World.&#34; href=&#34;https://dominicroye.github.io/img/album/world_drinking.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/world_drinking.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of drinking water (Point Of Interest) in the World, extracted from the overpass API of OpenStreetMaps (June 2017). Data: OpenStreetMaps. More: &lt;a href=&#34;https://www.geografiainfinita.com/2017/07/fuentes-de-agua-potable-en-el-mundo/&#34; target=&#34;_blank&#34;&gt;article (Spanish)&lt;/a&gt;,&lt;a href=&#34;https://dominicroye.github.io/en/2018/accessing-openstreetmap-data-with-r/&#34; target=&#34;_blank&#34;&gt;script&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distance to the sea in the World.&#34; href=&#34;https://dominicroye.github.io/img/album/global.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/global.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Another perspective on the world. Distance to the sea (the more black, the further away is the sea). Euclidean distance estimation made with R. More: &lt;a href=&#34;https://www.geografiainfinita.com/2017/06/una-radiografia-del-mundo-a-traves-de-la-distancia-al-mar/&#34; target=&#34;_blank&#34;&gt;article (Spanish)&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of building heights at 10 meter resolution in European capitals.&#34; href=&#34;https://dominicroye.github.io/img/album/CP_buildingheight.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/CP_buildingheight.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of building heights at 10 meter resolution in European capitals. Data: &lt;a href=&#34;https://land.copernicus.eu/local/urban-atlas/building-height-2012&#34; target=&#34;_blank&#34;&gt;COPERNICUS&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Differences of building heights at 10 meter resolution in European capitals.&#34; href=&#34;https://dominicroye.github.io/img/album/city_buildingheights.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/city_buildingheights.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Differences of building heights at 10 meter resolution in European capitals. Data: &lt;a href=&#34;https://land.copernicus.eu/local/urban-atlas/building-height-2012&#34; target=&#34;_blank&#34;&gt;COPERNICUS&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Urban growth of Barcelona from before 1800 until today.&#34; href=&#34;https://dominicroye.github.io/img/album/bcn_buildings.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/bcn_buildings.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Urban growth of Barcelona from before 1800 until today. Data: &lt;a href=&#34;https://plugins.qgis.org/plugins/Spanish_Inspire_Catastral_Downloader/&#34; target=&#34;_blank&#34;&gt;Catastro INSPIRE QGIS-Plugin&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Number of published articles in ElPaís by year for the term &amp;#39;wildfire&amp;#39;.&#34; href=&#34;https://dominicroye.github.io/img/album/ElPais_incendios.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/ElPais_incendios.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Number of published articles in ElPaís by year for the term &amp;lsquo;wildfire&amp;rsquo;. Data: &lt;a href=&#34;https://elpais.com/tag/incendios/a&#34; target=&#34;_blank&#34;&gt;elpais&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of fastfood restaurants in the contiguous United States.&#34; href=&#34;https://dominicroye.github.io/img/album/fastfood_usatiff.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/fastfood_usatiff.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of fastfood restaurants in the contiguous United States, extracted from the overpass API of OpenStreetMaps (June 2017). Data: OpenStreetMaps. More: &lt;a href=&#34;https://dominicroye.github.io/en/2018/accessing-openstreetmap-data-with-r/&#34; target=&#34;_blank&#34;&gt;script&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Number of fastfood restaurants per 10,000 inhabitants in Europe.&#34; href=&#34;https://dominicroye.github.io/img/album/fastfood_map.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/fastfood_map.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Number of fastfood restaurants per 10,000 inhabitants in Europe, extracted from the overpass API of OpenStreetMaps (June 2017). Data: OpenStreetMaps. More: &lt;a href=&#34;https://dominicroye.github.io/en/2018/accessing-openstreetmap-data-with-r/&#34; target=&#34;_blank&#34;&gt;script&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Open Data Indactor Scores. Spain leads access to Open Data in the EU&#34; href=&#34;https://dominicroye.github.io/img/album/opendata.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/opendata.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Spain leads access to Open Data in the EU. Data: &lt;a href=&#34;https://www.europeandataportal.eu/en/dashboard#2017&#34; target=&#34;_blank&#34;&gt;europendataportal&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Distribution of fastfood restaurants in Europe.&#34; href=&#34;https://dominicroye.github.io/img/album/fastfood_eutiff.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/fastfood_eutiff.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Distribution of fastfood restaurants in Europe., extracted from the overpass API of OpenStreetMaps (June 2017). Data: OpenStreetMaps. More: &lt;a href=&#34;https://dominicroye.github.io/en/2018/accessing-openstreetmap-data-with-r/&#34; target=&#34;_blank&#34;&gt;script&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Evolution of adult obesity in Europe between 1975 and 2016.&#34; href=&#34;https://dominicroye.github.io/img/album/obesity_europe.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/obesity_europe.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Evolution of adult obesity in Europe between 1975 and 2016. Data: &lt;a href=&#34;https://ourworldindata.org/obesity&#34; target=&#34;_blank&#34;&gt;ourwoldindata&lt;/a&gt;, &lt;a href=&#34;https://github.com/dominicroye/obesity&#34; target=&#34;_blank&#34;&gt;script&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;National Overdose Death in the US by different drugs since 1999, showing a horrifying trend.&#34; href=&#34;https://dominicroye.github.io/img/album/USA_overdose.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/USA_overdose.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;National Overdose Death in the US by different drugs since 1999, showing a horrifying trend. Data: &lt;a href=&#34;https://ourworldindata.org/&#34; target=&#34;_blank&#34;&gt;ourwoldindata&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Medio ambiente</title>
      <link>https://dominicroye.github.io/es/graphs/environment/</link>
      <pubDate>Tue, 11 May 2021 00:00:00 +0200</pubDate>
      
      <guid>https://dominicroye.github.io/es/graphs/environment/</guid>
      <description>

&lt;div class=&#34;gallery&#34;&gt;

  
  
  
  


  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;On the way out of coal-fired electricity generation in Germany?&#34; href=&#34;https://dominicroye.github.io/img/album/redelect_germany.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/redelect_germany.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Daily contribution of coal to electricity generation in Germany. Data: &lt;a href=&#34;https://www.energy-charts.de/&#34; target=&#34;_blank&#34;&gt;energy-charts.de&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;La contribución diaria del carbón a la generación eléctrica en España&#34; href=&#34;https://dominicroye.github.io/img/album/redelect.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/redelect.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;La contribución diaria del carbón a la generación eléctrica en España desde 2011. Hasta el 17 de agosto de 2019 no ha habido ningún día con menos del 1%. Data: &lt;a href=&#34;https://www.ree.es/es/apidatos&#34; target=&#34;_blank&#34;&gt;REData&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Light pollution by municipality in 2015. What is the municipality that emits the most artificial light?&#34; href=&#34;https://dominicroye.github.io/img/album/coef_var_nightlights.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/coef_var_nightlights.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Light pollution by municipality in 2015. What is the municipality that emits the most artificial light? The map shows the Coefficient of Variation (standard deviation/mean) of each municipalities. Data: &lt;a href=&#34;https://ngdc.noaa.gov/eog/download.html&#34; target=&#34;_blank&#34;&gt;VIIRS Nighttime Lights NOAA (2015)&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Which coast has more light pollution in Peninsular Spain?&#34; href=&#34;https://dominicroye.github.io/img/album/lights_costas.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/lights_costas.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Which coast has more light pollution in Peninsular Spain? The coast margins include a buffer of 5km. Data: &lt;a href=&#34;https://ngdc.noaa.gov/eog/download.html&#34; target=&#34;_blank&#34;&gt;VIIRS Nighttime Lights NOAA (2016)&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Light pollution by municipality in 2015. What is the municipality that emits the most artificial light?&#34; href=&#34;https://dominicroye.github.io/img/album/ranking.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/ranking.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Light pollution by municipality in 2015. What is the municipality that emits the most artificial light? The map shows the Coefficient of Variation (standard deviation/mean) of each municipalities. Data: &lt;a href=&#34;https://ngdc.noaa.gov/eog/download.html&#34; target=&#34;_blank&#34;&gt;VIIRS Nighttime Lights NOAA (2015)&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Pollution spots from nitrogen dioxide (NO2) in autumn 2018 in the Iberian Peninsula.&#34; href=&#34;https://dominicroye.github.io/img/album/no2_pi_autum.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/no2_pi_autum.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Pollution spots from nitrogen dioxide (NO2) in autumn 2018 in the Iberian Peninsula. Clearly stand out Barcelona and Madrid. Data: &lt;a href=&#34;https://explorer.earthengine.google.com/#detail/COPERNICUS%2FS5P%2FOFFL%2FL3_NO2&#34; target=&#34;_blank&#34;&gt;NASA/MODIS&lt;/a&gt;. Platform: &lt;a href=&#34;https://earthengine.google.com/&#34; target=&#34;_blank&#34;&gt;Google Earth Engine&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Pollution spots from nitrogen dioxide (NO2) in autumn 2018 in Germany.&#34; href=&#34;https://dominicroye.github.io/img/album/no2_pi_autum_germany.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/no2_pi_autum_germany.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Pollution spots from nitrogen dioxide (NO2) in autumn 2018 in Germany. Clearly stands out the Rhine-Ruhr metropolitan region. Data: &lt;a href=&#34;https://explorer.earthengine.google.com/#detail/COPERNICUS%2FS5P%2FOFFL%2FL3_NO2&#34; target=&#34;_blank&#34;&gt;NASA/MODIS&lt;/a&gt;. Platform: &lt;a href=&#34;https://earthengine.google.com/&#34; target=&#34;_blank&#34;&gt;Google Earth Engine&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Pollution spots from nitrogen dioxide (NO2) in autumn 2018 in the contiguous United States.&#34; href=&#34;https://dominicroye.github.io/img/album/no2_pi_autum_usa.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/no2_pi_autum_usa.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Pollution spots from nitrogen dioxide (NO2) in autumn 2018 in the contiguous United States. Data: &lt;a href=&#34;https://explorer.earthengine.google.com/#detail/COPERNICUS%2FS5P%2FOFFL%2FL3_NO2&#34; target=&#34;_blank&#34;&gt;NASA/MODIS&lt;/a&gt;. Platform: &lt;a href=&#34;https://earthengine.google.com/&#34; target=&#34;_blank&#34;&gt;Google Earth Engine&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Air pollution in the Iberian Peninsula. Annual average of PM2.5 for 2016 seen by MODIS/MISR/SeaWiFS. Clearly visible are Madrid and Barcelona.&#34; href=&#34;https://dominicroye.github.io/img/album/PM25_peninsula.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/PM25_peninsula.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Air pollution in the Iberian Peninsula. Annual average of PM2.5 for 2016 seen by MODIS/MISR/SeaWiFS. Clearly visible are Madrid and Barcelona. Data: &lt;a href=&#34;http://sedac.ciesin.columbia.edu/data/sets/browse&#34; target=&#34;_blank&#34;&gt;SEDAC&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Our human footprint in the Iberian Peninsula, or rather, the pressure we exert on the terrestrial ecosystem.&#34; href=&#34;https://dominicroye.github.io/img/album/huella_humana.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/huella_humana.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Our human footprint in the Iberian Peninsula, or rather, the pressure we exert on the terrestrial ecosystem. Data: &lt;a href=&#34;https://www.nature.com/articles/sdata201667&#34; target=&#34;_blank&#34;&gt;Global terrestrial Human Footprint &lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Populación</title>
      <link>https://dominicroye.github.io/es/graphs/population/</link>
      <pubDate>Tue, 11 May 2021 00:00:00 +0200</pubDate>
      
      <guid>https://dominicroye.github.io/es/graphs/population/</guid>
      <description>

&lt;div class=&#34;gallery&#34;&gt;

  
  
  
  


  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Educational inequality in Spain 2011&#34; href=&#34;https://dominicroye.github.io/img/album/desigualdad_educativa-min.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/desigualdad_educativa-min.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;The map of Educational inequality in Spain. Data: &lt;a href=&#34;https://opendata.esri.es/datasets/6e71f495ceed44aabae4707e66c73aeb_0&#34; target=&#34;_blank&#34;&gt;INE&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;The map of inequality in Spain 2018&#34; href=&#34;https://dominicroye.github.io/img/album/desigualdad_2018.jpg&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/desigualdad_2018.jpg&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;The map of inequality in Spain based on income and Gini index 2018. «Your life depends on where you live». Data: &lt;a href=&#34;https://www.ine.es/experimental/atlas/exp_atlas_tab.htm&#34; target=&#34;_blank&#34;&gt;INE&lt;/a&gt; More: &lt;a href=&#34;https://dominicroye.github.io/en/2021/bivariate-dasymetric-map/&#34; target=&#34;_blank&#34;&gt;post&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;The map of inequality in Madrid 2017&#34; href=&#34;https://dominicroye.github.io/img/album/desigualdad_mad-min.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/desigualdad_mad-min.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;The map of inequality in Spain based on income and Gini index 2017. «Your life depends on where you live». Data: &lt;a href=&#34;https://www.ine.es/experimental/atlas/exp_atlas_tab.htm&#34; target=&#34;_blank&#34;&gt;INE&lt;/a&gt; More: &lt;a href=&#34;https://dominicroye.github.io/en/2021/bivariate-dasymetric-map/&#34; target=&#34;_blank&#34;&gt;post&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Spatial patterns of cemeteries in Europe.&#34; href=&#34;https://dominicroye.github.io/img/album/eu_graves.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/eu_graves.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Spatial patterns of cemeteries in Europe based on OpenStreetMaps. Data: &lt;a href=&#34;http://overpass-turbo.eu/&#34; target=&#34;_blank&#34;&gt;OpenStreetMap&lt;/a&gt; More: &lt;a href=&#34;https://dominicroye.github.io/es/2018/acceso-a-la-base-de-datos-de-openstreetmaps-desde-r/&#34; target=&#34;_blank&#34;&gt;post&lt;/a&gt;.&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;The ratio of cars with diesel engine in Germany.&#34; href=&#34;https://dominicroye.github.io/img/album/ger_diesel.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/ger_diesel.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;The ratio of cars with diesel engine in Germany. Data: Kraftfahrt Bundesamt&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Population movements registered with mobile phones in Spain.&#34; href=&#34;https://dominicroye.github.io/img/album/Madrid_movib.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Madrid_movib.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Population movements registered with mobile phones in Spain. Data: &lt;a href=&#34;https://www.ine.es/experimental/movilidad/experimental_em.htm&#34; target=&#34;_blank&#34;&gt;INE&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Population movements registered with mobile phones at 12:00 in the morning compared to 20:00 in Spain.&#34; href=&#34;https://dominicroye.github.io/img/album/movimiento_dianoche_esp.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/movimiento_dianoche_esp.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Population movement registered with mobile phones at 12:00 in the morning compared to 20:00 in Spain. Data: &lt;a href=&#34;https://www.ine.es/experimental/movilidad/experimental_em.htm&#34; target=&#34;_blank&#34;&gt;INE&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Population movements registered with mobile phones in the COVID19 pandemic in Spain.&#34; href=&#34;https://dominicroye.github.io/img/album/flujo_mov_animation.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/flujo_mov_animation.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Population movements registered with mobile phones in the COVID19 pandemic in Spain. Data: &lt;a href=&#34;https://www.ine.es/experimental/movilidad/experimental_em.htm&#34; target=&#34;_blank&#34;&gt;INE&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Population movements registered with mobile phones in november 2019 in Spain.&#34; href=&#34;https://dominicroye.github.io/img/album/flujo_nov2019.png&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/flujo_nov2019.png&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Population movements registered with mobile phones in november 2019 in Spain. Data: &lt;a href=&#34;https://www.ine.es/experimental/movilidad/experimental_em.htm&#34; target=&#34;_blank&#34;&gt;INE&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Population point clouds of Ourense since 1975.&#34; href=&#34;https://dominicroye.github.io/img/album/Ourense_pob.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/Ourense_pob.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Population point clouds of Ourense since 1975. Data: &lt;a href=&#34;http://ige.eu&#34; target=&#34;_blank&#34;&gt;IGE&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Population pyramid of Galicia since 1975.&#34; href=&#34;https://dominicroye.github.io/img/album/pop_pyr.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/pop_pyr.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Population pyramid of Galicia since 1975. Data: &lt;a href=&#34;http://ige.eu&#34; target=&#34;_blank&#34;&gt;IGE&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Population pyramid of Galician provinces since 1975.&#34; href=&#34;https://dominicroye.github.io/img/album/pop_pyr_galprov.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/pop_pyr_galprov.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Population pyramid of Galician provinces since 1975. Data: &lt;a href=&#34;http://ige.eu&#34; target=&#34;_blank&#34;&gt;IGE&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
  
  
    
      
    
  
  &lt;div class=&#34;box&#34;&gt;&lt;a data-fancybox=&#34;gallery-gallery&#34; data-caption=&#34;Population pyramid of Spanish autonomous community since 1998.&#34; href=&#34;https://dominicroye.github.io/img/album/pop_pyr_ccaa.gif&#34;&gt;
    &lt;img src=&#34;https://dominicroye.github.io/img/album/pop_pyr_ccaa.gif&#34; alt=&#34;&#34;&gt;
  &lt;/a&gt;
&lt;div class=&#34;imgcap&#34;&gt;Population pyramid of Spanish autonomous community since 1998. Data: &lt;a href=&#34;https://www.ine.es/&#34; target=&#34;_blank&#34;&gt;INE&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
  
  
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Effects of hot nights on mortality in Southern Europe</title>
      <link>https://dominicroye.github.io/es/publication/hot_nights_europe_2021/</link>
      <pubDate>Thu, 01 Apr 2021 00:00:00 +0000</pubDate>
      
      <guid>https://dominicroye.github.io/es/publication/hot_nights_europe_2021/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Heatwave intensity on the Iberian Peninsula: Future climate projections</title>
      <link>https://dominicroye.github.io/es/publication/ehf_climate_change_2021/</link>
      <pubDate>Thu, 01 Apr 2021 00:00:00 +0000</pubDate>
      
      <guid>https://dominicroye.github.io/es/publication/ehf_climate_change_2021/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Mapa dasimétrico bivariante</title>
      <link>https://dominicroye.github.io/es/2021/mapa-dasim%C3%A9trico-bivariante/</link>
      <pubDate>Mon, 01 Mar 2021 00:00:00 +0000</pubDate>
      
      <guid>https://dominicroye.github.io/es/2021/mapa-dasim%C3%A9trico-bivariante/</guid>
      <description>
&lt;script src=&#34;https://dominicroye.github.io/es/2021/mapa-dasim%C3%A9trico-bivariante/index.es_files/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;


&lt;div id=&#34;consideraciones-iniciales&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Consideraciones iniciales&lt;/h1&gt;
&lt;p&gt;Una desventaja de los mapas coropletas es que estos suelen distorsionar la relación entre la verdadera geografía subyacente y la variable representada. Se debe a que las divisiones administrativas no suelen coincidir con la realidad geográfica, donde la gente vive. Además, grandes áreas aparentan tener un peso con poca población que no tienen realmente. Para reflejar mejor la realidad se hace uso de distribuciones más realista de la población como puede ser el uso de suelo. Con técnicas de Sistemas de Información Geográfica es posible redistribuir la variable de interés en función de una variable a menor unidad espacial.&lt;/p&gt;
&lt;p&gt;Cuando disponemos de datos de puntos, el proceso de redistribución simplemente es recortar áreas de puntos con población a base del uso de suelo, normalmente clasificado como urbano. En caso de polígonos también podríamos recortar con polígonos de uso de suelo, pero una alternativa interesante son los mismos datos en formato raster. Veremos cómo podemos realizar un mapa dasimétrico usando datos raster con una resolución de 100 m. En este post usaremos datos de secciones censales de la renta media y el índice de Gini de España. No sólo haremos un mapa dasimétrico, sino también bivariante, representando con dos gamas de colores ambas variables en el mismo mapa.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;paquetes&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Paquetes&lt;/h1&gt;
&lt;p&gt;En este post usaremos los siguientes paquetes:&lt;/p&gt;
&lt;table&gt;
&lt;colgroup&gt;
&lt;col width=&#34;10%&#34; /&gt;
&lt;col width=&#34;89%&#34; /&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;Paquete&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Descripción&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;tidyverse&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Conjunto de paquetes (visualización y manipulación de datos): ggplot2, dplyr, purrr,etc.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;patchwork&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Simple gramática para combinar ggplots separados en el mismo gráfico&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;raster&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Importar, exportar y manipular raster&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;sf&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Simple Feature: importar, exportar y manipular datos vectoriales&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;biscale&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Herramientas y paletas para mapeo temático bivariado&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;sysfonts&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Cargar fuentes en R&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;showtext&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Usar fuentes más fácilmente en gráficos R&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# instalamos los paquetes si hace falta
if(!require(&amp;quot;tidyverse&amp;quot;)) install.packages(&amp;quot;tidyverse&amp;quot;)
if(!require(&amp;quot;patchwork&amp;quot;)) install.packages(&amp;quot;patchwork&amp;quot;)
if(!require(&amp;quot;sf&amp;quot;)) install.packages(&amp;quot;sf&amp;quot;)
if(!require(&amp;quot;raster&amp;quot;)) install.packages(&amp;quot;raster&amp;quot;)
if(!require(&amp;quot;biscale&amp;quot;)) install.packages(&amp;quot;biscale&amp;quot;)
if(!require(&amp;quot;sysfonts&amp;quot;)) install.packages(&amp;quot;sysfonts&amp;quot;)
if(!require(&amp;quot;showtext&amp;quot;)) install.packages(&amp;quot;showtext&amp;quot;)

# paquetes
library(tidyverse)
library(sf)
library(readxl)
library(biscale)
library(patchwork)
library(raster)
library(sysfonts)
library(showtext)
library(raster)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;preparación&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Preparación&lt;/h1&gt;
&lt;div id=&#34;datos&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Datos&lt;/h2&gt;
&lt;p&gt;Primero descargamos todos los datos necesarios. Con excepción de los datos CORINE Land Cover (~200 MB), se pueden obtener los datos almacenados en este blog directamente vía los enlaces indicados .&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CORINE Land Cover 2018 (geotiff): &lt;a href=&#34;https://land.copernicus.eu/pan-european/corine-land-cover/clc2018?tab=download&#34;&gt;COPERNICUS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Datos de renta e índice Gini (excel) [INE]: &lt;a href=&#34;https://dominicroye.github.io/files/renta.zip&#34;&gt;descarga&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Límites censales de España (vectorial) [INE]: &lt;a href=&#34;https://dominicroye.github.io/files/SECC_CE_20200101.zip&#34;&gt;descarga&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;importar&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Importar&lt;/h2&gt;
&lt;p&gt;Lo primero que hacemos es importar el raster del uso de suelo, los datos de renta e índice de Gini y los límites censales.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# raster de CORINE LAND COVER 2018
urb &amp;lt;- raster(&amp;quot;U2018_CLC2018_V2020_20u1.tif&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in showSRID(uprojargs, format = &amp;quot;PROJ&amp;quot;, multiline = &amp;quot;NO&amp;quot;, prefer_proj
## = prefer_proj): Discarded datum Unknown based on GRS80 ellipsoid in Proj4
## definition&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# datos de renta y Gini
renta &amp;lt;- read_excel(&amp;quot;30824.xlsx&amp;quot;)
gini &amp;lt;- read_excel(&amp;quot;37677.xlsx&amp;quot;)

# límites censales del INE
limits &amp;lt;- read_sf(&amp;quot;SECC_CE_20200101.shp&amp;quot;) &lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;usos-de-suelo&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Usos de suelo&lt;/h2&gt;
&lt;p&gt;En este primer paso filtramos las secciones censales para obtener aquellas de la Comunidad Autónoma de Madrid, y creamos los límites municipales. Para disolver los polígonos de secciones censales aplicamos la función &lt;code&gt;group_by()&lt;/code&gt; en combinación con &lt;code&gt;summarise()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# filtramos la Comunidad Autónoma de Madrid
limits &amp;lt;- filter(limits, NCA == &amp;quot;Comunidad de Madrid&amp;quot;)

# obtenemos los límites municipales
mun_limit &amp;lt;- group_by(limits, CUMUN) %&amp;gt;% summarise()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;En el siguiente paso recortamos el raster de uso de suelo con los límites de Madrid. Recomiendo usar siempre primero la función &lt;code&gt;crop()&lt;/code&gt; y después &lt;code&gt;mask()&lt;/code&gt;, la primera recorta a la extensión requerida y la segunda enmascara. Posteriormente, eliminamos todos los valores que correspondan a 1 o 2 (urbano continuo, discontinuo). Por último, proyectamos el raster.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# proyectamos los límites 
limits_prj &amp;lt;- st_transform(limits, projection(urb))

# acortamos y enmascaramos 
urb_mad &amp;lt;- crop(urb, limits_prj) %&amp;gt;% 
              mask(limits_prj)

# eliminamos píxeles no urbanos 
urb_mad[!urb_mad %in% 1:2] &amp;lt;- NA 

# plot del raster
plot(urb_mad)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2021/mapa-dasim%C3%A9trico-bivariante/index.es_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;2100&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# proyectamos 
urb_mad &amp;lt;- projectRaster(urb_mad, crs = CRS(&amp;quot;+proj=longlat +datum=WGS84 +no_defs&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;En este siguiente paso, convertimos los datos raster en un objeto &lt;code&gt;sf&lt;/code&gt; de puntos.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# transformamos el raster a xyz y objeto sf 
urb_mad &amp;lt;- as.data.frame(urb_mad, xy = TRUE, na.rm = TRUE) %&amp;gt;%
                st_as_sf(coords = c(&amp;quot;x&amp;quot;, &amp;quot;y&amp;quot;), crs = 4326)

# añadimos las columnas de las coordinadas
urb_mad &amp;lt;- urb_mad %&amp;gt;% rename(urb = 1) %&amp;gt;% cbind(st_coordinates(urb_mad))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;renta-media-e-índice-de-gini&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Renta media e índice de Gini&lt;/h2&gt;
&lt;p&gt;El formato de los Excels no coincide con el original del INE, dado que he limpiado el formato antes con el objetivo de hacer más fácil este post. Lo que nos queda es crear una columna con los códigos de las secciones censales y excluir datos que corresponden a otro nivel administrativo.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## datos renta y gini INE

renta_sec &amp;lt;- mutate(renta, NATCODE = str_extract(CUSEC, &amp;quot;[0-9]{5,10}&amp;quot;), 
                nc_len = str_length(NATCODE),
                mun_name = str_remove(CUSEC, NATCODE) %&amp;gt;% str_trim()) %&amp;gt;%
             filter(nc_len &amp;gt; 5)

gini_sec &amp;lt;- mutate(gini, NATCODE = str_extract(CUSEC, &amp;quot;[0-9]{5,10}&amp;quot;), 
               nc_len = str_length(NATCODE),
               mun_name = str_remove(CUSEC, NATCODE) %&amp;gt;% str_trim()) %&amp;gt;%
             filter(nc_len &amp;gt; 5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;En el siguiente paso unimos ambas tablas con las secciones censales usando &lt;code&gt;left_join()&lt;/code&gt; y convertimos columnas de interés en modo numérico.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# unimos ambas tablas de renta y Gini con los límites censales
mad &amp;lt;- left_join(limits, renta_sec, by = c(&amp;quot;CUSEC&amp;quot;=&amp;quot;NATCODE&amp;quot;)) %&amp;gt;% 
          left_join(gini_sec, by = c(&amp;quot;CUSEC&amp;quot;=&amp;quot;NATCODE&amp;quot;))

# convertimos columnas en numérico 
mad &amp;lt;- mutate_at(mad, c(23:27, 30:31), as.numeric)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;variable-bivariante&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Variable bivariante&lt;/h2&gt;
&lt;p&gt;Para crear un mapa bivariante debemos construir una única variable que combina diferentes clases de dos variables. Normalmente son tres de cada una lo que lleva a nueve clases en total. En nuestro caso, la renta media y el índice Gini. El paquete &lt;code&gt;biscale&lt;/code&gt; incluye funciones auxiliares para llevar a cabo este proceso. Con la función &lt;code&gt;bi_class()&lt;/code&gt; creamos esta variable de clasificación usando cuantiles como algoritmo. Dado que en ambas variables encontramos valores ausentes, corregimos aquellas combinaciones entre ambas variables donde aparece un &lt;code&gt;NA&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## creamos clasificación bivariante
mapbivar &amp;lt;- bi_class(mad, GINI_2017, RNMP_2017, style = &amp;quot;quantile&amp;quot;, dim = 3) %&amp;gt;% 
             mutate(bi_class = ifelse(str_detect(bi_class, &amp;quot;NA&amp;quot;), NA, bi_class))

# resultado
head(dplyr::select(mapbivar, GINI_2017, RNMP_2017, bi_class))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Simple feature collection with 6 features and 3 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: 415538.9 ymin: 4451487 xmax: 469341.7 ymax: 4552422
## projected CRS:  ETRS89 / UTM zone 30N
## # A tibble: 6 x 4
##   GINI_2017 RNMP_2017 bi_class                                          geometry
##       &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;                                   &amp;lt;MULTIPOLYGON [m]&amp;gt;
## 1      NA          NA &amp;lt;NA&amp;gt;     (((446007.9 4552348, 446133.7 4552288, 446207.8 ~
## 2      31       13581 2-2      (((460243.8 4487756, 460322.4 4487739, 460279 44~
## 3      30       12407 2-2      (((457392.5 4486262, 457391.6 4486269, 457391.1 ~
## 4      34.3     13779 3-2      (((468720.8 4481374, 468695.5 4481361, 468664.6 ~
## 5      33.5      9176 3-1      (((417140.2 4451736, 416867.5 4451737, 416436.8 ~
## 6      26.2     10879 1-1      (((469251.9 4480826, 469268.1 4480797, 469292.6 ~&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Terminamos redistribuyendo la variable de desigualdad sobre los píxeles del uso de suelo urbano. La función &lt;code&gt;st_join()&lt;/code&gt; une los datos con los puntos del uso de suelo.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;## redistribuimos los píxeles urbanos a la desigualdad
mapdasi &amp;lt;- st_join(urb_mad, st_transform(mapbivar, 4326))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;construcción-del-mapa&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Construcción del mapa&lt;/h1&gt;
&lt;div id=&#34;leyenda-y-fuente&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Leyenda y fuente&lt;/h2&gt;
&lt;p&gt;Antes de construir ambos mapas debemos crear la leyenda usando la función &lt;code&gt;bi_legend()&lt;/code&gt;. En la función definimos los títulos para cada variable, el número de dimensiones y la gama de colores. Por último, añadimos la fuente de Montserrat para los títulos del gráfico final.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# leyenda bivariante
legend2 &amp;lt;- bi_legend(pal = &amp;quot;DkViolet&amp;quot;,
                     dim = 3,
                     xlab = &amp;quot;Más desigual&amp;quot;,
                     ylab = &amp;quot;Más renta&amp;quot;,
                     size = 9)


#descarga de fuente
font_add_google(&amp;quot;Montserrat&amp;quot;, &amp;quot;Montserrat&amp;quot;)
showtext_auto()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;mapa-dasimétrico&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Mapa dasimétrico&lt;/h2&gt;
&lt;p&gt;Este mapa construimos usando &lt;code&gt;geom_tile()&lt;/code&gt; para los píxeles y &lt;code&gt;geom_sf()&lt;/code&gt; para los límites municipales. Además, será el mapa de la derecha donde ubicamos también la leyenda. Para añadir la leyenda hacemos uso de la función &lt;code&gt;annotation_custom()&lt;/code&gt; indicando la posición en las coordenadas geográficas del mapa. El paquete &lt;code&gt;biscale&lt;/code&gt; también nos ayuda con la definición del color a través de la función &lt;code&gt;bi_scale_fill()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p2 &amp;lt;- ggplot(mapdasi) + 
  geom_tile(aes(X, Y, 
                fill = bi_class), 
            show.legend = FALSE) +
  geom_sf(data = mun_limit,  
          color = &amp;quot;grey80&amp;quot;, 
          fill = NA, 
          size = 0.2) +
  annotation_custom(ggplotGrob(legend2), 
                    xmin = -3.25, xmax = -2.65,
                    ymin = 40.55, ymax = 40.95) +
  bi_scale_fill(pal = &amp;quot;DkViolet&amp;quot;, 
                dim = 3, 
                na.value = &amp;quot;grey90&amp;quot;) +
  labs(title = &amp;quot;dasimétrico&amp;quot;, x = &amp;quot;&amp;quot;, y =&amp;quot;&amp;quot;) +
  bi_theme() +
  theme(plot.title = element_text(family = &amp;quot;Montserrat&amp;quot;, size = 30, face = &amp;quot;bold&amp;quot;)) +
  coord_sf(crs = 4326)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;mapa-coropleta&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Mapa coropleta&lt;/h2&gt;
&lt;p&gt;El mapa coropleta se construye de forma similar al mapa anterior con la diferencia de que usamos &lt;code&gt;geom_sf()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p1 &amp;lt;- ggplot(mapbivar) + 
  geom_sf(aes(fill = bi_class), 
          colour = NA, 
          size = .1, 
          show.legend = FALSE) +
  geom_sf(data = mun_limit,  
          color = &amp;quot;white&amp;quot;, 
          fill = NA, 
          size = 0.2) +
  bi_scale_fill(pal = &amp;quot;DkViolet&amp;quot;, 
                dim = 3, 
                na.value = &amp;quot;grey90&amp;quot;) +
  labs(title = &amp;quot;coroplético&amp;quot;,  x = &amp;quot;&amp;quot;, y =&amp;quot;&amp;quot;) +
  bi_theme() +
  theme(plot.title = element_text(family = &amp;quot;Montserrat&amp;quot;, size = 30, face = &amp;quot;bold&amp;quot;)) +
  coord_sf(crs = 4326)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;combinar-ambos-mapas&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Combinar ambos mapas&lt;/h2&gt;
&lt;p&gt;Con ayuda del paquete &lt;code&gt;patchwork&lt;/code&gt; combinamos ambos mapas en una única fila, primero el mapa coropleta y a su derecha el mapa dasimétrico. Más detalles de la gramática que se usa para la combinación de gráficos &lt;a href=&#34;https://patchwork.data-imaginist.com/&#34;&gt;aquí&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# Combinamos 
p &amp;lt;- p1 | p2

p&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2021/mapa-dasim%C3%A9trico-bivariante/index.es_files/figure-html/unnamed-chunk-15-1.png&#34; width=&#34;3300&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Glossary on atmospheric electricity and its effects on biology</title>
      <link>https://dominicroye.github.io/es/publication/glossary_electricity_2020/</link>
      <pubDate>Thu, 07 Jan 2021 00:00:00 +0000</pubDate>
      
      <guid>https://dominicroye.github.io/es/publication/glossary_electricity_2020/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Un heatmap como calendario</title>
      <link>https://dominicroye.github.io/es/2020/un-heatmap-como-calendario/</link>
      <pubDate>Sun, 20 Dec 2020 00:00:00 +0000</pubDate>
      
      <guid>https://dominicroye.github.io/es/2020/un-heatmap-como-calendario/</guid>
      <description>
&lt;script src=&#34;https://dominicroye.github.io/es/2020/un-heatmap-como-calendario/index.es_files/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;Recientemente buscaba una representación visual para mostrar los cambios diarios de la temperatura, precipitación y el viento en una aplicación &lt;a href=&#34;https://xeo81.shinyapps.io/MeteoExtremosGalicia/&#34;&gt;xeo81.shinyapps.io/MeteoExtremosGalicia&lt;/a&gt;, lo que me llevó a usar un heatmap en forma de calendario. La aplicación &lt;a href=&#34;https://shiny.rstudio.com/&#34;&gt;shiny&lt;/a&gt; se actualiza cada cuatro horas con nuevos datos mostrando calendarios de cada estación meteorológica. El heatmap como calendario permite visualizar cualquier variable con una referencia temporal diaria.&lt;/p&gt;
&lt;div id=&#34;paquetes&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Paquetes&lt;/h2&gt;
&lt;p&gt;En este post usaremos los siguientes paquetes:&lt;/p&gt;
&lt;table&gt;
&lt;colgroup&gt;
&lt;col width=&#34;10%&#34; /&gt;
&lt;col width=&#34;89%&#34; /&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;Paquete&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Descripción&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;tidyverse&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Conjunto de paquetes (visualización y manipulación de datos): ggplot2, dplyr, purrr,etc.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;lubridate&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Fácil manipulación de fechas y tiempos&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;ragg&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Salidas gráficas para R basados en la librería AGG&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# instalamos los paquetes si hace falta
if(!require(&amp;quot;tidyverse&amp;quot;)) install.packages(&amp;quot;tidyverse&amp;quot;)
if(!require(&amp;quot;ragg&amp;quot;)) install.packages(&amp;quot;ragg&amp;quot;)
if(!require(&amp;quot;lubridate&amp;quot;)) install.packages(&amp;quot;lubridate&amp;quot;)

# paquetes
library(tidyverse)
library(lubridate)
library(ragg)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Para aquellos con menos experiencia con &lt;code&gt;tidyverse&lt;/code&gt;, recomiendo una breve introducción en este blog &lt;a href=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/&#34;&gt;post&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;datos&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Datos&lt;/h2&gt;
&lt;p&gt;En este ejemplo usaremos la precipitación diaria de Santiago de Compostela de este año 2020 (hasta el 20 de diciembre) &lt;a href=&#34;https://dominicroye.github.io/files/precipitation_santiago.csv&#34;&gt;descarga&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# importamos los datos
dat_pr &amp;lt;- read_csv(&amp;quot;precipitation_santiago.csv&amp;quot;)
dat_pr&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 355 x 2
##    date          pr
##    &amp;lt;date&amp;gt;     &amp;lt;dbl&amp;gt;
##  1 2020-01-01   0  
##  2 2020-01-02   0  
##  3 2020-01-03   5.4
##  4 2020-01-04   0  
##  5 2020-01-05   0  
##  6 2020-01-06   0  
##  7 2020-01-07   0  
##  8 2020-01-08   1  
##  9 2020-01-09   3.8
## 10 2020-01-10   0  
## # ... with 345 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;preparación&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Preparación&lt;/h2&gt;
&lt;p&gt;En el primer paso debemos 1) complementar la serie temporal desde el 21 al 31 de diciembre con &lt;code&gt;NA&lt;/code&gt;, 2) añadir el día de la semana, el mes, el número de la semana y el día. En función de si queremos que cada semana comience por Domingo o Lunes debemos indicarlo en la función &lt;code&gt;wday()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat_pr &amp;lt;- dat_pr %&amp;gt;% 
          complete(date = seq(ymd(&amp;quot;2020-01-01&amp;quot;), 
                              ymd(&amp;quot;2020-12-31&amp;quot;), 
                              &amp;quot;day&amp;quot;)) %&amp;gt;%
          mutate(weekday = wday(date, label = T, week_start = 1), 
                 month = month(date, label = T, abbr = F),
                 week = isoweek(date),
                 day = day(date))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;En el siguiente paso corregimos las etiquetas de los días de la semana, es un bug dentro del paquete &lt;code&gt;lubridate&lt;/code&gt;. Además debemos hacer un cambio en la semana del año, lo que se debe a que en ciertos años pueden quedar, por ejemplo, unos días al final de año como primera semana del siguiente año. También creamos dos nuevas columnas. Por una parte, categorizamos la precipitación en 14 clases y por otra definimos un color de texto blanco para tonos más oscuros.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat_pr &amp;lt;- mutate(dat_pr, 
                 weekday = factor(weekday, 
                                  levels(weekday),
                                  str_sub(levels(weekday), 1, 2)),
                 week = case_when(month == &amp;quot;diciembre&amp;quot; &amp;amp; week == 1 ~ 53,
                                  month == &amp;quot;enero&amp;quot; &amp;amp; week %in% 52:53 ~ 0,
                                  TRUE ~ week),
                 pcat = cut(pr, c(-1, 0, .5, 1:5, 7, 9, 15, 20, 25, 30, 300)),
                 text_col = ifelse(pcat %in% c(&amp;quot;(15,20]&amp;quot;, &amp;quot;(20,25]&amp;quot;, &amp;quot;(25,30]&amp;quot;, &amp;quot;(30,300]&amp;quot;), 
                                   &amp;quot;white&amp;quot;, &amp;quot;black&amp;quot;)) 
      
dat_pr  &lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 366 x 8
##    date          pr weekday month  week   day pcat    text_col
##    &amp;lt;date&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;ord&amp;gt;   &amp;lt;ord&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt; &amp;lt;fct&amp;gt;   &amp;lt;chr&amp;gt;   
##  1 2020-01-01   0   mi      enero     1     1 (-1,0]  black   
##  2 2020-01-02   0   ju      enero     1     2 (-1,0]  black   
##  3 2020-01-03   5.4 vi      enero     1     3 (5,7]   black   
##  4 2020-01-04   0   sá      enero     1     4 (-1,0]  black   
##  5 2020-01-05   0   do      enero     1     5 (-1,0]  black   
##  6 2020-01-06   0   lu      enero     2     6 (-1,0]  black   
##  7 2020-01-07   0   ma      enero     2     7 (-1,0]  black   
##  8 2020-01-08   1   mi      enero     2     8 (0.5,1] black   
##  9 2020-01-09   3.8 ju      enero     2     9 (3,4]   black   
## 10 2020-01-10   0   vi      enero     2    10 (-1,0]  black   
## # ... with 356 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;visualización&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Visualización&lt;/h2&gt;
&lt;p&gt;Primero creamos una rampa de color a partir de colores Brewer.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# rampa de color
pubu &amp;lt;- RColorBrewer::brewer.pal(9, &amp;quot;PuBu&amp;quot;)
col_p &amp;lt;- colorRampPalette(pubu)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Antes de construir el gráfico definimos un estilo personalizado como función. Para ello, especificamos todos los elementos y sus modificaciones con ayuda de la función &lt;code&gt;theme()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;theme_calendar &amp;lt;- function(){

 theme(aspect.ratio = 1/2,
       
       axis.title = element_blank(),
       axis.ticks = element_blank(),
       axis.text.y = element_blank(),
       axis.text = element_text(family = &amp;quot;Montserrat&amp;quot;),
       
       panel.grid = element_blank(),
       panel.background = element_blank(),
       
       strip.background = element_blank(),
       strip.text = element_text(family = &amp;quot;Montserrat&amp;quot;, face = &amp;quot;bold&amp;quot;, size = 15),
       
       legend.position = &amp;quot;top&amp;quot;,
       legend.text = element_text(family = &amp;quot;Montserrat&amp;quot;, hjust = .5),
       legend.title = element_text(family = &amp;quot;Montserrat&amp;quot;, size = 9, hjust = 1),
       
       plot.caption =  element_text(family = &amp;quot;Montserrat&amp;quot;, hjust = 1, size = 8),
       panel.border = element_rect(colour = &amp;quot;grey&amp;quot;, fill=NA, size=1),
       plot.title = element_text(family = &amp;quot;Montserrat&amp;quot;, hjust = .5, size = 26, 
                                 face = &amp;quot;bold&amp;quot;, 
                                 margin = margin(0,0,0.5,0, unit = &amp;quot;cm&amp;quot;)),
       plot.subtitle = element_text(family = &amp;quot;Montserrat&amp;quot;, hjust = .5, size = 16)
  )
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Finalmente, creamos el gráfico usando &lt;code&gt;geom_tile()&lt;/code&gt; y especificamos como eje X el día de la semana y como eje Y el número de la semana. Como podéis observar en la variable de la semana (&lt;code&gt;-week&lt;/code&gt;) cambio el signo con el objetivo de que el primer día de cada mes este en la primera fila. Con &lt;code&gt;geom_text()&lt;/code&gt; añadimos el número de cada día con su color según lo que definimos anteriormente. En &lt;code&gt;guides&lt;/code&gt; hacemos los ajustes de la barra de color y en &lt;code&gt;scale_fill/colour_manual()&lt;/code&gt; definimos los colores correspondientes. Un importante paso lo encontramos en &lt;code&gt;facet_wrap()&lt;/code&gt; donde especificamos las facetas de cada mes. Las facetas deben tener escalas libres y lo óptimo sería una distribución de 4x3 facetas. Es posible modificar la posición del número de día a otra posición usando los argumentos &lt;code&gt;nudge_*&lt;/code&gt; en &lt;code&gt;geom_text()&lt;/code&gt; (por ej. esquina abajo derecha: nudge_x = .35, nudge_y = -.25).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;    ggplot(dat_pr, 
           aes(weekday, -week, fill = pcat)) +
      geom_tile(colour = &amp;quot;white&amp;quot;, size = .4)  + 
      geom_text(aes(label = day, colour = text_col), size = 2.5) +
      guides(fill = guide_colorsteps(barwidth = 25, 
                                     barheight = .4,
                                    title.position = &amp;quot;top&amp;quot;)) +
       scale_fill_manual(values = c(&amp;quot;white&amp;quot;, col_p(13)),
                         na.value = &amp;quot;grey90&amp;quot;, drop = FALSE) +
       scale_colour_manual(values = c(&amp;quot;black&amp;quot;, &amp;quot;white&amp;quot;), guide = FALSE) + 
       facet_wrap(~ month, nrow = 4, ncol = 3, scales = &amp;quot;free&amp;quot;) +
       labs(title = &amp;quot;¿Cómo está siendo el 2020 en Santiago?&amp;quot;, 
             subtitle = &amp;quot;Precipitación&amp;quot;,
             caption = &amp;quot;Datos: Meteogalicia&amp;quot;,
             fill = &amp;quot;mm&amp;quot;) +
       theme_calendar()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/un-heatmap-como-calendario/index.es_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;768&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Para exportar haremos uso del paquete &lt;a href=&#34;https://github.com/r-lib/ragg&#34;&gt;&lt;code&gt;ragg&lt;/code&gt;&lt;/a&gt;, que proporciona mayor rendimiento y mayor calidad que los dispositivos ráster estándar proporcionados por grDevices.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggsave(&amp;quot;pr_calendar.png&amp;quot;, height = 10, width = 8, device = agg_png())&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;En otros calendarios he añadido la dirección predominante del viento de cada día como flecha usando &lt;code&gt;geom_arrow()&lt;/code&gt; del paquete &lt;code&gt;metR&lt;/code&gt; (se puede ver en la mencionada aplicación).&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Impact of Extreme Temperatures on Ambulance Dispatches Due to Cardiovascular Causes in North-West Spain</title>
      <link>https://dominicroye.github.io/es/publication/emergency_calls_spain_2020/</link>
      <pubDate>Tue, 01 Dec 2020 00:00:00 +0000</pubDate>
      
      <guid>https://dominicroye.github.io/es/publication/emergency_calls_spain_2020/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Animación climática de la temperatura máxima</title>
      <link>https://dominicroye.github.io/es/2020/animaci%C3%B3n-clim%C3%A1tica-de-la-temperatura-m%C3%A1xima/</link>
      <pubDate>Sun, 11 Oct 2020 00:00:00 +0000</pubDate>
      
      <guid>https://dominicroye.github.io/es/2020/animaci%C3%B3n-clim%C3%A1tica-de-la-temperatura-m%C3%A1xima/</guid>
      <description>
&lt;script src=&#34;https://dominicroye.github.io/es/2020/animaci%C3%B3n-clim%C3%A1tica-de-la-temperatura-m%C3%A1xima/index.es_files/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;En el campo de la visualización de datos, la animación de datos espaciales en su dimensión temporal lleva a mostrar cambios y patrones fascinantes y muy visuales. A raíz de una de las últimas publicaciones que he realizado en los RRSS me pidieron que hiciera un post acerca de cómo lo creé. Pues bien, aquí vamos para empezar con datos de la España peninsular. Podéis encontrar más animaciones en la sección de &lt;a href=&#34;https://dominicroye.github.io/es/graphs/climate/&#34;&gt;gráficos&lt;/a&gt; de este mismo blog.&lt;/p&gt;
&lt;p&gt;&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;I couldn&amp;#39;t resist to make another animation. Smoothed daily maximum temperature throughout the year in Europe. &lt;a href=&#34;https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#rstats&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/ggplot2?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ggplot2&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/dataviz?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#dataviz&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/climate?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#climate&lt;/a&gt; &lt;a href=&#34;https://t.co/ZC9L0vh3vR&#34;&gt;pic.twitter.com/ZC9L0vh3vR&lt;/a&gt;&lt;/p&gt;&amp;mdash; Dominic Royé (@dr_xeo) &lt;a href=&#34;https://twitter.com/dr_xeo/status/1259059168817930240?ref_src=twsrc%5Etfw&#34;&gt;May 9, 2020&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/p&gt;
&lt;div id=&#34;paquetes&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Paquetes&lt;/h2&gt;
&lt;p&gt;En este post usaremos los siguientes paquetes:&lt;/p&gt;
&lt;table&gt;
&lt;colgroup&gt;
&lt;col width=&#34;13%&#34; /&gt;
&lt;col width=&#34;86%&#34; /&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;Paquete&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Descripción&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;tidyverse&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Conjunto de paquetes (visualización y manipulación de datos): ggplot2, dplyr, purrr,etc.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;rnaturalearth&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Mapas vectoriales del mundo ‘Natural Earth’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;lubridate&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Fácil manipulación de fechas y tiempos&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;sf&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Simple Feature: importar, exportar y manipular datos vectoriales&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;raster&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Importar, exportar y manipular raster&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;ggthemes&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Estilos para ggplot2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;gifski&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Crear gifs&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;showtext&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Usar fuentes más fácilmente en gráficos R&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;sysfonts&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Cargar fuentes del sistema y fuentes de Google&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# instalamos los paquetes si hace falta
if(!require(&amp;quot;tidyverse&amp;quot;)) install.packages(&amp;quot;tidyverse&amp;quot;)
if(!require(&amp;quot;rnaturalearth&amp;quot;)) install.packages(&amp;quot;rnaturalearth&amp;quot;)
if(!require(&amp;quot;lubridate&amp;quot;)) install.packages(&amp;quot;lubridate&amp;quot;)
if(!require(&amp;quot;sf&amp;quot;)) install.packages(&amp;quot;sf&amp;quot;)
if(!require(&amp;quot;ggthemes&amp;quot;)) install.packages(&amp;quot;ggthemes&amp;quot;)
if(!require(&amp;quot;gifski&amp;quot;)) install.packages(&amp;quot;gifski&amp;quot;)
if(!require(&amp;quot;raster&amp;quot;)) install.packages(&amp;quot;raster&amp;quot;)
if(!require(&amp;quot;sysfonts&amp;quot;)) install.packages(&amp;quot;sysfonts&amp;quot;)
if(!require(&amp;quot;showtext&amp;quot;)) install.packages(&amp;quot;showtext&amp;quot;)

# paquetes
library(raster)
library(tidyverse)
library(lubridate)
library(ggthemes)
library(sf)
library(rnaturalearth)
library(extrafont)
library(showtext)
library(RColorBrewer)
library(gifski)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Para aquellos con menos experiencia con &lt;code&gt;tidyverse&lt;/code&gt;, recomiendo la breve introducción en este blog &lt;a href=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/&#34;&gt;post&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;preparación&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Preparación&lt;/h1&gt;
&lt;div id=&#34;datos&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Datos&lt;/h2&gt;
&lt;p&gt;Descargamos los datos STEAD de la temperatura máxima (&lt;em&gt;tmax_pen.nc&lt;/em&gt;) en formato &lt;em&gt;netCDF&lt;/em&gt; desde el repositario del CSIC &lt;a href=&#34;https://digital.csic.es/handle/10261/177655&#34;&gt;aquí&lt;/a&gt; (el tamaño de los datos es de 2 GB). Se trata de un conjunto de datos con una resolución espacial de 5 km y comprenden las temperaturas máximas diarias desde 1901 a 2014. En la climatología y la meteorología, un formato de uso muy extendido es el de las bases de datos &lt;em&gt;netCDF&lt;/em&gt;, que permiten obtener una estructura multidimensional e intercambiar los datos de forma independiente al sistema operativo empleado. Se trata de un formato espacio-temporal con una cuadrícula regular o irregular. La estructura multidimensional en forma de matriz (&lt;em&gt;array&lt;/em&gt;) permite usar no sólo datos espacio-temporales sino también multivariables. En nuestros datos tendremos un cubo de tres dimensiones: longitud, latitud y tiempo de la temperatura máxima.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;https://dominicroye.github.io/img/3d_ncdf.es.png&#34; alt=&#34;&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;Royé 2015. Sémata: Ciencias Sociais e Humanidades 27:11-37&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;importar-los-datos&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Importar los datos&lt;/h2&gt;
&lt;p&gt;El formato &lt;em&gt;netCDF&lt;/em&gt; con extensión &lt;em&gt;.nc&lt;/em&gt; lo podemos importar vía dos paquetes principales: 1) &lt;code&gt;ncdf4&lt;/code&gt; y 2) &lt;code&gt;raster&lt;/code&gt;. Aunque el paquete &lt;code&gt;raster&lt;/code&gt; realmente lo que hace es usar el primer paquete para importar los datos. En este post usaremos el paquete &lt;code&gt;raster&lt;/code&gt; dado que es algo más fácil, con algunas funciones muy útiles y más universales para todo tipo de formato &lt;em&gt;raster&lt;/em&gt;. Las funciones principales de importación son: &lt;code&gt;raster()&lt;/code&gt;, &lt;code&gt;stack()&lt;/code&gt; y &lt;code&gt;brick()&lt;/code&gt;. La primera función sólo permite importar una única capa, en cambio, las últimas dos funciones se emplean para datos multidimensionales. En nuestro caso sólo tenemos una variable, por tanto no sería necesario hacer uso del argumento &lt;code&gt;varname&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# importamos los datos ncdf
tmx &amp;lt;- brick(&amp;quot;tmax_pen.nc&amp;quot;, varname = &amp;quot;tx&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Loading required namespace: ncdf4&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tmx # metadatos&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## class      : RasterBrick 
## dimensions : 190, 230, 43700, 41638  (nrow, ncol, ncell, nlayers)
## resolution : 0.0585, 0.045  (x, y)
## extent     : -9.701833, 3.753167, 35.64247, 44.19247  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : tmax_pen.nc 
## names      : X1, X2, X3, X4, X5, X6, X7, X8, X9, X10, X11, X12, X13, X14, X15, ... 
## Time (days since 1901-01-01): 1, 41638 (min, max)
## varname    : tx&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;En la estructura del objeto &lt;code&gt;RasterBrick&lt;/code&gt; vemos todos los metadatos necesarios: desde la resolución, las dimensiones o el tipo de proyección, hasta el nombre de la variable. Además nos indica que únicamente apunta a los datos (&lt;em&gt;source&lt;/em&gt;) y no los ha importado a la memoria RAM lo que facilita el trabajo con grandes conjuntos de datos.&lt;/p&gt;
&lt;p&gt;Para acceder a cualquier capa hacemos uso de &lt;code&gt;[[ ]]&lt;/code&gt; con el índice correspondiente. Así podemos plotear fácilmente cualquier día de los 41.638 días de los que disponemos.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# mapear cualquier día
plot(tmx[[200]], col = rev(heat.colors(7)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/animaci%C3%B3n-clim%C3%A1tica-de-la-temperatura-m%C3%A1xima/index.es_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;calcular-el-promedio-de-la-temperatura&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Calcular el promedio de la temperatura&lt;/h2&gt;
&lt;p&gt;En este paso el objetivo es calcular el promedio de la temperatura para cada día del año. Por eso, lo primero que hacemos es crear un vector, indicando el día del año para toda la serie temporal. En el paquete &lt;code&gt;raster&lt;/code&gt; disponemos de la función &lt;code&gt;stackApply()&lt;/code&gt; que permite aplicar una función sobre grupos de capas, o mejor dicho, índices. Dado que nuestro conjunto de datos es grande, incluimos esta función en las funciones de paralelización.&lt;/p&gt;
&lt;p&gt;Empezamos con las funciones &lt;code&gt;beginClusterr()&lt;/code&gt; y &lt;code&gt;endCluster()&lt;/code&gt; que inician y finalizan la paralelización. En la primera debemos indicar el número de núcleos que queremos usar. En este caso uso 4 de 7 posibles núcleos, no obstante, se debe cambiar el número según las características de cada CPU, siendo la norma n-1. Entonces, la función &lt;code&gt;clusterR&lt;/code&gt; permite ejecutar funciones en paralelo con múltiples núcleos. El primer argumento corresponde al objeto raster, el segundo a la función empleada, y en forma de lista pasamos los argumentos de la función &lt;code&gt;stackApply()&lt;/code&gt;, los índices que crean los grupos y la función usada para cada uno de los grupos. Si añadimos el argumento &lt;code&gt;progress = &#39;text&#39;&lt;/code&gt; se muestra una barra de progreso del cálculo.&lt;/p&gt;
&lt;p&gt;&lt;div class=&#34;alert alert-note&#34;&gt;
  
Para el conjunto de datos de EEUU hice un preprocesamiento, el cálculo del promedio en la nube a través de &lt;a href=&#34;https://earthengine.google.com/&#34;&gt;Google Earth Engine&lt;/a&gt; lo que hace todo el proceso más rápido. En el caso de Australia, el preprocesamiento fue más complejo ya que el conjunto de datos esta en archivos netCDF para cada año.

&lt;/div&gt;
&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# convertimos las fechas entre 1901 y 2014 a días del año
time_days &amp;lt;- yday(seq(as_date(&amp;quot;1901-01-01&amp;quot;), as_date(&amp;quot;2014-12-31&amp;quot;), &amp;quot;day&amp;quot;))

# calculamos el promedio 
beginCluster(4)
tmx_mean &amp;lt;- clusterR(tmx, stackApply, args = list(indices = time_days, fun = mean))
endCluster()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;suavizar-la-variabilidad-de-las-temperaturas&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Suavizar la variabilidad de las temperaturas&lt;/h2&gt;
&lt;p&gt;Antes de pasar a suavizar las series temporales de nuestro &lt;em&gt;RasterBrick&lt;/em&gt;, un ejemplo del por qué lo hacemos. Extraemos un píxel de nuestro conjunto de datos en las coordenadas -1º de longitud y 40º de latitud usando la función &lt;code&gt;extract()&lt;/code&gt;. Dado que la función con el mismo nombre aparece en varios paquetes, debemos cambiar a la forma &lt;code&gt;nombre_paquete::nombre_función&lt;/code&gt;. El resultado es una matriz con una fila correspondiente al píxel y 366 columnas de los días del año. El siguiente paso es la creación de un &lt;em&gt;data.frame&lt;/em&gt; con una fecha &lt;em&gt;dummy&lt;/em&gt; y la temperatura máxima extraída.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# extraemos un píxel
point_ts &amp;lt;- raster::extract(tmx_mean, matrix(c(-1, 40), nrow = 1))
dim(point_ts) # dimensiones &lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]   1 366&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# creamos un data.frame
df &amp;lt;- data.frame(date = seq(as_date(&amp;quot;2000-01-01&amp;quot;), as_date(&amp;quot;2000-12-31&amp;quot;), &amp;quot;day&amp;quot;),
                 tmx = point_ts[1,])

# visualizamos la temperatura máxima 
ggplot(df, 
       aes(date, tmx)) + 
     geom_line() + 
  scale_x_date(date_breaks = &amp;quot;month&amp;quot;, date_labels = &amp;quot;%b&amp;quot;) +
  scale_y_continuous(breaks = seq(5, 28, 2)) +
  labs(y = &amp;quot;Temperatura máxima&amp;quot;, x = &amp;quot;&amp;quot;, colour =  &amp;quot;&amp;quot;) +
  theme_minimal()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/animaci%C3%B3n-clim%C3%A1tica-de-la-temperatura-m%C3%A1xima/index.es_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;El gráfico muestra claramente la todavía existente variabilidad, lo que haría fluctuar bastante una animación. Por eso, creamos una función de suavizado basado en un ajuste de regresión polinomial local (LOESS), más detalles los encontráis en la ayuda de la función &lt;code&gt;loess()&lt;/code&gt;. El argumento más importante es &lt;code&gt;span&lt;/code&gt; que determina el grado de suavizado de la función, cuanto más pequeño el valor menos suave será la curva. El mejor resultado me ha dado un valor del 0,5.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;daily_smooth &amp;lt;- function(x, span = 0.5){
  
  if(all(is.na(x))){
   
    return(x) 
   
  } else {
    
  df &amp;lt;- data.frame(yd = 1:366, ta = x)
  m &amp;lt;- loess(ta ~ yd, span = span, data = df)
  est &amp;lt;- predict(m, 1:366)

  return(est)
  
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Aplicamos nuestra nueva función de suavizado a la serie temporal extraída y hacemos algunos cambios para poder visualizar la diferencia entre los datos originales y suavizados.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# suavizamos la temperatura
df &amp;lt;- mutate(df, tmx_smoothed = daily_smooth(tmx)) %&amp;gt;% 
          pivot_longer(2:3, names_to = &amp;quot;var&amp;quot;, values_to = &amp;quot;temp&amp;quot;)

# visualizamos la diferencia 
ggplot(df, 
       aes(date, temp, 
           colour = var)) + 
     geom_line() + 
  scale_x_date(date_breaks = &amp;quot;month&amp;quot;, date_labels = &amp;quot;%b&amp;quot;) +
  scale_y_continuous(breaks = seq(5, 28, 2)) +
  scale_colour_manual(values = c(&amp;quot;#f4a582&amp;quot;, &amp;quot;#b2182b&amp;quot;)) +
  labs(y = &amp;quot;Temperatura máxima&amp;quot;, x = &amp;quot;&amp;quot;, colour =  &amp;quot;&amp;quot;) +
  theme_minimal()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/animaci%C3%B3n-clim%C3%A1tica-de-la-temperatura-m%C3%A1xima/index.es_files/figure-html/unnamed-chunk-10-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Como vemos en el gráfico la curva suavizada sigue muy bien la curva original. En el siguiente paso empleamos nuestra función sobre el &lt;em&gt;RasterBrick&lt;/em&gt; usando la función &lt;code&gt;calc()&lt;/code&gt;. La función devuelve tantas capas como las que devuelve la función empleada a cada de las series temporales.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# suavizar el RasterBrick
tmx_smooth &amp;lt;- calc(tmx_mean, fun = daily_smooth)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;visualización&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Visualización&lt;/h1&gt;
&lt;div id=&#34;preparación-1&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Preparación&lt;/h2&gt;
&lt;p&gt;Para visualizar las temperaturas máximas durante todo el año, primero, convertimos el &lt;em&gt;RasterBrick&lt;/em&gt; a un &lt;em&gt;data.frame&lt;/em&gt;, incluyendo longitud y latitud, pero eliminando todas las series temporales sin valores (&lt;code&gt;NA&lt;/code&gt;).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# convertir a data.frame
tmx_mat &amp;lt;- as.data.frame(tmx_smooth, xy = TRUE, na.rm = TRUE)

# renombrar las columnas
tmx_mat &amp;lt;- set_names(tmx_mat, c(&amp;quot;lon&amp;quot;, &amp;quot;lat&amp;quot;, str_c(&amp;quot;D&amp;quot;, 1:366)))
str(tmx_mat[, 1:10])&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## &amp;#39;data.frame&amp;#39;:    20676 obs. of  10 variables:
##  $ lon: num  -8.03 -7.98 -7.92 -7.86 -7.8 ...
##  $ lat: num  43.8 43.8 43.8 43.8 43.8 ...
##  $ D1 : num  10.5 10.3 10 10.9 11.5 ...
##  $ D2 : num  10.5 10.3 10.1 10.9 11.5 ...
##  $ D3 : num  10.5 10.3 10.1 10.9 11.5 ...
##  $ D4 : num  10.6 10.4 10.1 10.9 11.5 ...
##  $ D5 : num  10.6 10.4 10.1 11 11.6 ...
##  $ D6 : num  10.6 10.4 10.1 11 11.6 ...
##  $ D7 : num  10.6 10.4 10.2 11 11.6 ...
##  $ D8 : num  10.6 10.4 10.2 11 11.6 ...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Segundo, importamos los límites administrativos con la función &lt;code&gt;ne_countries()&lt;/code&gt; del paquete &lt;code&gt;rnaturalearth&lt;/code&gt; limitando la extensión a la región de la Península Ibérica, el sur de Francia y el norte de África.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# importamos los límites globales
map &amp;lt;- ne_countries(scale = 10, returnclass = &amp;quot;sf&amp;quot;) %&amp;gt;% st_cast(&amp;quot;MULTILINESTRING&amp;quot;)

# limitamos la extensión
map &amp;lt;- st_crop(map, xmin = -10, xmax = 5, ymin = 35, ymax = 44) &lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## although coordinates are longitude/latitude, st_intersection assumes that they are planar&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: attribute variables are assumed to be spatially constant throughout all
## geometries&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# mapa de los límites
plot(map)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: plotting the first 9 out of 94 attributes; use max.plot = 94 to plot
## all&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/animaci%C3%B3n-clim%C3%A1tica-de-la-temperatura-m%C3%A1xima/index.es_files/figure-html/unnamed-chunk-13-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Tercero, creamos un vector con etiquetas del día del año para incluirlas en la animación. Además, definimos los cortes de la temperatura máxima, adaptados a la distribución de nuestros datos, para obtener una categorización con un total de 20 clases.&lt;/p&gt;
&lt;p&gt;Cuarto, aplicamos la función &lt;code&gt;cut()&lt;/code&gt; con los cortes a todas las columnas con las temperaturas de cada día del año.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# etiquetas de los días del año
lab &amp;lt;- as_date(0:365, &amp;quot;2000-01-01&amp;quot;) %&amp;gt;% format(&amp;quot;%d %B&amp;quot;)

# cortes para la temperatura
ct &amp;lt;- c(-5, 0, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 40, 45)

# datos categorizados con los cortes fijados
tmx_mat_cat &amp;lt;- mutate_at(tmx_mat, 3:368, cut, breaks = ct)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Quinto, descargamos la fuente Montserrat y definimos los colores correspondientes a las clases creadas.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# descarga de la fuente
font_add_google(&amp;quot;Montserrat&amp;quot;, &amp;quot;Montserrat&amp;quot;)

# uso de showtext con DPI 300
showtext_opts(dpi = 300)
showtext_auto()

# definimos una rampa de colores
col_spec &amp;lt;- colorRampPalette(rev(brewer.pal(11, &amp;quot;Spectral&amp;quot;)))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;mapa-estático&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Mapa estático&lt;/h2&gt;
&lt;p&gt;En esta primera visualización hacemos un mapa del 29 de mayo (día 150). No voy a explicar todos los detalles de la construcción con &lt;code&gt;ggplot2&lt;/code&gt;, no obstante, es importante destacar que hago uso de la función &lt;code&gt;aes_string()&lt;/code&gt; en lugar de &lt;code&gt;aes()&lt;/code&gt; para poder usar los nombres de las columnas en formato de carácter. Con la función &lt;code&gt;geom_raster()&lt;/code&gt; añadimos los datos en rejilla de temperatura como primera capa del gráfico y con &lt;code&gt;geom_sf()&lt;/code&gt; los límites de clase &lt;code&gt;sf&lt;/code&gt;. Por último, la función &lt;code&gt;guide_colorsteps()&lt;/code&gt; permite crear una bonita leyenda basada en las clases creadas por la función &lt;code&gt;cut()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(tmx_mat_cat) + 
         geom_raster(aes_string(&amp;quot;lon&amp;quot;, &amp;quot;lat&amp;quot;, fill = &amp;quot;D150&amp;quot;)) +
         geom_sf(data = map,
                 colour = &amp;quot;grey50&amp;quot;, size = 0.2) +
  coord_sf(expand = FALSE) +
  scale_fill_manual(values = col_spec(20), drop = FALSE) +
  guides(fill = guide_colorsteps(barwidth = 30, 
                                 barheight = 0.5,
                                 title.position = &amp;quot;right&amp;quot;,
                                 title.vjust = .1)) +
   theme_void() +
   theme(legend.position = &amp;quot;top&amp;quot;,
      legend.justification = 1,
      plot.caption = element_text(family = &amp;quot;Montserrat&amp;quot;, 
                                  margin = margin(b = 5, t = 10, unit = &amp;quot;pt&amp;quot;)),                
      plot.title = element_text(family = &amp;quot;Montserrat&amp;quot;, 
                                size = 16, face = &amp;quot;bold&amp;quot;, 
                                margin = margin(b = 2, t = 5, unit = &amp;quot;pt&amp;quot;)),
     legend.text = element_text(family = &amp;quot;Montserrat&amp;quot;),
     plot.subtitle = element_text(family = &amp;quot;Montserrat&amp;quot;, 
                                  size = 13, 
                                  margin = margin(b = 10, t = 5, unit = &amp;quot;pt&amp;quot;))) +
   labs(title = &amp;quot;Promedio de la temperatura máxima durante el año en España&amp;quot;, 
     subtitle = lab[150], 
     caption = &amp;quot;Período de referencia 1901-2014. Datos: STEAD&amp;quot;,
     fill = &amp;quot;ºC&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/img/fig_1.es.png&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;animación-de-todo-el-año&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Animación de todo el año&lt;/h2&gt;
&lt;p&gt;La animación final consiste en crear un gif a partir de todas las imágenes de los 366 días, en principio, se podría usar el paquete &lt;code&gt;gganimate&lt;/code&gt;, pero en mi experiencia es más lento, dado que requiere un &lt;code&gt;data.frame&lt;/code&gt; en formato largo. En este ejemplo una tabla larga tendría más de siete millones de filas, por eso, lo que hacemos es usar un bucle sobre las columnas y unir todas las imágenes creadas con el paquete &lt;code&gt;gifski&lt;/code&gt; que también usa &lt;code&gt;gganimate&lt;/code&gt; para la reproducción en formato gif.&lt;/p&gt;
&lt;p&gt;Antes del bucle creamos un vector con los pasos temporales o nombres de las columnas y otro vector con el nombre de las imágenes, incluida el nombre de la carpeta. Con el objetivo de obtener una lista de imágenes ordenadas por su número debemos mantener tres cifras rellenando las posiciones a la izquierda con ceros.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;time_step &amp;lt;- str_c(&amp;quot;D&amp;quot;, 1:366)

files &amp;lt;- str_c(&amp;quot;./ta_anima/D&amp;quot;, str_pad(1:366, 3, &amp;quot;left&amp;quot;, &amp;quot;0&amp;quot;), &amp;quot;.png&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Por último, incluimos la construcción anterior del gráfico en un bucle &lt;em&gt;for&lt;/em&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;for(i in 1:366){

 ggplot(tmx_mat_cat) + 
         geom_raster(aes_string(&amp;quot;lon&amp;quot;, &amp;quot;lat&amp;quot;, fill = time_step[i])) +
         geom_sf(data = map,
                 colour = &amp;quot;grey50&amp;quot;, size = 0.2) +
  coord_sf(expand = FALSE) +
  scale_fill_manual(values = col_spec(20), drop = FALSE) +
  guides(fill = guide_colorsteps(barwidth = 30, 
                                 barheight = 0.5,
                                 title.position = &amp;quot;right&amp;quot;,
                                 title.vjust = .1)) +
   theme_void() +
   theme(legend.position = &amp;quot;top&amp;quot;,
      legend.justification = 1,
      plot.caption = element_text(family = &amp;quot;Montserrat&amp;quot;, 
                                  margin = margin(b = 5, t = 10, unit = &amp;quot;pt&amp;quot;)),                
      plot.title = element_text(family = &amp;quot;Montserrat&amp;quot;, 
                                size = 16, face = &amp;quot;bold&amp;quot;, 
                                margin = margin(b = 2, t = 5, unit = &amp;quot;pt&amp;quot;)),
     legend.text = element_text(family = &amp;quot;Montserrat&amp;quot;),
     plot.subtitle = element_text(family = &amp;quot;Montserrat&amp;quot;, 
                                  size = 13, 
                                  margin = margin(b = 10, t = 5, unit = &amp;quot;pt&amp;quot;))) +
   labs(title = &amp;quot;Promedio de la temperatura máxima durante el año en España&amp;quot;, 
     subtitle = lab[i], 
     caption = &amp;quot;Período de referencia 1901-2014. Datos: STEAD&amp;quot;,
     fill = &amp;quot;ºC&amp;quot;)
  
  ggsave(files[i], width = 8.28, height = 7.33, type = &amp;quot;cairo&amp;quot;)
  
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Después de haber creado imágenes para cada día del año, únicamente nos queda por crear el gif.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gifski(files, &amp;quot;tmx_spain.gif&amp;quot;, width = 800, height = 700, loop = FALSE, delay = 0.05)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/img/tmx_spain.es.gif&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Contrasting patterns of temperature related mortality and hospitalization by cardiovascular and respiratory diseases in 52 Spanish cities</title>
      <link>https://dominicroye.github.io/es/publication/morti-morbilidad_spain_2021/</link>
      <pubDate>Thu, 01 Oct 2020 00:00:00 +0000</pubDate>
      
      <guid>https://dominicroye.github.io/es/publication/morti-morbilidad_spain_2021/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Direcciones del flujo fluvial</title>
      <link>https://dominicroye.github.io/es/2020/direcciones-del-flujo-fluvial/</link>
      <pubDate>Fri, 24 Jul 2020 00:00:00 +0000</pubDate>
      
      <guid>https://dominicroye.github.io/es/2020/direcciones-del-flujo-fluvial/</guid>
      <description>
&lt;script src=&#34;https://dominicroye.github.io/es/2020/direcciones-del-flujo-fluvial/index.es_files/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;Recientemente creé una visualización de la distribución de las direcciones del flujo fluvial y también de las orientaciones costeras. A raíz de su publicación en los RRSS (&lt;a href=&#34;https://twitter.com/dr_xeo/status/1277978724034465798?s=2&#34;&gt;aquí&lt;/a&gt;) me pidieron que hiciera un post acerca de cómo lo hice. Pues bien, aquí vamos para empezar con un ejemplo de los ríos, la orientación costera es algo más compleja. Lo mismo hice para una selección de ríos europeos aquí en este &lt;a href=&#34;https://twitter.com/dr_xeo/status/1277243216828473345?s=20&#34;&gt;tweet&lt;/a&gt;. No obstante, originalmente empecé con la orientación de las costas europeas.&lt;/p&gt;
&lt;p&gt;&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;Have you ever wondered where the European &lt;a href=&#34;https://twitter.com/hashtag/coasts?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#coasts&lt;/a&gt; are oriented? &lt;a href=&#34;https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#rstats&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/ggplot2?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ggplot2&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/geography?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#geography&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/dataviz?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#dataviz&lt;/a&gt; &lt;a href=&#34;https://t.co/tpWVxSoHlw&#34;&gt;pic.twitter.com/tpWVxSoHlw&lt;/a&gt;&lt;/p&gt;&amp;mdash; Dominic Royé (@dr_xeo) &lt;a href=&#34;https://twitter.com/dr_xeo/status/1265286552525180929?ref_src=twsrc%5Etfw&#34;&gt;May 26, 2020&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/p&gt;
&lt;div id=&#34;paquetes&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Paquetes&lt;/h2&gt;
&lt;p&gt;En este post usaremos los siguientes paquetes:&lt;/p&gt;
&lt;table&gt;
&lt;colgroup&gt;
&lt;col width=&#34;10%&#34; /&gt;
&lt;col width=&#34;89%&#34; /&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;Paquete&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Descripción&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;tidyverse&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Conjunto de paquetes (visualización y manipulación de datos): ggplot2, dplyr, purrr,etc.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;remotes&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Instalación desde repositorios remotos&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;RQGIS3&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Interfaz entre R y QGIS3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;sf&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Simple Feature: importar, exportar y manipular datos vectoriales&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;ggtext&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Soporte para la representación de texto mejorado con ggplot2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;sysfonts&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Cargar fuentes en R&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;showtext&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Usar fuentes más fácilmente en gráficos R&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;circular&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Funciones para trabajar con datos circulares&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;geosphere&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Trigonometría esférica para aplicaciones geográficas&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;En el caso del paquete &lt;code&gt;RQGIS3&lt;/code&gt; es necesario instalar QGIS en OSGeo4W &lt;a href=&#34;https://www.qgis.org/es/site/forusers/download.html&#34;&gt;aquí&lt;/a&gt;. Más adelante explicaré la razón del uso de QGIS.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# instalamos los paquetes si hace falta
if(!require(&amp;quot;tidyverse&amp;quot;)) install.packages(&amp;quot;tidyverse&amp;quot;)
if(!require(&amp;quot;remotes&amp;quot;)) install.packages(&amp;quot;remotes&amp;quot;)
if(!require(&amp;quot;RQGIS3&amp;quot;)) remotes::install_github(&amp;quot;jannes-m/RQGIS3&amp;quot;)
if(!require(&amp;quot;sf&amp;quot;)) install.packages(&amp;quot;sf&amp;quot;)
if(!require(&amp;quot;ggtext&amp;quot;)) install.packages(&amp;quot;ggtext&amp;quot;)
if(!require(&amp;quot;circular&amp;quot;)) install.packages(&amp;quot;circular&amp;quot;)
if(!require(&amp;quot;geosphere&amp;quot;)) install.packages(&amp;quot;geosphere&amp;quot;)
if(!require(&amp;quot;sysfonts&amp;quot;)) install.packages(&amp;quot;sysfonts&amp;quot;)
if(!require(&amp;quot;showtext&amp;quot;)) install.packages(&amp;quot;showtext&amp;quot;)

# paquetes
library(sf)
library(tidyverse)
library(ggtext)
library(circular)
library(geosphere)
library(RQGIS3)
library(showtext)
library(sysfonts)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;consideraciones-iniciales&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Consideraciones iniciales&lt;/h1&gt;
&lt;p&gt;Los ángulos en líneas vectoriales se basan en el ángulo entre dos vértices, y el número de vértices depende de la complejidad, y en consecuencia de la resolución, de los datos vectoriales. Por tanto, puede haber diferencias en usar distintas resoluciones de una línea vectorial, sea de la costa o del río como en este ejemplo. Una línea recta simplemente se construye con dos puntos de longitud y latitud.&lt;/p&gt;
&lt;p&gt;Relacionado con ello está la fractalidad, una estructura aparentemente irregular pero que se repite a diferentes escalas, de la línea de costa o también del río. La característica más paradójica es que la longitud de una línea costera depende de la escala de medida, cuanto menor es el incremento de medida, la longitud medida se incrementa.&lt;/p&gt;
&lt;p&gt;Existen dos posibiliades de obtener los ángulos de los vértices. En la primera calculamos el ángulo entre todos los vértices consecutivos.&lt;/p&gt;
&lt;p&gt;Por ejemplo, imaginémonos dos puntos, Madrid (-3.71, 40.43) y Barcelona (2.14, 41.4).&lt;/p&gt;
&lt;p&gt;¿Cuál es el ángulo de su línea recta?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;bearingRhumb(c(-3.71, 40.43), c(2.14, 41.4))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 77.62391&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Vemos que es el de 77º, o sea, dirección noreste. Pero, ¿y si voy de Barcelona a Madrid?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;bearingRhumb(c(2.14, 41.4), c(-3.71, 40.43))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 257.6239&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;El angúlo es diferente porque nos &lt;em&gt;movemos&lt;/em&gt; desde el noreste al suroeste. Podemos invertir fácilmente el ángulo para obtener el &lt;em&gt;movimiento&lt;/em&gt; contrario.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# ángulo contrario de Barcelona -&amp;gt; Madrid
bearingRhumb(c(2.14, 41.4), c(-3.71, 40.43)) - 180&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 77.62391&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# ángulo contrario de Madrid -&amp;gt; Barcelona
bearingRhumb(c(-3.71, 40.43), c(2.14, 41.4)) + 180&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 257.6239&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;La dirección en la que calculamos los ángulos es importante. En el caso de los ríos se espera que sea la dirección de flujo de origen a la desembocadura, ahora bien, un problema puede ser que los vértices, que construyen las líneas, no estén ordenados geográficamente en la tabla de atributos. Otro problema puede ser que los vértices empiecen en la desembocadura lo que daría al angúlo inverso como lo hemos visto antes.&lt;/p&gt;
&lt;p&gt;Sin embargo, hay una forma más fácil. Podemos aprovechar los atributos de los sistemas de coordenadas proyectados (proyección Robinson, etc) que incluyen el ángulo entre los vértices. Este último enfoque lo vamos usar en este post. Aún así, debemos prestar mucha atención a los resultados según lo dicho anteriormente.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;preparación&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Preparación&lt;/h1&gt;
&lt;div id=&#34;datos&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Datos&lt;/h2&gt;
&lt;p&gt;Descargamos las líneas centrales de los ríos más grandes del mundo (&lt;a href=&#34;https://dominicroye.github.io/files/RiverHRCenterlinesCombo.zip&#34;&gt;descarga&lt;/a&gt;), accesible también en &lt;a href=&#34;https://www.sciencebase.gov/catalog/item/5a145fdde4b09fc93dcfd36c&#34;&gt;Zeenatul Basher et al. 2018&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;importar-y-proyectar&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Importar y proyectar&lt;/h2&gt;
&lt;p&gt;Lo primero que hacemos es importar, proyectar y eliminar la tercera dimensión &lt;em&gt;Z&lt;/em&gt;, usando el encadenamiento de las siguientes functions: &lt;code&gt;st_read()&lt;/code&gt; nos ayuda a importar cualquier formato vectorial, &lt;code&gt;st_zm()&lt;/code&gt; elimina la dimensión Z o M de una geometría vectorial y &lt;code&gt;st_transform()&lt;/code&gt; proyecta los datos vectoriales a la nueva proyección en formato &lt;em&gt;proj4&lt;/em&gt;. La combinación de las funciones la realizamos con el famoso &lt;em&gt;pipe&lt;/em&gt; (&lt;code&gt;%&amp;gt;%&lt;/code&gt;) que facilita la aplicación de una secuencia de funciones sobre un conjunto de datos, más detalles en este &lt;a href=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/&#34;&gt;post&lt;/a&gt;. Todas las funciones del paquete &lt;code&gt;sf&lt;/code&gt; comienzan por &lt;code&gt;st_*&lt;/code&gt; haciendo referencia al carácter espacial de su aplicación, similar a &lt;em&gt;PostGIS.&lt;/em&gt; Igualmente, y al mismo estilo que &lt;em&gt;PostGIS&lt;/em&gt;, se usan verbos como nombres de función.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;proj_rob &amp;lt;- &amp;quot;+proj=robin +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m no_defs&amp;quot;

river_line &amp;lt;- st_read(&amp;quot;RiverHRCenterlinesCombo.shp&amp;quot;) %&amp;gt;% 
                 st_zm() %&amp;gt;% 
                    st_transform(proj_rob)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Reading layer `RiverHRCenterlinesCombo&amp;#39; from data source `D:\OneDriveUSC\OneDrive - Universidade de Santiago de Compostela\Documentos\GitHub\blogR_update\content\post\es\2020-07-24-direcciones-del-flujo-fluvial\RiverHRCenterlinesCombo.shp&amp;#39; using driver `ESRI Shapefile&amp;#39;
## Simple feature collection with 78 features and 6 fields
## Geometry type: MULTILINESTRING
## Dimension:     XYZ
## Bounding box:  xmin: -164.7059 ymin: -36.97094 xmax: 151.5931 ymax: 72.64474
## z_range:       zmin: 0 zmax: 0
## Geodetic CRS:  WGS 84&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;extraer-los-ángulos&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Extraer los ángulos&lt;/h2&gt;
&lt;p&gt;En el siguiente paso debemos extraer los ángulos de los vértices. Desgraciadamente, hasta donde sepa, no es posible extraer los atributos con alguna función del paquete &lt;code&gt;sf&lt;/code&gt;. Aunque la función &lt;code&gt;st_coordinates()&lt;/code&gt; nos devuelve las coordenadas, no incluye otros atributos. Por eso, debemos usar otra forma, y es que el open software Quantum GIS extrae todos los atributos de los vértices. Podríamos importar los datos vectoriales en QGIS Desktop y exportar los vértices desde allí, pero también es posible acceder a las funciones de QGIS desde R directamente.&lt;/p&gt;
&lt;p&gt;Para ello, tenemos que tener instalado QGIS en OSGeo4W. El paquete &lt;code&gt;RQGIS3&lt;/code&gt; nos permite de forma muy fácil usar las funciones del programa en R. Primero empleamos la función &lt;code&gt;set_env()&lt;/code&gt; para definir todas las rutas necesarias de QGIS e inciamos la API con &lt;code&gt;open_app()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# rutas a QGIS
set_env()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Trying to find QGIS in C:/&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## $root
## [1] &amp;quot;C:/Program Files/QGIS 3.18&amp;quot;
## 
## $qgis_prefix_path
## [1] &amp;quot;C:/Program Files/QGIS 3.18/apps/qgis&amp;quot;
## 
## $python_plugins
## [1] &amp;quot;C:/Program Files/QGIS 3.18/apps/qgis/python/plugins&amp;quot;
## 
## $platform
## [1] &amp;quot;Windows&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# inicio de QGIS Python
open_app()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in check_for_server(): Hey there! According to our internal checks, you are trying to run RQGIS3 on a Windows server.
## Please note that this is only possible if you imitate a x-display.
## QGIS needs this in the background to be able to execute its processing modules.
## Note that you need to start the x-display with admin rights&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;La función &lt;code&gt;find_algorithms()&lt;/code&gt; nos ayuda a buscar diferentes herramientas de QGIS. Además la función &lt;code&gt;get_usage()&lt;/code&gt; especifica la forma de uso con todos los argumentos requeridos.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# buscar herramientas
find_algorithms(search_term = &amp;quot;vertices&amp;quot;, name_only = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;native:exportmeshvertices&amp;quot;              
## [2] &amp;quot;native:extractspecificvertices&amp;quot;         
## [3] &amp;quot;native:extractvertices&amp;quot;                 
## [4] &amp;quot;native:filterverticesbym&amp;quot;               
## [5] &amp;quot;native:filterverticesbyz&amp;quot;               
## [6] &amp;quot;native:removeduplicatevertices&amp;quot;         
## [7] &amp;quot;saga:convertpolygonlineverticestopoints&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# uso de la herramienta
get_usage(alg = &amp;quot;native:extractvertices&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Extract vertices (native:extractvertices)
## 
## This algorithm takes a line or polygon layer and generates a point layer with points representing the vertices in the input lines or polygons. The attributes associated to each point are the same ones associated to the line or polygon that the point belongs to.
## 
## Additional fields are added to the point indicating the vertex index (beginning at 0)
## the vertex’s part and its index within the part (as well as its ring for polygons)
## distance along original geometry and bisector angle of vertex for original geometry.
## 
## 
## ----------------
## Input parameters
## ----------------
## 
## INPUT: Input layer
## 
##  Parameter type: QgsProcessingParameterFeatureSource
## 
##  Accepted data types:
##      - str: layer ID
##      - str: layer name
##      - str: layer source
##      - QgsProcessingFeatureSourceDefinition
##      - QgsProperty
##      - QgsVectorLayer
## 
## OUTPUT: Vertices
## 
##  Parameter type: QgsProcessingParameterFeatureSink
## 
##  Accepted data types:
##      - str: destination vector file
## e.g. d:/test.shp
##      - str: memory: to store result in temporary memory layer
##      - str: using vector provider ID prefix and destination URI
## e.g. postgres:… to store result in PostGIS table
##      - QgsProcessingOutputLayerDefinition
##      - QgsProperty
## 
## ----------------
## Outputs
## ----------------
## 
## OUTPUT:  &amp;lt;QgsProcessingOutputVectorLayer&amp;gt;
##  Vertices&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;En nuestro caso la herramienta para extraer los vértices es simple y sólo lleva una entrada y una salida. La función &lt;code&gt;run_qgis()&lt;/code&gt; ejecuta una herramienta de QGIS indicando el algoritmo y sus argumentos. La ventaja de usar el algoritmo directamente desde R es que podemos pasar objetos de clase &lt;code&gt;sf&lt;/code&gt; (o &lt;code&gt;sp&lt;/code&gt;) y &lt;code&gt;raster&lt;/code&gt; que tenemos importados o creados en R. Como salida creamos un &lt;code&gt;geojson&lt;/code&gt;, también podría ser de otro formato vectorial, y lo guardamos en una carpeta temporal. Al mismo tiempo le indicamos que importe el resultado directamente a R (&lt;code&gt;load_output = TRUE&lt;/code&gt;).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;river_vertices &amp;lt;- run_qgis(alg = &amp;quot;native:extractvertices&amp;quot;,
               INPUT = river_line,
               OUTPUT = file.path(tempdir(), &amp;quot;rivers_world_vertices.geojson&amp;quot;),
               load_output = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## $OUTPUT
## [1] &amp;quot;C:/Users/xeo19/AppData/Local/Temp/Rtmpw5vYcG/rivers_world_vertices.geojson&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;div class=&#34;alert alert-note&#34;&gt;
  
Actualmente en Windows parece haber problemas con la librería de &lt;em&gt;proj&lt;/em&gt;. En principio si termina creando el objeto &lt;code&gt;river_vertices&lt;/code&gt; no debes preocuparte. En caso contrario, recomiendo mirar la discusión en el &lt;em&gt;issue&lt;/em&gt; abierto en &lt;a href=&#34;https://github.com/r-spatial/RQGIS3/issues/20&#34;&gt;gitbub&lt;/a&gt;.

&lt;/div&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;selección&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Selección&lt;/h2&gt;
&lt;p&gt;Antes de seguir con la estimación de la distribución de los ángulos, filtramos algunos ríos de interés. Las funciones de la colección &lt;code&gt;tidyverse&lt;/code&gt; son compatibles con el paquete &lt;code&gt;sf&lt;/code&gt;. En el último post hice una introducción a &lt;code&gt;tidyverse&lt;/code&gt; &lt;a href=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/&#34;&gt;aquí&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;river_vertices &amp;lt;-  filter(river_vertices, 
                          NAME %in% c(&amp;quot;Mississippi&amp;quot;, &amp;quot;Colorado&amp;quot;, 
                                      &amp;quot;Amazon&amp;quot;, &amp;quot;Nile&amp;quot;, &amp;quot;Orange&amp;quot;, 
                                      &amp;quot;Ganges&amp;quot;, &amp;quot;Yangtze&amp;quot;, &amp;quot;Danube&amp;quot;,
                                      &amp;quot;Mackenzie&amp;quot;, &amp;quot;Lena&amp;quot;, &amp;quot;Murray&amp;quot;, 
                                      &amp;quot;Niger&amp;quot;)
                          ) 

river_vertices &lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Simple feature collection with 94702 features and 11 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -10377520 ymin: -3953778 xmax: 13124340 ymax: 7507359
## Geodetic CRS:  WGS 84
## # A tibble: 94,702 x 12
##    NAME  SYSTEM name_alt scalerank rivernum Length_km vertex_index vertex_part
##  * &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;  &amp;lt;chr&amp;gt;        &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;        &amp;lt;int&amp;gt;       &amp;lt;int&amp;gt;
##  1 Nile  &amp;lt;NA&amp;gt;   &amp;lt;NA&amp;gt;             1        4     3344.            0           0
##  2 Nile  &amp;lt;NA&amp;gt;   &amp;lt;NA&amp;gt;             1        4     3344.            1           0
##  3 Nile  &amp;lt;NA&amp;gt;   &amp;lt;NA&amp;gt;             1        4     3344.            2           0
##  4 Nile  &amp;lt;NA&amp;gt;   &amp;lt;NA&amp;gt;             1        4     3344.            3           0
##  5 Nile  &amp;lt;NA&amp;gt;   &amp;lt;NA&amp;gt;             1        4     3344.            4           0
##  6 Nile  &amp;lt;NA&amp;gt;   &amp;lt;NA&amp;gt;             1        4     3344.            5           0
##  7 Nile  &amp;lt;NA&amp;gt;   &amp;lt;NA&amp;gt;             1        4     3344.            6           0
##  8 Nile  &amp;lt;NA&amp;gt;   &amp;lt;NA&amp;gt;             1        4     3344.            7           0
##  9 Nile  &amp;lt;NA&amp;gt;   &amp;lt;NA&amp;gt;             1        4     3344.            8           0
## 10 Nile  &amp;lt;NA&amp;gt;   &amp;lt;NA&amp;gt;             1        4     3344.            9           0
## # ... with 94,692 more rows, and 4 more variables: vertex_part_index &amp;lt;int&amp;gt;,
## #   distance &amp;lt;dbl&amp;gt;, angle &amp;lt;dbl&amp;gt;, geometry &amp;lt;POINT [°]&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;estimar-la-distribución&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Estimar la distribución&lt;/h1&gt;
&lt;p&gt;Para visualizar la distribución podemos usar, o bien un histograma o un gráfico de densidad. Pero en el caso de estimar la función de densidad de probabilidad nos encontramos con un problema matemático a la hora de aplicarlo a datos circulares. No debemos usar la función estandar de R &lt;code&gt;density()&lt;/code&gt; dado que en nuestros datos una dirección de 360º es la misma a 0º, lo que provocaría errores en este rango de valores. Es un problema general para diferentes métricas estadísticas. Más detalles estadísticos se explican en el paquete &lt;code&gt;circular&lt;/code&gt;. Este paquete permite definir las características de los datos circulares (unidad, tipo de datos, rotación, etc.) como una clase de objeto en R.&lt;/p&gt;
&lt;p&gt;Por tanto, lo que hacemos es construir una función que estime la densidad y devuelva una tabla con los ángulos (x) y las estimaciones de densidad (y). Dado que los ríos tienen diferentes longitudes, y queremos ver diferencias independientemente de ello, normalizamos las estimaciones usando el valor máximo. A diferencia de la función &lt;code&gt;density()&lt;/code&gt;, en la que el ancho de banda de suavizado &lt;code&gt;bw&lt;/code&gt; es optimizado, aquí es requerido indicarlo. Es similar a definir el ancho de barra en un histograma. Existe una función de optimización para la banda, &lt;code&gt;bw.nrd.circular()&lt;/code&gt; que se podría emplear aquí.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dens_circ &amp;lt;- function(x){
  
  dens &amp;lt;- density.circular(circular(x$angle, units = &amp;quot;degrees&amp;quot;),
                                     bw = 70, kernel = &amp;quot;vonmises&amp;quot;,
                                     control.circular = list(units = &amp;quot;degrees&amp;quot;))
  
  df &amp;lt;- data.frame(x = dens$x, y = dens$y/max(dens$y))
  
  return(df)
  
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Para finalizar, estimamos la densidad de cada río de nuestra selección. Empleamos la función &lt;code&gt;split()&lt;/code&gt; de &lt;em&gt;R Base&lt;/em&gt; para obtener una tabla de cada río en una lista. Después aplicamos con la función &lt;code&gt;map_df()&lt;/code&gt; del paquete &lt;code&gt;purrr&lt;/code&gt; nuestra función de estimación de densidad a la lista. El sufijo &lt;code&gt;_df&lt;/code&gt; permite que obtengamos una tabla unida, en lugar de una lista con los resultados de cada río. No obstante, es necesario indicar el nombre de la columna con el argumento &lt;code&gt;.id&lt;/code&gt;, la que contendrá el nombre de cada río. En caso contrario no sabríamos diferenciar los resultados. También aquí recomiendo leer más detalles en el último post sobre &lt;code&gt;tidyverse&lt;/code&gt; &lt;a href=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/&#34;&gt;aquí&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dens_river &amp;lt;- split(river_vertices, river_vertices$NAME) %&amp;gt;% 
                  map_df(dens_circ, .id = &amp;quot;river&amp;quot;)

# resultado
head(dens_river)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    river        x         y
## 1 Amazon 0.000000 0.2399907
## 2 Amazon 0.704501 0.2492548
## 3 Amazon 1.409002 0.2585758
## 4 Amazon 2.113503 0.2679779
## 5 Amazon 2.818004 0.2774859
## 6 Amazon 3.522505 0.2871232&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;visualización&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Visualización&lt;/h1&gt;
&lt;p&gt;Ahora ya sólo nos queda la visualización mediante el famoso paquete &lt;code&gt;ggplot&lt;/code&gt;. Primero añadimos una nueva fuente &lt;em&gt;Montserrat&lt;/em&gt; para usarla en este gráfico.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# descarga de fuente
font_add_google(&amp;quot;Montserrat&amp;quot;, &amp;quot;Montserrat&amp;quot;)

# usar showtext para fuentes
showtext_opts(dpi = 200)
showtext_auto() &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;En el siguiente paso creamos dos objetos con el título y con una nota de pie. En el título estamos usando un código html para dar color a una parte de texto en sustitución de una leyenda. Se puede usar html de forma muy fácil con el paquete &lt;code&gt;ggtext&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# título con html 
title &amp;lt;- &amp;quot;Relative distribution of river &amp;lt;span style=&amp;#39;color:#011FFD;&amp;#39;&amp;gt;&amp;lt;strong&amp;gt;flow direction&amp;lt;/strong&amp;gt;&amp;lt;/span&amp;gt; in the world&amp;quot;


caption &amp;lt;- &amp;quot;Based on data from Zeenatul Basher, 20180215&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;La cuadrícula de fondo que crea &lt;code&gt;ggplot&lt;/code&gt; por defecto para coordenadas polares no me convenció, por eso creamos una tabla con las líneas de fondo del eje x.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;grid_x &amp;lt;- tibble(x = seq(0, 360 - 22.5, by = 22.5), 
                 y = rep(0, 16), 
                 xend = seq(0, 360 - 22.5, by = 22.5), 
                 yend = rep(Inf, 16))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A continuación definimos todos los estilos del gráfico. Lo más importante en este paso es la función &lt;code&gt;element_textbox()&lt;/code&gt; del paquete &lt;code&gt;ggtext&lt;/code&gt; para poder interpretar nuestro código html incorporado al título.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;theme_polar &amp;lt;- theme_minimal() +
               theme(axis.title.y = element_blank(),
                     axis.text.y = element_blank(),
                     legend.title = element_blank(),
                     plot.title = element_textbox(family = &amp;quot;Montserrat&amp;quot;, 
                                                   hjust = 0.5, 
                                                   colour = &amp;quot;white&amp;quot;, 
                                                   size = 15),
                     plot.caption = element_text(family = &amp;quot;Montserrat&amp;quot;, 
                                                 colour = &amp;quot;white&amp;quot;),
                     axis.text.x = element_text(family = &amp;quot;Montserrat&amp;quot;, 
                                                 colour = &amp;quot;white&amp;quot;),
                     strip.text = element_text(family = &amp;quot;Montserrat&amp;quot;, 
                                               colour = &amp;quot;white&amp;quot;, 
                                               face = &amp;quot;bold&amp;quot;),
                     panel.background = element_rect(fill = &amp;quot;black&amp;quot;),
                     plot.background = element_rect(fill = &amp;quot;black&amp;quot;),
                     panel.grid = element_blank()
                    )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Para terminar construimos el gráfico: 1) Usamos la función &lt;code&gt;geom_hline()&lt;/code&gt; con diferentes puntos de intersección en &lt;em&gt;y&lt;/em&gt; para crear la cuadrícula de fondo. La función &lt;code&gt;geom_segment()&lt;/code&gt; crea la cuadrícula en &lt;em&gt;x&lt;/em&gt;. 2) El área de densidad la creamos usando la función &lt;code&gt;geom_area()&lt;/code&gt;. 3) En &lt;code&gt;scale_x_continous()&lt;/code&gt; definimos un límite inferior
negativo para que no colapse en un punto pequeño. Las etiquetas de las ocho direcciones principales las indicamos en la función &lt;code&gt;scale_y_continous()&lt;/code&gt;, y 4) Por último, cambiamos a un sistema de coordenadas polar y fijamos la variable para crear facetas.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot() +
  geom_hline(yintercept = c(0, .2, .6, .8, 1), colour = &amp;quot;white&amp;quot;) +
  geom_segment(data = grid_x , 
               aes(x = x, y = y, xend = xend, yend = yend), 
               linetype = &amp;quot;dashed&amp;quot;, col = &amp;quot;white&amp;quot;) +
  geom_area(data = dens_river, 
            aes(x = x, y = y, ymin = 0, ymax = y), 
            alpha = .7, 
            colour = NA, 
            show.legend = FALSE,
            fill = &amp;quot;#011FFD&amp;quot;) + 
  scale_y_continuous(limits = c(-.2, 1), expand = c(0, 0)) +
  scale_x_continuous(limits = c(0, 360), 
                     breaks = seq(0, 360 - 22.5, by = 22.5),
                     minor_breaks = NULL,
                     labels = c(&amp;quot;N&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;NE&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;E&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;SE&amp;quot;, &amp;quot;&amp;quot;,
                                &amp;quot;S&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;SW&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;W&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;NW&amp;quot;, &amp;quot;&amp;quot;)) +
  coord_polar() + 
  facet_wrap(river ~ ., ncol = 4) +
  labs(title = title, caption = caption, x = &amp;quot;&amp;quot;) +
  theme_polar&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/direcciones-del-flujo-fluvial/index.es_files/figure-html/unnamed-chunk-19-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Una muy breve introducción a Tidyverse</title>
      <link>https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/</link>
      <pubDate>Sat, 06 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/</guid>
      <description>
&lt;script src=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/index.es_files/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#tidyverse&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;1&lt;/span&gt; Tidyverse&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#guía-de-estilo&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;2&lt;/span&gt; Guía de estilo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pipe&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;3&lt;/span&gt; Pipe %&amp;gt;%&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#paquetes-de-tidyverse&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4&lt;/span&gt; Paquetes de Tidyverse&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#lectura-y-escritura&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.1&lt;/span&gt; Lectura y escritura&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#manipulación-de-caracteres&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.2&lt;/span&gt; Manipulación de caracteres&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#manejo-de-fechas-y-horas&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.3&lt;/span&gt; Manejo de fechas y horas&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#manipulación-de-tablas-y-vectores&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.4&lt;/span&gt; Manipulación de tablas y vectores&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#selecionar-y-renombrar&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.4.1&lt;/span&gt; Selecionar y renombrar&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#filtrar-y-ordenar&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.4.2&lt;/span&gt; Filtrar y ordenar&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#agrupar-y-resumir&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.4.3&lt;/span&gt; Agrupar y resumir&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#unir-tablas&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.4.4&lt;/span&gt; Unir tablas&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#tablas-largas-y-anchas&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.4.5&lt;/span&gt; Tablas largas y anchas&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#visualizar-datos&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.5&lt;/span&gt; Visualizar datos&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#gráfico-de-linea-y-puntos&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.5.1&lt;/span&gt; Gráfico de linea y puntos&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#boxplot&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.5.2&lt;/span&gt; Boxplot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#heatmap&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.5.3&lt;/span&gt; Heatmap&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#aplicar-funciones-sobre-vectores-o-listas&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4.6&lt;/span&gt; Aplicar funciones sobre vectores o listas&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;tidyverse&#34; class=&#34;section level1&#34; number=&#34;1&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;1&lt;/span&gt; Tidyverse&lt;/h1&gt;
&lt;p&gt;El universo de los paquetes de &lt;code&gt;tidyverse&lt;/code&gt;, una colección de paquetes de funciones para un uso especialmente enfocado en la ciencia de datos, abrió un antes y después en la programación de R. En este post voy a resumir muy brevemente lo más esencial para inicarse en este mundo. La gramática sigue en todas las funciones una estructura común. Lo más esencial es que el primer argumento es el objeto y a continuación viene el resto de argumentos. Además, se proporciona un conjunto de verbos que facilitan el uso de las funciones. En la actualidad, la filosofía de las funciones también se refleja en otros paquetes que hacen compatible su uso con la colección de &lt;code&gt;tidyverse&lt;/code&gt;. Por ejemplo, el paquete &lt;code&gt;sf&lt;/code&gt; (&lt;a href=&#34;https://r-spatial.github.io/sf/articles/sf1.html&#34;&gt;simple feature&lt;/a&gt;) para el tratamiento de datos vectoriales, permite el uso de múltiples funciones que encontramos en el paquete &lt;code&gt;dplyr&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;El núcleo de la colección lo constituyen los siguientes paquetes:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;Paquete&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Descripción&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;ggplot2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gramática para la creación de gráficos&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;purrr&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Programación funcional de R&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;tibble&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Sistema moderno y efectivo de tablas&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;dplyr&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Gramatica para la manipulación de datos&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;tidyr&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Conjunto de funciones para ordenar datos&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;stringr&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Conjunto de funciones para trabajar con caracteres&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;readr&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Una forma fácil y rápida para importar datos&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;forcats&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Herramientas y funciones para trabajar fácilmente con factores&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Además de los paquetes menciondos, también se usa muy frecuentemente &lt;code&gt;lubridate&lt;/code&gt; para trabajar con fechas y horas, y también &lt;code&gt;readxl&lt;/code&gt; que nos permite importar archivos en formato Excel. Para conocer todos los paquetes disponibles podemos emplear la función &lt;code&gt;tidyverse_packages()&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;broom&amp;quot;         &amp;quot;cli&amp;quot;           &amp;quot;crayon&amp;quot;        &amp;quot;dbplyr&amp;quot;       
##  [5] &amp;quot;dplyr&amp;quot;         &amp;quot;dtplyr&amp;quot;        &amp;quot;forcats&amp;quot;       &amp;quot;googledrive&amp;quot;  
##  [9] &amp;quot;googlesheets4&amp;quot; &amp;quot;ggplot2&amp;quot;       &amp;quot;haven&amp;quot;         &amp;quot;hms&amp;quot;          
## [13] &amp;quot;httr&amp;quot;          &amp;quot;jsonlite&amp;quot;      &amp;quot;lubridate&amp;quot;     &amp;quot;magrittr&amp;quot;     
## [17] &amp;quot;modelr&amp;quot;        &amp;quot;pillar&amp;quot;        &amp;quot;purrr&amp;quot;         &amp;quot;readr&amp;quot;        
## [21] &amp;quot;readxl&amp;quot;        &amp;quot;reprex&amp;quot;        &amp;quot;rlang&amp;quot;         &amp;quot;rstudioapi&amp;quot;   
## [25] &amp;quot;rvest&amp;quot;         &amp;quot;stringr&amp;quot;       &amp;quot;tibble&amp;quot;        &amp;quot;tidyr&amp;quot;        
## [29] &amp;quot;xml2&amp;quot;          &amp;quot;tidyverse&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Es muy fácil encontrarnos con conflicos de funciones, o sea, que el mismo nombre de función exista en varios paquetes. Para evitarlo, podemos escribir el nombre del paquete delante de la función que queremos usar, separados por el símbolo de dos puntos escrito dos veces (&lt;code&gt;package_name::function_name&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Antes de empezar con los paquetes, espero que sea verdaderamente una breve introducción, algunos comentarios sobre el estilo al programar en R.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;guía-de-estilo&#34; class=&#34;section level1&#34; number=&#34;2&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;2&lt;/span&gt; Guía de estilo&lt;/h1&gt;
&lt;p&gt;En R no existe una guía de estilo universal, o sea, en la sintaxis de R no es necesario seguir normas concretas para nuestros scripts. Es recomendable trabajar de forma homogénea y clara a la hora de escribir con un estilo uniforme y legible. La colección de &lt;code&gt;tidyverse&lt;/code&gt; tiene una guia propia (&lt;a href=&#34;https://style.tidyverse.org/&#34; class=&#34;uri&#34;&gt;https://style.tidyverse.org/&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Las recomendaciones más importes son:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Evitar usar más de 80 caracteres por línea para permitir leer el código completo.&lt;/li&gt;
&lt;li&gt;Usar siempre un espacio después de una coma, nunca antes.&lt;/li&gt;
&lt;li&gt;Los operadores (==, +, -, &amp;lt;-, %&amp;gt;%, etc.) deben tener un espacio antes y después.&lt;/li&gt;
&lt;li&gt;No hay espacio entre el nombre de una función y el primer paréntesis, ni entre el último arguemento y el paréntesis final de una función.&lt;/li&gt;
&lt;li&gt;Evitar reutilizar nombres de funciones y variables comunes (&lt;code&gt;c &amp;lt;- 5&lt;/code&gt; vs. &lt;code&gt;c()&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Ordenar el script separando las partes con la forma de comentario &lt;code&gt;# Importar datos -----&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Se deben evitar tildes o símbolos especiales en nombres, archivos, rutas, etc.&lt;/li&gt;
&lt;li&gt;Nombres de los objetos deben seguir una estructura constante: &lt;code&gt;day_one&lt;/code&gt;, &lt;code&gt;day_1&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Es aconsejable usar una correcta &lt;em&gt;indentación&lt;/em&gt; para multiples argumentos de una función o funciones encadenadas por el operador &lt;code&gt;pipe&lt;/code&gt; (&lt;code&gt;%&amp;gt;%&lt;/code&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;pipe&#34; class=&#34;section level1&#34; number=&#34;3&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;3&lt;/span&gt; Pipe %&amp;gt;%&lt;/h1&gt;
&lt;p&gt;Para facilitar el trabajo en la gestión, manipulación y visualización de datos, el paquete &lt;code&gt;magrittr&lt;/code&gt; introduce el operador llamado &lt;em&gt;pipe&lt;/em&gt; en la forma &lt;code&gt;%&amp;gt;%&lt;/code&gt; con el objetivo de combinar varias funciones sin la necesidad de asignar el resultado a un nuevo objeto. El operador &lt;em&gt;pipe&lt;/em&gt; pasa a la salida de una función aplicada al primer argumento de la siguiente función. Esta forma de combinar funciones permite encadenar varios pasos de forma simultánea. En el siguiente ejemplo, muy sencillo, pasamos el vector &lt;code&gt;1:5&lt;/code&gt; a la función &lt;code&gt;mean()&lt;/code&gt; para calcular el promedio.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;1:5 %&amp;gt;% mean()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 3&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;paquetes-de-tidyverse&#34; class=&#34;section level1&#34; number=&#34;4&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;4&lt;/span&gt; Paquetes de Tidyverse&lt;/h1&gt;
&lt;div id=&#34;lectura-y-escritura&#34; class=&#34;section level2&#34; number=&#34;4.1&#34;&gt;
&lt;h2&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.1&lt;/span&gt; Lectura y escritura&lt;/h2&gt;
&lt;p&gt;El paquete &lt;code&gt;readr&lt;/code&gt; facilita la lectura o escritura de múltiples formatos de archivo usando funciones que comienzan por &lt;code&gt;read_*&lt;/code&gt; o &lt;code&gt;write_*&lt;/code&gt;.
En comparación con &lt;em&gt;R Base&lt;/em&gt; las funciones son más rápidas, ayudan a limpiar los nombres de las columnas y las fechas son convertidas automáticamente. Las tablas importadas son de clase &lt;code&gt;tibble&lt;/code&gt; (&lt;strong&gt;tbl_df&lt;/strong&gt;), una versión moderna de &lt;code&gt;data.frame&lt;/code&gt; del paquete &lt;code&gt;tibble&lt;/code&gt;. En el mismo sentido se puede usar la función &lt;code&gt;read_excel()&lt;/code&gt; del paquete &lt;code&gt;readxl&lt;/code&gt; para importar datos de hojas de Excel (más detalles también en esta &lt;a href=&#34;https://dominicroye.github.io/es/2019/importar-varias-hojas-excel-en-r/&#34;&gt;entrada de mi blog&lt;/a&gt;). En el siguiente ejemplo importamos los datos de la movilidad registrada por Google (&lt;a href=&#34;https://www.google.com/covid19/mobility/&#34;&gt;enlace&lt;/a&gt;) durante los últimos meses a causa de la pandemia COVID-19 (&lt;a href=&#34;https://dominicroye.github.io/files/Global_Mobility_Report.csv&#34;&gt;descarga&lt;/a&gt;).&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;Función lectura&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Descripción&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;read_csv() o read_csv2()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;coma o punto-coma (CSV)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;read_delim()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;separador general&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;read_table()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;espacio blanco&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# cargar el paquete
library(tidyverse)

google_mobility &amp;lt;- read_csv(&amp;quot;Global_Mobility_Report.csv&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## -- Column specification --------------------------------------------------------
## cols(
##   country_region_code = col_character(),
##   country_region = col_character(),
##   sub_region_1 = col_character(),
##   sub_region_2 = col_logical(),
##   iso_3166_2_code = col_character(),
##   census_fips_code = col_logical(),
##   date = col_date(format = &amp;quot;&amp;quot;),
##   retail_and_recreation_percent_change_from_baseline = col_double(),
##   grocery_and_pharmacy_percent_change_from_baseline = col_double(),
##   parks_percent_change_from_baseline = col_double(),
##   transit_stations_percent_change_from_baseline = col_double(),
##   workplaces_percent_change_from_baseline = col_double(),
##   residential_percent_change_from_baseline = col_double()
## )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: 597554 parsing failures.
##    row              col           expected         actual                         file
## 200119 sub_region_2     1/0/T/F/TRUE/FALSE Autauga County &amp;#39;Global_Mobility_Report.csv&amp;#39;
## 200119 census_fips_code 1/0/T/F/TRUE/FALSE 01001          &amp;#39;Global_Mobility_Report.csv&amp;#39;
## 200120 sub_region_2     1/0/T/F/TRUE/FALSE Autauga County &amp;#39;Global_Mobility_Report.csv&amp;#39;
## 200120 census_fips_code 1/0/T/F/TRUE/FALSE 01001          &amp;#39;Global_Mobility_Report.csv&amp;#39;
## 200121 sub_region_2     1/0/T/F/TRUE/FALSE Autauga County &amp;#39;Global_Mobility_Report.csv&amp;#39;
## ...... ................ .................. .............. ............................
## See problems(...) for more details.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;google_mobility&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 516,697 x 13
##    country_region_co~ country_region   sub_region_1 sub_region_2 iso_3166_2_code
##    &amp;lt;chr&amp;gt;              &amp;lt;chr&amp;gt;            &amp;lt;chr&amp;gt;        &amp;lt;lgl&amp;gt;        &amp;lt;chr&amp;gt;          
##  1 AE                 United Arab Emi~ &amp;lt;NA&amp;gt;         NA           &amp;lt;NA&amp;gt;           
##  2 AE                 United Arab Emi~ &amp;lt;NA&amp;gt;         NA           &amp;lt;NA&amp;gt;           
##  3 AE                 United Arab Emi~ &amp;lt;NA&amp;gt;         NA           &amp;lt;NA&amp;gt;           
##  4 AE                 United Arab Emi~ &amp;lt;NA&amp;gt;         NA           &amp;lt;NA&amp;gt;           
##  5 AE                 United Arab Emi~ &amp;lt;NA&amp;gt;         NA           &amp;lt;NA&amp;gt;           
##  6 AE                 United Arab Emi~ &amp;lt;NA&amp;gt;         NA           &amp;lt;NA&amp;gt;           
##  7 AE                 United Arab Emi~ &amp;lt;NA&amp;gt;         NA           &amp;lt;NA&amp;gt;           
##  8 AE                 United Arab Emi~ &amp;lt;NA&amp;gt;         NA           &amp;lt;NA&amp;gt;           
##  9 AE                 United Arab Emi~ &amp;lt;NA&amp;gt;         NA           &amp;lt;NA&amp;gt;           
## 10 AE                 United Arab Emi~ &amp;lt;NA&amp;gt;         NA           &amp;lt;NA&amp;gt;           
## # ... with 516,687 more rows, and 8 more variables: census_fips_code &amp;lt;lgl&amp;gt;,
## #   date &amp;lt;date&amp;gt;, retail_and_recreation_percent_change_from_baseline &amp;lt;dbl&amp;gt;,
## #   grocery_and_pharmacy_percent_change_from_baseline &amp;lt;dbl&amp;gt;,
## #   parks_percent_change_from_baseline &amp;lt;dbl&amp;gt;,
## #   transit_stations_percent_change_from_baseline &amp;lt;dbl&amp;gt;,
## #   workplaces_percent_change_from_baseline &amp;lt;dbl&amp;gt;,
## #   residential_percent_change_from_baseline &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Debemos prestar atención a los nombres de los argumentos, ya que cambian en las funciones de &lt;code&gt;readr&lt;/code&gt;. Por ejemplo, el argumento conocido &lt;code&gt;header = TRUE&lt;/code&gt; de &lt;code&gt;read.csv()&lt;/code&gt; es en este caso &lt;code&gt;col_names = TRUE&lt;/code&gt;. Podemos encontrar más detalles en el &lt;a href=&#34;https://github.com/rstudio/cheatsheets/raw/master/data-import.pdf&#34;&gt;Cheat-Sheet&lt;/a&gt; de &lt;code&gt;readr&lt;/code&gt; .&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;manipulación-de-caracteres&#34; class=&#34;section level2&#34; number=&#34;4.2&#34;&gt;
&lt;h2&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.2&lt;/span&gt; Manipulación de caracteres&lt;/h2&gt;
&lt;p&gt;Cuando se requiere manipular cadenas de texto usamos el paquete &lt;code&gt;stringr&lt;/code&gt;, cuyas funciones siempre empiezan por &lt;code&gt;str_*&lt;/code&gt; seguidas por un verbo y el primer argumento.&lt;/p&gt;
&lt;p&gt;Algunas de estas funciones son las siguientes:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;Función&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Descripción&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;str_replace()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;reemplazar patrones&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;str_c()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;combinar characteres&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;str_detect()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;detectar patrones&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;str_extract()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;extraer patrones&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;str_sub()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;extraer por posición&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;str_length()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;longitud de la cadena de caracteres&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Se suelen usar expresiones regulares para patrones de caracteres. Por ejemplo, la expresión regular &lt;code&gt;[aeiou]&lt;/code&gt; coincide con cualquier caracter único que sea una vocal. El uso de corchetes &lt;code&gt;[]&lt;/code&gt; corresponde a clases de caracteres. Por ejemplo, &lt;code&gt;[abc]&lt;/code&gt; corresponde a cada letra independientemente de la posición. &lt;code&gt;[a-z]&lt;/code&gt; o &lt;code&gt;[A-Z]&lt;/code&gt; o &lt;code&gt;[0-9]&lt;/code&gt; cada uno entre a y z ó 0 y 9. Y por último, &lt;code&gt;[:punct:]&lt;/code&gt; puntuación, etc. Con llaves “{}” podemos indicar el número del elemento anterior &lt;code&gt;{2}&lt;/code&gt; sería dos veces, {1,2} entre una y dos, etc. Además con &lt;code&gt;$&lt;/code&gt;o &lt;code&gt;^&lt;/code&gt; podemos indicar si el patrón empieza al principio o termina al final. Podemos encontrar más detalles y patrones en el &lt;a href=&#34;https://github.com/rstudio/cheatsheets/raw/master/strings.pdf&#34;&gt;Cheat-Sheet&lt;/a&gt; de &lt;code&gt;stringr&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# reemplazamos &amp;#39;er&amp;#39; al final por vacío

str_replace(month.name, &amp;quot;er$&amp;quot;, &amp;quot;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;January&amp;quot;  &amp;quot;February&amp;quot; &amp;quot;March&amp;quot;    &amp;quot;April&amp;quot;    &amp;quot;May&amp;quot;      &amp;quot;June&amp;quot;    
##  [7] &amp;quot;July&amp;quot;     &amp;quot;August&amp;quot;   &amp;quot;Septemb&amp;quot;  &amp;quot;Octob&amp;quot;    &amp;quot;Novemb&amp;quot;   &amp;quot;Decemb&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;str_replace(month.name, &amp;quot;^Ma&amp;quot;, &amp;quot;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;January&amp;quot;   &amp;quot;February&amp;quot;  &amp;quot;rch&amp;quot;       &amp;quot;April&amp;quot;     &amp;quot;y&amp;quot;         &amp;quot;June&amp;quot;     
##  [7] &amp;quot;July&amp;quot;      &amp;quot;August&amp;quot;    &amp;quot;September&amp;quot; &amp;quot;October&amp;quot;   &amp;quot;November&amp;quot;  &amp;quot;December&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# combinar caracteres

a &amp;lt;- str_c(month.name, 1:12, sep = &amp;quot;_&amp;quot;)
a&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;January_1&amp;quot;   &amp;quot;February_2&amp;quot;  &amp;quot;March_3&amp;quot;     &amp;quot;April_4&amp;quot;     &amp;quot;May_5&amp;quot;      
##  [6] &amp;quot;June_6&amp;quot;      &amp;quot;July_7&amp;quot;      &amp;quot;August_8&amp;quot;    &amp;quot;September_9&amp;quot; &amp;quot;October_10&amp;quot; 
## [11] &amp;quot;November_11&amp;quot; &amp;quot;December_12&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# colapsar combinación

str_c(month.name, collapse = &amp;quot;, &amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;January, February, March, April, May, June, July, August, September, October, November, December&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# dedectamos patrones

str_detect(a, &amp;quot;_[1-5]{1}&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# extraemos patrones

str_extract(a, &amp;quot;_[1-9]{1,2}&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;_1&amp;quot;  &amp;quot;_2&amp;quot;  &amp;quot;_3&amp;quot;  &amp;quot;_4&amp;quot;  &amp;quot;_5&amp;quot;  &amp;quot;_6&amp;quot;  &amp;quot;_7&amp;quot;  &amp;quot;_8&amp;quot;  &amp;quot;_9&amp;quot;  &amp;quot;_1&amp;quot;  &amp;quot;_11&amp;quot; &amp;quot;_12&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# extraermos los caracteres en las posiciones entre 1 y 2

str_sub(month.name, 1, 2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;Ja&amp;quot; &amp;quot;Fe&amp;quot; &amp;quot;Ma&amp;quot; &amp;quot;Ap&amp;quot; &amp;quot;Ma&amp;quot; &amp;quot;Ju&amp;quot; &amp;quot;Ju&amp;quot; &amp;quot;Au&amp;quot; &amp;quot;Se&amp;quot; &amp;quot;Oc&amp;quot; &amp;quot;No&amp;quot; &amp;quot;De&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# longitud de cada mes

str_length(month.name)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] 7 8 5 5 3 4 4 6 9 7 8 8&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# con pipe, el &amp;#39;.&amp;#39; representa al objeto que pasa el operador %&amp;gt;%
str_length(month.name) %&amp;gt;% 
   str_c(month.name, ., sep = &amp;quot;.&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] &amp;quot;January.7&amp;quot;   &amp;quot;February.8&amp;quot;  &amp;quot;March.5&amp;quot;     &amp;quot;April.5&amp;quot;     &amp;quot;May.3&amp;quot;      
##  [6] &amp;quot;June.4&amp;quot;      &amp;quot;July.4&amp;quot;      &amp;quot;August.6&amp;quot;    &amp;quot;September.9&amp;quot; &amp;quot;October.7&amp;quot;  
## [11] &amp;quot;November.8&amp;quot;  &amp;quot;December.8&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Una función muy útil es &lt;code&gt;str_glue()&lt;/code&gt; para interpolar caracteres.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;name &amp;lt;- c(&amp;quot;Juan&amp;quot;, &amp;quot;Michael&amp;quot;)
age &amp;lt;- c(50, 80) 
date_today &amp;lt;- Sys.Date()

str_glue(
  &amp;quot;My name is {name}, &amp;quot;,
  &amp;quot;I&amp;#39;am {age}, &amp;quot;,
  &amp;quot;and my birth year is {format(date_today-age*365, &amp;#39;%Y&amp;#39;)}.&amp;quot;
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## My name is Juan, I&amp;#39;am 50, and my birth year is 1971.
## My name is Michael, I&amp;#39;am 80, and my birth year is 1941.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;manejo-de-fechas-y-horas&#34; class=&#34;section level2&#34; number=&#34;4.3&#34;&gt;
&lt;h2&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.3&lt;/span&gt; Manejo de fechas y horas&lt;/h2&gt;
&lt;p&gt;El paquete &lt;code&gt;lubridate&lt;/code&gt; ayuda en el manejo de fechas y horas. Nos permite crear los objetos reconocidos por R con funciones (como &lt;code&gt;ymd()&lt;/code&gt; ó &lt;code&gt;ymd_hms()&lt;/code&gt;) y hacer cálculos.&lt;/p&gt;
&lt;p&gt;Debemos conocer las siguientes abreviaturas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ymd&lt;/code&gt;: representa &lt;code&gt;y:year&lt;/code&gt;, &lt;code&gt;m:month&lt;/code&gt;, &lt;code&gt;d:day&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hms&lt;/code&gt;: representa &lt;code&gt;h:hour&lt;/code&gt;, &lt;code&gt;m:minutes&lt;/code&gt;, &lt;code&gt;s:seconds&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# paquete
library(lubridate)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Attaching package: &amp;#39;lubridate&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## The following objects are masked from &amp;#39;package:base&amp;#39;:
## 
##     date, intersect, setdiff, union&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# vector de fechas
dat &amp;lt;- c(&amp;quot;1999/12/31&amp;quot;, &amp;quot;2000/01/07&amp;quot;, &amp;quot;2005/05/20&amp;quot;,&amp;quot;2010/03/25&amp;quot;)

# vector de fechas y horas
dat_time &amp;lt;- c(&amp;quot;1988-08-01 05:00&amp;quot;, &amp;quot;2000-02-01 22:00&amp;quot;)

# convertir a clase date
dat &amp;lt;- ymd(dat) 
dat&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;1999-12-31&amp;quot; &amp;quot;2000-01-07&amp;quot; &amp;quot;2005-05-20&amp;quot; &amp;quot;2010-03-25&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# otras formatos
dmy(&amp;quot;05-02-2000&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2000-02-05&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ymd(&amp;quot;20000506&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2000-05-06&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# convertir a POSIXct
dat_time &amp;lt;- ymd_hm(dat_time)
dat_time&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;1988-08-01 05:00:00 UTC&amp;quot; &amp;quot;2000-02-01 22:00:00 UTC&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# diferentes formatos en un vector 
dat_mix &amp;lt;- c(&amp;quot;1999/12/05&amp;quot;, &amp;quot;05-09-2008&amp;quot;, &amp;quot;2000/08/09&amp;quot;, &amp;quot;25-10-2019&amp;quot;)

# indicar formato con la convención conocida en ?strptime
parse_date_time(dat_mix, order = c(&amp;quot;%Y/%m/%d&amp;quot;, &amp;quot;%d-%m-%Y&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;1999-12-05 UTC&amp;quot; &amp;quot;2008-09-05 UTC&amp;quot; &amp;quot;2000-08-09 UTC&amp;quot; &amp;quot;2019-10-25 UTC&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Más funciones útiles:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# extraer el año
year(dat)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1999 2000 2005 2010&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# el mes
month(dat)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 12  1  5  3&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;month(dat, label = TRUE) # como etiqueta&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] dic ene may mar
## 12 Levels: ene &amp;lt; feb &amp;lt; mar &amp;lt; abr &amp;lt; may &amp;lt; jun &amp;lt; jul &amp;lt; ago &amp;lt; sep &amp;lt; ... &amp;lt; dic&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# el día de la semana
wday(dat)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 6 6 6 5&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;wday(dat, label = TRUE) # como etiqueta&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] vi\\. vi\\. vi\\. ju\\.
## Levels: do\\. &amp;lt; lu\\. &amp;lt; ma\\. &amp;lt; mi\\. &amp;lt; ju\\. &amp;lt; vi\\. &amp;lt; sá\\.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# la hora
hour(dat_time)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1]  5 22&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# sumar 10 días
dat + days(10)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2000-01-10&amp;quot; &amp;quot;2000-01-17&amp;quot; &amp;quot;2005-05-30&amp;quot; &amp;quot;2010-04-04&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# sumar 1 mes
dat + months(1)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2000-01-31&amp;quot; &amp;quot;2000-02-07&amp;quot; &amp;quot;2005-06-20&amp;quot; &amp;quot;2010-04-25&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Por último, la función &lt;code&gt;make_date()&lt;/code&gt; es muy útil en crear fechas a partir de diferentes partes de las mismas como puede ser el año, mes, etc.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# crear fecha a partir de sus elementos, aquí con año y mes
make_date(2000, 5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2000-05-01&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# crear fecha con hora 
make_datetime(2005, 5, 23, 5)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;2005-05-23 05:00:00 UTC&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Podemos encontrar más detalles en el &lt;a href=&#34;https://github.com/rstudio/cheatsheets/raw/master/lubridate.pdf&#34;&gt;Cheat-Sheet&lt;/a&gt; de &lt;code&gt;lubridate&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;manipulación-de-tablas-y-vectores&#34; class=&#34;section level2&#34; number=&#34;4.4&#34;&gt;
&lt;h2&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.4&lt;/span&gt; Manipulación de tablas y vectores&lt;/h2&gt;
&lt;p&gt;Los paquetes &lt;code&gt;dplyr&lt;/code&gt; y &lt;code&gt;tidyr&lt;/code&gt; nos proporciona una gramática de manipulación de datos con un conjunto de verbos útiles para resolver los problemas más comunes. Las funciones más importantes son:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;Función&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Descripción&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;mutate()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;añadir nuevas variables o modificar existentes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;select()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;seleccionar variables&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;filter()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;filtrar&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;summarise()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;resumir/reducir&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;arrange()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ordenar&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;group_by()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;agrupar&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;rename()&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;renombrar columnas&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;En caso de que no lo hayas hecho antes, importamos los datos de movilidad.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;google_mobility &amp;lt;- read_csv(&amp;quot;Global_Mobility_Report.csv&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## -- Column specification --------------------------------------------------------
## cols(
##   country_region_code = col_character(),
##   country_region = col_character(),
##   sub_region_1 = col_character(),
##   sub_region_2 = col_logical(),
##   iso_3166_2_code = col_character(),
##   census_fips_code = col_logical(),
##   date = col_date(format = &amp;quot;&amp;quot;),
##   retail_and_recreation_percent_change_from_baseline = col_double(),
##   grocery_and_pharmacy_percent_change_from_baseline = col_double(),
##   parks_percent_change_from_baseline = col_double(),
##   transit_stations_percent_change_from_baseline = col_double(),
##   workplaces_percent_change_from_baseline = col_double(),
##   residential_percent_change_from_baseline = col_double()
## )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: 597554 parsing failures.
##    row              col           expected         actual                         file
## 200119 sub_region_2     1/0/T/F/TRUE/FALSE Autauga County &amp;#39;Global_Mobility_Report.csv&amp;#39;
## 200119 census_fips_code 1/0/T/F/TRUE/FALSE 01001          &amp;#39;Global_Mobility_Report.csv&amp;#39;
## 200120 sub_region_2     1/0/T/F/TRUE/FALSE Autauga County &amp;#39;Global_Mobility_Report.csv&amp;#39;
## 200120 census_fips_code 1/0/T/F/TRUE/FALSE 01001          &amp;#39;Global_Mobility_Report.csv&amp;#39;
## 200121 sub_region_2     1/0/T/F/TRUE/FALSE Autauga County &amp;#39;Global_Mobility_Report.csv&amp;#39;
## ...... ................ .................. .............. ............................
## See problems(...) for more details.&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;selecionar-y-renombrar&#34; class=&#34;section level3&#34; number=&#34;4.4.1&#34;&gt;
&lt;h3&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.4.1&lt;/span&gt; Selecionar y renombrar&lt;/h3&gt;
&lt;p&gt;Podemos selecionar o eliminar columnas con la función &lt;code&gt;select()&lt;/code&gt;, usando el nombre o índice de la(s) columna(s). Para suprimir columnas hacemos uso del signo negativo. La función &lt;code&gt;rename&lt;/code&gt; ayuda en renombrar columnas o bien con el mismo nombre o con su índice.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;residential_mobility &amp;lt;- select(google_mobility, 
                               country_region_code:sub_region_1, 
                               date, 
                               residential_percent_change_from_baseline) %&amp;gt;% 
                        rename(resi = 5)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;filtrar-y-ordenar&#34; class=&#34;section level3&#34; number=&#34;4.4.2&#34;&gt;
&lt;h3&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.4.2&lt;/span&gt; Filtrar y ordenar&lt;/h3&gt;
&lt;p&gt;Para filtrar datos, empleamos &lt;code&gt;filter()&lt;/code&gt; con operadores lógicos (&lt;code&gt;|&lt;/code&gt;, &lt;code&gt;==&lt;/code&gt;, &lt;code&gt;&amp;gt;&lt;/code&gt;, etc) o funciones que devuelven un valor lógico (&lt;code&gt;str_detect()&lt;/code&gt;, &lt;code&gt;is.na()&lt;/code&gt;, etc.). La función &lt;code&gt;arrange()&lt;/code&gt; ordena de menor a mayor por una o múltiples variables (con el signo negativo &lt;code&gt;-&lt;/code&gt; se invierte el orden de mayor a menor).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(residential_mobility, 
       country_region_code == &amp;quot;US&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 304,648 x 5
##    country_region_code country_region sub_region_1 date        resi
##    &amp;lt;chr&amp;gt;               &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;        &amp;lt;date&amp;gt;     &amp;lt;dbl&amp;gt;
##  1 US                  United States  &amp;lt;NA&amp;gt;         2020-02-15    -1
##  2 US                  United States  &amp;lt;NA&amp;gt;         2020-02-16    -1
##  3 US                  United States  &amp;lt;NA&amp;gt;         2020-02-17     5
##  4 US                  United States  &amp;lt;NA&amp;gt;         2020-02-18     1
##  5 US                  United States  &amp;lt;NA&amp;gt;         2020-02-19     0
##  6 US                  United States  &amp;lt;NA&amp;gt;         2020-02-20     1
##  7 US                  United States  &amp;lt;NA&amp;gt;         2020-02-21     0
##  8 US                  United States  &amp;lt;NA&amp;gt;         2020-02-22    -1
##  9 US                  United States  &amp;lt;NA&amp;gt;         2020-02-23    -1
## 10 US                  United States  &amp;lt;NA&amp;gt;         2020-02-24     0
## # ... with 304,638 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(residential_mobility, 
       country_region_code == &amp;quot;US&amp;quot;, 
       sub_region_1 == &amp;quot;New York&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 7,068 x 5
##    country_region_code country_region sub_region_1 date        resi
##    &amp;lt;chr&amp;gt;               &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;        &amp;lt;date&amp;gt;     &amp;lt;dbl&amp;gt;
##  1 US                  United States  New York     2020-02-15     0
##  2 US                  United States  New York     2020-02-16    -1
##  3 US                  United States  New York     2020-02-17     9
##  4 US                  United States  New York     2020-02-18     3
##  5 US                  United States  New York     2020-02-19     2
##  6 US                  United States  New York     2020-02-20     2
##  7 US                  United States  New York     2020-02-21     3
##  8 US                  United States  New York     2020-02-22    -1
##  9 US                  United States  New York     2020-02-23    -1
## 10 US                  United States  New York     2020-02-24     0
## # ... with 7,058 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;filter(residential_mobility, 
       resi &amp;gt; 50) %&amp;gt;% 
          arrange(-resi)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 32 x 5
##    country_region_co~ country_region sub_region_1               date        resi
##    &amp;lt;chr&amp;gt;              &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;                      &amp;lt;date&amp;gt;     &amp;lt;dbl&amp;gt;
##  1 KW                 Kuwait         Al Farwaniyah Governorate  2020-05-14    56
##  2 KW                 Kuwait         Al Farwaniyah Governorate  2020-05-21    55
##  3 SG                 Singapore      &amp;lt;NA&amp;gt;                       2020-05-01    55
##  4 KW                 Kuwait         Al Farwaniyah Governorate  2020-05-28    54
##  5 PE                 Peru           Metropolitan Municipality~ 2020-04-10    54
##  6 EC                 Ecuador        Pichincha                  2020-03-27    53
##  7 KW                 Kuwait         Al Farwaniyah Governorate  2020-05-11    53
##  8 KW                 Kuwait         Al Farwaniyah Governorate  2020-05-13    53
##  9 KW                 Kuwait         Al Farwaniyah Governorate  2020-05-20    53
## 10 SG                 Singapore      &amp;lt;NA&amp;gt;                       2020-04-10    53
## # ... with 22 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;agrupar-y-resumir&#34; class=&#34;section level3&#34; number=&#34;4.4.3&#34;&gt;
&lt;h3&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.4.3&lt;/span&gt; Agrupar y resumir&lt;/h3&gt;
&lt;p&gt;¿Dónde encontramos mayor variabilidad entre regiones en cada país el día 1 de abril de 2020?&lt;/p&gt;
&lt;p&gt;Para responder a esta pregunta, primero filtramos los datos y después agrupamos por la columna de país. Cuando empleamos la función &lt;code&gt;summarise()&lt;/code&gt; posterior a la agrupación, nos permite resumir por estos grupos. Incluso, la combinación del &lt;code&gt;group_by()&lt;/code&gt; con la función &lt;code&gt;mutate()&lt;/code&gt; permite modificar columnas por grupos. En &lt;code&gt;summarise()&lt;/code&gt; calculamos el valor máximo, mínimo y la diferencia entre ambos extremos creando nuevas columnas.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;resi_variability &amp;lt;- residential_mobility %&amp;gt;% 
                        filter(date == ymd(&amp;quot;2020-04-01&amp;quot;),
                               !is.na(sub_region_1)) %&amp;gt;% 
                          group_by(country_region) %&amp;gt;% 
                       summarise(mx = max(resi, na.rm = TRUE), 
                                 min = min(resi, na.rm = TRUE),
                                 range = abs(mx)-abs(min))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in max(resi, na.rm = TRUE): ningun argumento finito para max; retornando
## -Inf

## Warning in max(resi, na.rm = TRUE): ningun argumento finito para max; retornando
## -Inf

## Warning in max(resi, na.rm = TRUE): ningun argumento finito para max; retornando
## -Inf

## Warning in max(resi, na.rm = TRUE): ningun argumento finito para max; retornando
## -Inf

## Warning in max(resi, na.rm = TRUE): ningun argumento finito para max; retornando
## -Inf

## Warning in max(resi, na.rm = TRUE): ningun argumento finito para max; retornando
## -Inf&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in min(resi, na.rm = TRUE): ningún argumento finito para min; retornando
## Inf

## Warning in min(resi, na.rm = TRUE): ningún argumento finito para min; retornando
## Inf

## Warning in min(resi, na.rm = TRUE): ningún argumento finito para min; retornando
## Inf

## Warning in min(resi, na.rm = TRUE): ningún argumento finito para min; retornando
## Inf

## Warning in min(resi, na.rm = TRUE): ningún argumento finito para min; retornando
## Inf

## Warning in min(resi, na.rm = TRUE): ningún argumento finito para min; retornando
## Inf&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;arrange(resi_variability, -range)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 94 x 4
##    country_region    mx   min range
##    &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
##  1 Nigeria           43     6    37
##  2 United States     35     6    29
##  3 India             36    15    21
##  4 Malaysia          45    26    19
##  5 Philippines       40    21    19
##  6 Vietnam           28     9    19
##  7 Colombia          41    24    17
##  8 Ecuador           44    27    17
##  9 Argentina         35    19    16
## 10 Chile             30    14    16
## # ... with 84 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;unir-tablas&#34; class=&#34;section level3&#34; number=&#34;4.4.4&#34;&gt;
&lt;h3&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.4.4&lt;/span&gt; Unir tablas&lt;/h3&gt;
&lt;p&gt;¿Cómo podemos filtrar los datos para obtener un subconjunto de Europa?&lt;/p&gt;
&lt;p&gt;Para ello, importamos datos espaciales con el código de país y una columna de las regiones. Explicaciones detalladas sobre el paquete &lt;code&gt;sf&lt;/code&gt; (&lt;em&gt;simple feature&lt;/em&gt;) para trabajar con datos vectoriales, lo dejaremos para otro post.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(rnaturalearth) # paquete de datos vectoriales

# datos de países
wld &amp;lt;- ne_countries(returnclass = &amp;quot;sf&amp;quot;)

# filtramos los países con código y seleccionamos las dos columnas de interés
wld &amp;lt;- filter(wld, !is.na(iso_a2)) %&amp;gt;% select(iso_a2, subregion)

# plot
plot(wld)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/index.es_files/figure-html/unnamed-chunk-17-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Otras funciones de &lt;code&gt;dplyr&lt;/code&gt; nos permiten unir tablas: &lt;code&gt;*_join()&lt;/code&gt;. Según hacia qué tabla (izquierda o derecha) se quiere unir, cambia la función : &lt;code&gt;left_join()&lt;/code&gt;, &lt;code&gt;right_join()&lt;/code&gt; o incluso &lt;code&gt;full_join()&lt;/code&gt;. El argumento &lt;code&gt;by&lt;/code&gt; no es necesario siempre y cuando ambas tablas tienen una columna en común. No obstante, en este caso la columna de fusión es diferente, por eso, usamos el modo &lt;code&gt;c(&#34;country_region_code&#34;=&#34;iso_a2&#34;)&lt;/code&gt;. El paquete &lt;code&gt;forcats&lt;/code&gt; de &lt;code&gt;tidyverse&lt;/code&gt; tiene muchas funciones útiles para manejar variables categóricas (&lt;code&gt;factors&lt;/code&gt;), variables que tienen un conjunto fijo y conocido de valores posibles. Todas las funciones de &lt;code&gt;forcats&lt;/code&gt; tienen el prefijo &lt;code&gt;fct_*&lt;/code&gt;. Por ejemplo, en este caso usamos &lt;code&gt;fct_reorder()&lt;/code&gt; para reordenar las etiquetas de los países en orden de la máxima basada en los registros de movibilidad residencial. Finalmente, creamos una nueva columna ‘resi_real’ para cambiar el valor de referencia, el promedio (&lt;em&gt;baseline&lt;/em&gt;), fijado en 0 a 100.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;subset_europe &amp;lt;- filter(residential_mobility, 
                        is.na(sub_region_1),
                        !is.na(resi)) %&amp;gt;%
                 left_join(wld, by = c(&amp;quot;country_region_code&amp;quot;=&amp;quot;iso_a2&amp;quot;)) %&amp;gt;% 
                 filter(subregion %in% c(&amp;quot;Northern Europe&amp;quot;,
                                         &amp;quot;Southern Europe&amp;quot;,
                                          &amp;quot;Western Europe&amp;quot;,
                                          &amp;quot;Eastern Europe&amp;quot;)) %&amp;gt;%
                 mutate(resi_real = resi + 100,
                        region = fct_reorder(country_region, 
                                             resi, 
                                            .fun = &amp;quot;max&amp;quot;, 
                                            .desc = FALSE)) %&amp;gt;% 
                select(-geometry, -sub_region_1)

str(subset_europe)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## tibble [3,988 x 7] (S3: tbl_df/tbl/data.frame)
##  $ country_region_code: chr [1:3988] &amp;quot;AT&amp;quot; &amp;quot;AT&amp;quot; &amp;quot;AT&amp;quot; &amp;quot;AT&amp;quot; ...
##  $ country_region     : chr [1:3988] &amp;quot;Austria&amp;quot; &amp;quot;Austria&amp;quot; &amp;quot;Austria&amp;quot; &amp;quot;Austria&amp;quot; ...
##  $ date               : Date[1:3988], format: &amp;quot;2020-02-15&amp;quot; &amp;quot;2020-02-16&amp;quot; ...
##  $ resi               : num [1:3988] -2 -2 0 0 1 0 1 -2 0 -1 ...
##  $ subregion          : chr [1:3988] &amp;quot;Western Europe&amp;quot; &amp;quot;Western Europe&amp;quot; &amp;quot;Western Europe&amp;quot; &amp;quot;Western Europe&amp;quot; ...
##  $ resi_real          : num [1:3988] 98 98 100 100 101 100 101 98 100 99 ...
##  $ region             : Factor w/ 35 levels &amp;quot;Belarus&amp;quot;,&amp;quot;Ukraine&amp;quot;,..: 18 18 18 18 18 18 18 18 18 18 ...
##  - attr(*, &amp;quot;problems&amp;quot;)= tibble [597,554 x 5] (S3: tbl_df/tbl/data.frame)
##   ..$ row     : int [1:597554] 200119 200119 200120 200120 200121 200121 200122 200122 200123 200123 ...
##   ..$ col     : chr [1:597554] &amp;quot;sub_region_2&amp;quot; &amp;quot;census_fips_code&amp;quot; &amp;quot;sub_region_2&amp;quot; &amp;quot;census_fips_code&amp;quot; ...
##   ..$ expected: chr [1:597554] &amp;quot;1/0/T/F/TRUE/FALSE&amp;quot; &amp;quot;1/0/T/F/TRUE/FALSE&amp;quot; &amp;quot;1/0/T/F/TRUE/FALSE&amp;quot; &amp;quot;1/0/T/F/TRUE/FALSE&amp;quot; ...
##   ..$ actual  : chr [1:597554] &amp;quot;Autauga County&amp;quot; &amp;quot;01001&amp;quot; &amp;quot;Autauga County&amp;quot; &amp;quot;01001&amp;quot; ...
##   ..$ file    : chr [1:597554] &amp;quot;&amp;#39;Global_Mobility_Report.csv&amp;#39;&amp;quot; &amp;quot;&amp;#39;Global_Mobility_Report.csv&amp;#39;&amp;quot; &amp;quot;&amp;#39;Global_Mobility_Report.csv&amp;#39;&amp;quot; &amp;quot;&amp;#39;Global_Mobility_Report.csv&amp;#39;&amp;quot; ...&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;tablas-largas-y-anchas&#34; class=&#34;section level3&#34; number=&#34;4.4.5&#34;&gt;
&lt;h3&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.4.5&lt;/span&gt; Tablas largas y anchas&lt;/h3&gt;
&lt;p&gt;Antes de pasar a la visualización con &lt;code&gt;ggplot2&lt;/code&gt;. Es muy habitual modificar la tabla entre dos formatos principales. Una tabla es &lt;em&gt;tidy&lt;/em&gt; cuando 1) cada variable es una columna 2) cada observación/caso es una fila y 3) cada tipo de unidad observacional forma una tabla.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# subconjunto 
mobility_selection &amp;lt;- select(subset_europe, country_region_code, date:resi)
mobility_selection&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3,988 x 3
##    country_region_code date        resi
##    &amp;lt;chr&amp;gt;               &amp;lt;date&amp;gt;     &amp;lt;dbl&amp;gt;
##  1 AT                  2020-02-15    -2
##  2 AT                  2020-02-16    -2
##  3 AT                  2020-02-17     0
##  4 AT                  2020-02-18     0
##  5 AT                  2020-02-19     1
##  6 AT                  2020-02-20     0
##  7 AT                  2020-02-21     1
##  8 AT                  2020-02-22    -2
##  9 AT                  2020-02-23     0
## 10 AT                  2020-02-24    -1
## # ... with 3,978 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# tabla ancha
mobi_wide &amp;lt;- pivot_wider(mobility_selection, 
                         names_from = country_region_code,
                         values_from = resi)
mobi_wide&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 114 x 36
##    date          AT    BA    BE    BG    BY    CH    CZ    DE    DK    EE    ES
##    &amp;lt;date&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;
##  1 2020-02-15    -2    -1    -1     0    -1    -1    -2    -1     0     0    -2
##  2 2020-02-16    -2    -1     1    -3     0    -1    -1     0     1     0    -2
##  3 2020-02-17     0    -1     0    -2     0     1     0     0     1     1    -1
##  4 2020-02-18     0    -1     0    -2     0     1     0     1     1     1     0
##  5 2020-02-19     1    -1     0    -1    -1     1     0     1     1     0    -1
##  6 2020-02-20     0    -1     0     0    -1     0     0     1     1     0    -1
##  7 2020-02-21     1    -2     0    -1    -1     1     0     2     1     1    -2
##  8 2020-02-22    -2    -1     0     0    -2    -2    -3     0     1     0    -2
##  9 2020-02-23     0    -1     0    -3    -1    -1     0     0     0    -2    -3
## 10 2020-02-24    -1    -1     4    -1     0     0     0     4     0    16     0
## # ... with 104 more rows, and 24 more variables: FI &amp;lt;dbl&amp;gt;, FR &amp;lt;dbl&amp;gt;, GB &amp;lt;dbl&amp;gt;,
## #   GR &amp;lt;dbl&amp;gt;, HR &amp;lt;dbl&amp;gt;, HU &amp;lt;dbl&amp;gt;, IE &amp;lt;dbl&amp;gt;, IT &amp;lt;dbl&amp;gt;, LT &amp;lt;dbl&amp;gt;, LU &amp;lt;dbl&amp;gt;,
## #   LV &amp;lt;dbl&amp;gt;, MD &amp;lt;dbl&amp;gt;, MK &amp;lt;dbl&amp;gt;, NL &amp;lt;dbl&amp;gt;, NO &amp;lt;dbl&amp;gt;, PL &amp;lt;dbl&amp;gt;, PT &amp;lt;dbl&amp;gt;,
## #   RO &amp;lt;dbl&amp;gt;, RS &amp;lt;dbl&amp;gt;, RU &amp;lt;dbl&amp;gt;, SE &amp;lt;dbl&amp;gt;, SI &amp;lt;dbl&amp;gt;, SK &amp;lt;dbl&amp;gt;, UA &amp;lt;dbl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# tabla larga
pivot_longer(mobi_wide,
             2:36,
             names_to = &amp;quot;country_code&amp;quot;,
             values_to = &amp;quot;resi&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3,990 x 3
##    date       country_code  resi
##    &amp;lt;date&amp;gt;     &amp;lt;chr&amp;gt;        &amp;lt;dbl&amp;gt;
##  1 2020-02-15 AT              -2
##  2 2020-02-15 BA              -1
##  3 2020-02-15 BE              -1
##  4 2020-02-15 BG               0
##  5 2020-02-15 BY              -1
##  6 2020-02-15 CH              -1
##  7 2020-02-15 CZ              -2
##  8 2020-02-15 DE              -1
##  9 2020-02-15 DK               0
## 10 2020-02-15 EE               0
## # ... with 3,980 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Otro grupo de funciones a las que deberías echar un vistazo son: &lt;code&gt;separate()&lt;/code&gt;, &lt;code&gt;case_when()&lt;/code&gt;, &lt;code&gt;complete()&lt;/code&gt;. Podemos encontrar más detalles en el &lt;a href=&#34;https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf&#34;&gt;Cheat-Sheet&lt;/a&gt; de &lt;code&gt;dplyr&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;visualizar-datos&#34; class=&#34;section level2&#34; number=&#34;4.5&#34;&gt;
&lt;h2&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.5&lt;/span&gt; Visualizar datos&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ggplot2&lt;/code&gt; es un sistema moderno, y con una enorme variedad de opciones, para visualización de datos. A diferencia del sistema gráfico de &lt;em&gt;R Base&lt;/em&gt; se utiliza una gramática diferente.
La gramática de los gráficos (&lt;em&gt;grammar of graphics&lt;/em&gt;, de allí “gg”) consiste en la suma de varias capas u objetos independientes que se combinan usando &lt;code&gt;+&lt;/code&gt; para construir el gráfico final. &lt;code&gt;ggplot&lt;/code&gt; diferencia entre los datos, lo que se visualiza y la forma en que se visualiza.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;data&lt;/em&gt;: nuestro conjunto de datos (&lt;code&gt;data.frame&lt;/code&gt; o &lt;code&gt;tibble&lt;/code&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;aesthetics&lt;/em&gt;: con la función &lt;code&gt;aes()&lt;/code&gt; indicamos las variables que corresponden a los ejes x, y, z,… o, cuando se pretende aplicar parámetros gráficos (&lt;em&gt;color&lt;/em&gt;, &lt;em&gt;size&lt;/em&gt;, &lt;em&gt;shape&lt;/em&gt;) según una variable. Es posible incluir &lt;code&gt;aes()&lt;/code&gt; en &lt;code&gt;ggplot()&lt;/code&gt; o en la función correspondiente a una geometría &lt;code&gt;geom_*&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;geometries&lt;/em&gt;: son objetos &lt;code&gt;geom_*&lt;/code&gt; que indican la geometría a usar, (p. ej.: &lt;code&gt;geom_point()&lt;/code&gt;, &lt;code&gt;geom_line()&lt;/code&gt;, &lt;code&gt;geom_boxplot()&lt;/code&gt;, etc.).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;scales&lt;/em&gt;: son objetos de tipo &lt;code&gt;scales_*&lt;/code&gt; (p. ej.: &lt;code&gt;scale_x_continous()&lt;/code&gt;, &lt;code&gt;scale_colour_manual()&lt;/code&gt;) para manipular las ejes, definir colores, etc.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;statistics&lt;/em&gt;: son objetos &lt;code&gt;stat_*&lt;/code&gt; (p.ej.: &lt;code&gt;stat_density()&lt;/code&gt;) que permiten aplicar transformaciones estadísticas.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Podemos encontrar más detalles en el &lt;a href=&#34;https://github.com/rstudio/cheatsheets/raw/master/data-visualization-2.1.pdf&#34;&gt;Cheat-Sheet&lt;/a&gt; de &lt;code&gt;ggplot2&lt;/code&gt;. &lt;code&gt;ggplot&lt;/code&gt; es complementado constantemente con extensiones para geometrías u otras opciones gráficas (&lt;a href=&#34;https://exts.ggplot2.tidyverse.org/ggiraph.html&#34; class=&#34;uri&#34;&gt;https://exts.ggplot2.tidyverse.org/ggiraph.html&lt;/a&gt;), para obtener ideas gráficas, debes echarle un vistazo a la Galería de Gráficos R (&lt;a href=&#34;https://www.r-graph-gallery.com/&#34; class=&#34;uri&#34;&gt;https://www.r-graph-gallery.com/&lt;/a&gt;).&lt;/p&gt;
&lt;div id=&#34;gráfico-de-linea-y-puntos&#34; class=&#34;section level3&#34; number=&#34;4.5.1&#34;&gt;
&lt;h3&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.5.1&lt;/span&gt; Gráfico de linea y puntos&lt;/h3&gt;
&lt;p&gt;Creamos un subconjunto de nuestros datos de movilidad para residencias y parques, filtrando los registros de regiones italianas. Además, dividimos los valores de movilidad en porcentaje por 100 para obtener la fracción, ya que &lt;code&gt;ggplot2&lt;/code&gt; nos permite indicar la unidad de porcentaje en el argumento de las etiquetas (último gráfico de esta sección).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# creamos el subconjunto
it &amp;lt;- filter(google_mobility, 
             country_region == &amp;quot;Italy&amp;quot;, 
             is.na(sub_region_1)) %&amp;gt;% 
      mutate(resi = residential_percent_change_from_baseline/100,   
             parks = parks_percent_change_from_baseline/100)


# gráfico de línea 
ggplot(it, 
       aes(date, resi)) + 
  geom_line()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/index.es_files/figure-html/unnamed-chunk-20-1.png&#34; width=&#34;2100&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# gráfico de dispersión con línea de correlación
ggplot(it, 
       aes(parks, resi)) + 
  geom_point() +
  geom_smooth(method = &amp;quot;lm&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `geom_smooth()` using formula &amp;#39;y ~ x&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/index.es_files/figure-html/unnamed-chunk-20-2.png&#34; width=&#34;2100&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Para modificar los ejes, empleamos las diferentes funciones de &lt;code&gt;scale_*&lt;/code&gt; que debemos adpatar a las escalas de medición (&lt;em&gt;date&lt;/em&gt;, &lt;em&gt;discrete&lt;/em&gt;, &lt;em&gt;continuous&lt;/em&gt;, etc.). La función &lt;code&gt;labs()&lt;/code&gt; nos ayuda en definir los títulos de ejes, del gráfico y de la leyenda. Por último, añadimos con &lt;code&gt;theme_light()&lt;/code&gt; el estilo del gráfico (otros son &lt;code&gt;theme_bw()&lt;/code&gt;, &lt;code&gt;theme_minimal()&lt;/code&gt;, etc.). También podríamos hacer cambios de todos los elementos gráficos a través de &lt;code&gt;theme()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# time serie plot
ggplot(it, 
       aes(date, resi)) + 
  geom_line(colour = &amp;quot;#560A86&amp;quot;, size = 0.8) +
  scale_x_date(date_breaks = &amp;quot;10 days&amp;quot;, 
               date_labels = &amp;quot;%d %b&amp;quot;) +
  scale_y_continuous(breaks = seq(-0.1, 1, 0.1), 
                     labels = scales::percent) +
  labs(x = &amp;quot;&amp;quot;, 
       y = &amp;quot;Residential mobility&amp;quot;,
       title = &amp;quot;Mobility during COVID-19&amp;quot;) +
  theme_light()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/index.es_files/figure-html/unnamed-chunk-21-1.png&#34; width=&#34;2100&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# scatter plot
ggplot(it, 
       aes(parks, resi)) + 
  geom_point(alpha = .4, size = 2) +
  geom_smooth(method = &amp;quot;lm&amp;quot;) +
  scale_x_continuous(breaks = seq(-1, 1.4, 0.2), 
                     labels = scales::percent) +
  scale_y_continuous(breaks = seq(-1, 1, 0.1), 
                     labels = scales::percent) +
  labs(x = &amp;quot;Park mobility&amp;quot;, 
       y = &amp;quot;Residential mobility&amp;quot;,
       title = &amp;quot;Mobility during COVID-19&amp;quot;) +
  theme_light()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `geom_smooth()` using formula &amp;#39;y ~ x&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/index.es_files/figure-html/unnamed-chunk-21-2.png&#34; width=&#34;2100&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;boxplot&#34; class=&#34;section level3&#34; number=&#34;4.5.2&#34;&gt;
&lt;h3&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.5.2&lt;/span&gt; Boxplot&lt;/h3&gt;
&lt;p&gt;Podemos visualizar diferentes aspectos de los datos de movilidad con otras geometrías. Aquí creamos &lt;em&gt;boxplots&lt;/em&gt; por cada país europeo representando la variabilidad de movilidad entre y en los países durante la pandemia del COVID-19.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# subconjunto
subset_europe_reg &amp;lt;- filter(residential_mobility, 
                           !is.na(sub_region_1),
                           !is.na(resi)) %&amp;gt;%
                     left_join(wld, by = c(&amp;quot;country_region_code&amp;quot;=&amp;quot;iso_a2&amp;quot;)) %&amp;gt;% 
                     filter(subregion %in% c(&amp;quot;Northern Europe&amp;quot;,
                                         &amp;quot;Southern Europe&amp;quot;,
                                          &amp;quot;Western Europe&amp;quot;,
                                          &amp;quot;Eastern Europe&amp;quot;)) %&amp;gt;% 
                     mutate(resi = resi/100, 
                            country_region = fct_reorder(country_region, resi))

# boxplot
ggplot(subset_europe_reg, 
       aes(country_region, resi, fill = subregion)) + 
  geom_boxplot() +
  scale_y_continuous(breaks = seq(-0.1, 1, 0.1), labels = scales::percent) +
  scale_fill_brewer(palette = &amp;quot;Set1&amp;quot;) +
  coord_flip() +
   labs(x = &amp;quot;&amp;quot;, 
       y = &amp;quot;Residential mobility&amp;quot;,
       title = &amp;quot;Mobility during COVID-19&amp;quot;, 
       fill = &amp;quot;&amp;quot;) +
  theme_minimal()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/index.es_files/figure-html/unnamed-chunk-22-1.png&#34; width=&#34;2100&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;heatmap&#34; class=&#34;section level3&#34; number=&#34;4.5.3&#34;&gt;
&lt;h3&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.5.3&lt;/span&gt; Heatmap&lt;/h3&gt;
&lt;p&gt;Para visualizar la tendencia de todos los países europeos es recomendable usar un &lt;em&gt;heatmap&lt;/em&gt; en lugar de un bulto de líneas. Antes de constuir el gráfico, creamos un vector de fechas para las etiquetas con los domingos en el período de registros.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# secuencia de fechas
df &amp;lt;- data.frame(d = seq(ymd(&amp;quot;2020-02-15&amp;quot;), ymd(&amp;quot;2020-06-07&amp;quot;), &amp;quot;day&amp;quot;))

# filtramos los domingos creando el día de la semana
sundays &amp;lt;- df %&amp;gt;% 
            mutate(wd = wday(d, week_start = 1)) %&amp;gt;% 
             filter(wd == 7) %&amp;gt;% 
              pull(d)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Si queremos usar etiquetas en otras lenguas, es necesario cambiar la configuración regional del sistema.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;Sys.setlocale(&amp;quot;LC_TIME&amp;quot;, &amp;quot;English&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;English_United States.1252&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;El relleno de color para los boxplots lo dibujamos por cada región de los países europeos. Podemos fijar el tipo de color con &lt;code&gt;scale_fill_*&lt;/code&gt;, en este caso, de las gamas &lt;em&gt;viridis&lt;/em&gt;.&lt;br /&gt;
Además, la función &lt;code&gt;guides()&lt;/code&gt; nos permite modificar la barra de color de la leyenda. Por último, aquí vemos el uso de &lt;code&gt;theme()&lt;/code&gt; con cambios adicionales a &lt;code&gt;theme_minimal()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# headmap
ggplot(subset_europe, 
       aes(date, region, fill = resi_real)) +
  geom_tile() +
  scale_x_date(breaks = sundays,
               date_labels = &amp;quot;%d %b&amp;quot;) +
  scale_fill_viridis_c(option = &amp;quot;A&amp;quot;, 
                       breaks = c(91, 146),
                       labels = c(&amp;quot;Less&amp;quot;, &amp;quot;More&amp;quot;), 
                       direction = -1) +
  theme_minimal() +
  theme(legend.position = &amp;quot;top&amp;quot;, 
        title = element_text(size = 14),
        panel.grid.major.x = element_line(colour = &amp;quot;white&amp;quot;, linetype = &amp;quot;dashed&amp;quot;),
        panel.grid.minor.x = element_blank(),
        panel.grid.major.y = element_blank(),
        panel.ontop = TRUE,
        plot.margin = margin(r = 1, unit = &amp;quot;cm&amp;quot;)) +
  labs(y = &amp;quot;&amp;quot;, 
       x = &amp;quot;&amp;quot;, 
       fill = &amp;quot;&amp;quot;, 
       title = &amp;quot;Mobility trends for places of residence&amp;quot;,
       caption = &amp;quot;Data: google.com/covid19/mobility/&amp;quot;) +
  guides(fill = guide_colorbar(barwidth = 10, 
                               barheight = .5,
                               label.position = &amp;quot;top&amp;quot;, 
                               ticks = FALSE)) +
  coord_cartesian(expand = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dominicroye.github.io/es/2020/una-muy-breve-introducci%C3%B3n-a-tidyverse/index.es_files/figure-html/unnamed-chunk-25-1.png&#34; width=&#34;3675&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;aplicar-funciones-sobre-vectores-o-listas&#34; class=&#34;section level2&#34; number=&#34;4.6&#34;&gt;
&lt;h2&gt;&lt;span class=&#34;header-section-number&#34;&gt;4.6&lt;/span&gt; Aplicar funciones sobre vectores o listas&lt;/h2&gt;
&lt;p&gt;El paquete &lt;code&gt;purrr&lt;/code&gt; contiene un conjunto de funciones avanzadas de programación funcional para trabajar con funciones y vectores. La familia de funciones &lt;code&gt;lapply()&lt;/code&gt; conocido de &lt;code&gt;R Base&lt;/code&gt;corresponde a las funciones de &lt;code&gt;map()&lt;/code&gt; en este paquete. Una de las mayores ventajas es poder reducir el uso de bucles (&lt;code&gt;for&lt;/code&gt;, etc.).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# lista con dos vectores
vec_list &amp;lt;- list(x = 1:10, y = 50:70)

# calculamos el promedio para cada uno
map(vec_list, mean)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## $x
## [1] 5.5
## 
## $y
## [1] 60&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# podemos cambiar tipo de salida map_* (dbl, chr, lgl, etc.)
map_dbl(vec_list, mean)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    x    y 
##  5.5 60.0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Un ejemplo más complejo. Calculamos el coeficiente de correlación entre la movilidad residencial y la de los parques en todos los países europeos. Para obtener un resumen &lt;em&gt;tidy&lt;/em&gt; de un modelo o un test usamos la función &lt;code&gt;tidy()&lt;/code&gt; del paquete &lt;code&gt;broom&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(broom) # tidy outputs

# función adaptada 
cor_test &amp;lt;- function(x, formula) { 
  
df &amp;lt;- cor.test(as.formula(formula), data = x) %&amp;gt;% tidy()

return(df)
  
}

# preparamos los datos
europe_reg &amp;lt;- filter(google_mobility, 
                           !is.na(sub_region_1),
                           !is.na(residential_percent_change_from_baseline)) %&amp;gt;%
                     left_join(wld, by = c(&amp;quot;country_region_code&amp;quot;=&amp;quot;iso_a2&amp;quot;)) %&amp;gt;% 
                     filter(subregion %in% c(&amp;quot;Northern Europe&amp;quot;,
                                         &amp;quot;Southern Europe&amp;quot;,
                                          &amp;quot;Western Europe&amp;quot;,
                                          &amp;quot;Eastern Europe&amp;quot;))
# aplicamos la función a cada país creando una lista
europe_reg %&amp;gt;%
  split(.$country_region_code) %&amp;gt;% 
  map(cor_test, formula = &amp;quot;~ residential_percent_change_from_baseline + parks_percent_change_from_baseline&amp;quot;)  &lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## $AT
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1   -0.360     -12.3 2.68e-32      1009   -0.413    -0.305 Pearson&amp;#39;~ two.sided  
## 
## $BE
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1   -0.312     -6.06  3.67e-9       340   -0.405    -0.213 Pearson&amp;#39;~ two.sided  
## 
## $BG
## # A tibble: 1 x 8
##   estimate statistic   p.value parameter conf.low conf.high method   alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;      
## 1   -0.677     -37.8 1.47e-227      1694   -0.702    -0.650 Pearson~ two.sided  
## 
## $CH
## # A tibble: 1 x 8
##   estimate statistic p.value parameter conf.low conf.high method     alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;      
## 1  -0.0786     -2.91 0.00370      1360   -0.131   -0.0256 Pearson&amp;#39;s~ two.sided  
## 
## $CZ
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1  -0.0837     -3.35 0.000824      1593   -0.132   -0.0347 Pearson&amp;#39;~ two.sided  
## 
## $DE
## # A tibble: 1 x 8
##   estimate statistic p.value parameter conf.low conf.high method     alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;      
## 1  0.00239     0.102   0.919      1814  -0.0436    0.0484 Pearson&amp;#39;s~ two.sided  
## 
## $DK
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1    0.237      5.81  1.04e-8       567    0.158     0.313 Pearson&amp;#39;~ two.sided  
## 
## $EE
## # A tibble: 1 x 8
##   estimate statistic p.value parameter conf.low conf.high method     alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;      
## 1   -0.235     -2.88 0.00462       142   -0.384   -0.0740 Pearson&amp;#39;s~ two.sided  
## 
## $ES
## # A tibble: 1 x 8
##   estimate statistic p.value parameter conf.low conf.high method     alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;      
## 1   -0.825     -65.4       0      2005   -0.839    -0.811 Pearson&amp;#39;s~ two.sided  
## 
## $FI
## # A tibble: 1 x 8
##   estimate statistic p.value parameter conf.low conf.high method     alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;      
## 1   0.0427      1.42   0.155      1106  -0.0162     0.101 Pearson&amp;#39;s~ two.sided  
## 
## $FR
## # A tibble: 1 x 8
##   estimate statistic   p.value parameter conf.low conf.high method   alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;      
## 1   -0.698     -37.4 3.29e-216      1474   -0.723    -0.671 Pearson~ two.sided  
## 
## $GB
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1   -0.105     -11.0 9.19e-28     10712   -0.124   -0.0865 Pearson&amp;#39;~ two.sided  
## 
## $GR
## # A tibble: 1 x 8
##   estimate statistic   p.value parameter conf.low conf.high method   alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;      
## 1   -0.692     -27.0 1.03e-114       796   -0.726    -0.654 Pearson~ two.sided  
## 
## $HR
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1   -0.579     -21.9 9.32e-87       954   -0.620    -0.536 Pearson&amp;#39;~ two.sided  
## 
## $HU
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1   -0.342     -15.6 6.71e-52      1843   -0.382    -0.301 Pearson&amp;#39;~ two.sided  
## 
## $IE
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1   -0.222     -8.45 7.49e-17      1378   -0.271    -0.171 Pearson&amp;#39;~ two.sided  
## 
## $IT
## # A tibble: 1 x 8
##   estimate statistic p.value parameter conf.low conf.high method     alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;      
## 1   -0.831     -71.0       0      2250   -0.844    -0.818 Pearson&amp;#39;s~ two.sided  
## 
## $LT
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1   -0.204     -5.45  7.17e-8       686   -0.274    -0.131 Pearson&amp;#39;~ two.sided  
## 
## $LV
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1   -0.544     -6.87 3.84e-10       112   -0.662    -0.401 Pearson&amp;#39;~ two.sided  
## 
## $NL
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1    0.143      5.31  1.25e-7      1356   0.0903     0.195 Pearson&amp;#39;~ two.sided  
## 
## $NO
## # A tibble: 1 x 8
##   estimate statistic p.value parameter conf.low conf.high method     alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;      
## 1   0.0483      1.69  0.0911      1221 -0.00774     0.104 Pearson&amp;#39;s~ two.sided  
## 
## $PL
## # A tibble: 1 x 8
##   estimate statistic   p.value parameter conf.low conf.high method   alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;      
## 1   -0.531     -26.7 6.08e-133      1815   -0.564    -0.498 Pearson~ two.sided  
## 
## $PT
## # A tibble: 1 x 8
##   estimate statistic   p.value parameter conf.low conf.high method   alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;      
## 1   -0.729     -46.9 2.12e-321      1938   -0.749    -0.707 Pearson~ two.sided  
## 
## $RO
## # A tibble: 1 x 8
##   estimate statistic p.value parameter conf.low conf.high method     alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;      
## 1   -0.640     -56.0       0      4517   -0.657    -0.623 Pearson&amp;#39;s~ two.sided  
## 
## $SE
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1    0.106      3.93  9.09e-5      1367   0.0529     0.158 Pearson&amp;#39;~ two.sided  
## 
## $SI
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1   -0.627     -11.4 1.98e-23       200   -0.704    -0.535 Pearson&amp;#39;~ two.sided  
## 
## $SK
## # A tibble: 1 x 8
##   estimate statistic  p.value parameter conf.low conf.high method    alternative
##      &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;      
## 1   -0.196     -5.70  1.65e-8       810   -0.262    -0.129 Pearson&amp;#39;~ two.sided&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Como ya hemos visto anteriormente, existen subfunciones de &lt;code&gt;map_*&lt;/code&gt; para obtener en lugar de una lista un objeto de otra clase, aquí de &lt;code&gt;data.frame&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;cor_mobility &amp;lt;- europe_reg %&amp;gt;%
                  split(.$country_region_code) %&amp;gt;% 
                     map_df(cor_test, 
                            formula = &amp;quot;~ residential_percent_change_from_baseline + parks_percent_change_from_baseline&amp;quot;, 
                            .id = &amp;quot;country_code&amp;quot;)

arrange(cor_mobility, estimate)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 27 x 9
##    country_code estimate statistic   p.value parameter conf.low conf.high method
##    &amp;lt;chr&amp;gt;           &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt; 
##  1 IT             -0.831    -71.0  0              2250   -0.844    -0.818 Pears~
##  2 ES             -0.825    -65.4  0              2005   -0.839    -0.811 Pears~
##  3 PT             -0.729    -46.9  2.12e-321      1938   -0.749    -0.707 Pears~
##  4 FR             -0.698    -37.4  3.29e-216      1474   -0.723    -0.671 Pears~
##  5 GR             -0.692    -27.0  1.03e-114       796   -0.726    -0.654 Pears~
##  6 BG             -0.677    -37.8  1.47e-227      1694   -0.702    -0.650 Pears~
##  7 RO             -0.640    -56.0  0              4517   -0.657    -0.623 Pears~
##  8 SI             -0.627    -11.4  1.98e- 23       200   -0.704    -0.535 Pears~
##  9 HR             -0.579    -21.9  9.32e- 87       954   -0.620    -0.536 Pears~
## 10 LV             -0.544     -6.87 3.84e- 10       112   -0.662    -0.401 Pears~
## # ... with 17 more rows, and 1 more variable: alternative &amp;lt;chr&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Otros ejemplos prácticos aquí en este &lt;a href=&#34;https://dominicroye.github.io/es/2019/importar-varias-hojas-excel-en-r/&#34;&gt;post&lt;/a&gt; or este &lt;a href=&#34;https://dominicroye.github.io/en/2019/tidy-correlation-tests-in-r/&#34;&gt;otro&lt;/a&gt;. Podemos encontrar más detalles en el &lt;a href=&#34;https://github.com/rstudio/cheatsheets/raw/master/purrr.pdf&#34;&gt;Cheat-Sheet&lt;/a&gt; de &lt;code&gt;purrr&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Predictive value of three thermal confort indices in low temperatures on cardiovascular morbidity in the Iberian Peninsula</title>
      <link>https://dominicroye.github.io/es/publication/ingresos_cardio_2020/</link>
      <pubDate>Tue, 28 Apr 2020 00:00:00 +0000</pubDate>
      
      <guid>https://dominicroye.github.io/es/publication/ingresos_cardio_2020/</guid>
      <description></description>
    </item>
    
  </channel>
</rss>
